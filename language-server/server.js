/*! For license information please see server.js.LICENSE.txt */
(()=>{var __webpack_modules__={3506:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(8786),o=n(1555);class a{static checkPublicKey(e){const t=[];if("value_address"!==e.type)return t;const n=a.checkValue(e);n&&t.push(n);const r=a.checkValueSyntax(e);return r&&t.push(r),t}static checkValue(e){if("value_address"!==e.type)return null;const t=e.text;return void 0===i.bech32.decodeUnsafe(t)&&t?r.Diagnostic.create(o.default.range(e),"Account creation failed due to `bech32: InvalidChecksum`.",r.DiagnosticSeverity.Error):null}static checkValueSyntax(e){if("value_address"!==e.type)return null;return e.text.match(/^aleo1[\d\w]{58}$/)?null:r.Diagnostic.create(o.default.range(e),"Invalid address literal.",r.DiagnosticSeverity.Error)}}t.default=a},5550:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(1555);class o{static checkAll(e){const t=[];return"annotation"!==e.type||(t.push(...o.checkWhiteSpaces(e)),t.push(...o.checkDeprecated(e)),t.push(...o.checkArguments(e))),t}static checkArguments(e){var t;const n=[];if("annotation"!==e.type)return n;const o=i.default.getNodeByType(e,"ERROR");return o&&n.push(r.Diagnostic.create(i.default.range(e),`Expected 'identifier or integer', got '${(null===(t=o.lastChild)||void 0===t?void 0:t.text)||o.text}'`,r.DiagnosticSeverity.Error)),n}static checkWhiteSpaces(e){const t=[];if("annotation"!==e.type)return t;if(!e.text.match(/^@(?:context|test|[\w\d]+)/)){const n=e.text.replace("@","").trim();t.push(r.Diagnostic.create(i.default.range(e),`Unexpected white space between terms ${n} and @.`,r.DiagnosticSeverity.Error))}return t}static checkDeprecated(e){const t=[];return"annotation"!==e.type||e.text.startsWith("@context")&&t.push(r.Diagnostic.create(i.default.range(e),'"@context(...)" is deprecated. Did you mean @test annotation?',r.DiagnosticSeverity.Error)),t}}t.default=o},4235:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(3542),s=n(2374),c=n(1555),u=n(5944),l=n(6920),d=n(9364),f=n(8151),p=n(3950),h=n(8194),m=n(2446);let g=r=class{checkArrayType(e,t){var n;const r=[];if(!["expression_array_initializer","expression_array_inline"].includes(e.type))return r;const i=c.default.getBinaryOperationNode(e);if(i&&!["operation_eq","operation_ne"].includes(i.type))return r.push(s.Diagnostic.create(c.default.range(i),`Unexpected array operation, expected: '==' or '!=', received: '${i.text}'`,s.DiagnosticSeverity.Error)),r;const o=c.default.getUnaryOperationNode(e);if(o)return r.push(s.Diagnostic.create(c.default.range(o),`Unexpected array operation '${o.text}'`,s.DiagnosticSeverity.Error)),r;const a=c.default.getAssigneeOperationNode(e);if(a&&"operation_assign"!==a.type)return r.push(s.Diagnostic.create(c.default.range(a),`Unexpected array operation '${a.text}'`,s.DiagnosticSeverity.Error)),r;if(!t.endsWith(".state")&&!t.endsWith(".in")){if(!this.cache.get(t))return r}const u=e.parent,l=u.parent;if("statement_declaration"===l.type){const n=c.default.getSelfNamedChildByTypes(l,["variables"]),i=n.lastNamedChild;if("identifier"===i.type){if(0===e.namedChildCount)r.push(s.Diagnostic.create(c.default.range(n),`Failed to resolve type for variable definition '${i.text}'`,s.DiagnosticSeverity.Error));else{const e=this.dataTypeParser.getStatementDeclarationDataType(u,t);e&&r.push(...this.compareArrayMismatch(u,e,t))}return r}r.push(...this.compareArrayMismatch(u,i.text,t))}if("access_call"===l.type){const e=this.functionsService.getParametersOfCalledFunction(l,t),i=c.default.getNodeIndex(u);-1!==i&&e.length>=i&&(null===(n=e[i])||void 0===n?void 0:n.type)&&r.push(...this.compareArrayMismatch(u,e[i].type,t))}return r}compareArrayMismatch(e,t,n){const r=[];if(!t.match(/^\[/))return r;const{itemType:i,dimension:o}=d.default.parseArrayTypeString(t),a=e.firstNamedChild;return"expression_array_inline"===a.type&&r.push(...this.compareInlineArrayItemsTypes(e,i,n)),"expression_array_initializer"===a.type&&r.push(...this.compareArrayItemType(e.firstNamedChild,i,n)),r.push(...this.compareArrayDimension(e.firstNamedChild,o,n)),r}compareInlineArrayItemsTypes(e,t,n){const r=[];return c.default.getNamedChildrenNodesByPath(e,["expression_array_inline",["spread","expression"]]).forEach((e=>{r.push(...this.compareArrayItemType(e,t,n))})),r}compareArrayItemType(e,t,n){const i=[],o="spread"===e.type,a=o?c.default.getSelfNamedChildByTypes(e,["expression"]):e;let u=this.dataTypeParser.getStatementDeclarationDataType(a,n);if(d.default.isTupleSyntaxArray(e.text)){const{itemType:t}=d.default.parseArrayTypeString(e.text),{dimension:n}=d.default.parseArrayTypeString(t);u=`[${u}; ${n}]`}if([t,u].includes("field")&&p.default.isAllowedNumber(t,u))return i;if(o&&u){d.default.parseArrayItemTypeFromTypeStr(u)!==t&&i.push(s.Diagnostic.create(c.default.range(a),`Unexpected type, expected: '[${t}; ?]', received: '${u}'`,s.DiagnosticSeverity.Error))}else-1!==u.indexOf("[")&&"expression_array_initializer"!==e.type&&d.default.isArrayExpression(a)?i.push(...this.compareArrayMismatch(a,t,n)):!u||u.replace(" ","")===t.replace(" ","")||p.default.isNumberTypeMatch(t,u)||r.isSameArrayOfNumberTypes(t,u)?u&&"integer"===u&&!p.default.isNumberTypeMatch(t,u)&&i.push(s.Diagnostic.create(c.default.range(a),`Unexpected type, expected: '${t}', received: '${u}'`,s.DiagnosticSeverity.Error)):i.push(s.Diagnostic.create(c.default.range(a),`Unexpected type, expected: '${t}', received: '${u}'`,s.DiagnosticSeverity.Error));return i}compareArrayDimension(e,t,n){const r=[];let i="";if("expression_array_inline"===e.type&&(i=this.dataTypeParser.parseInlineArrayDimension(e,n)),"expression_array_initializer"===e.type){const t=c.default.getNodeByPath(e,["array_dimensions"]);i=d.default.getRealArrayDimension(t.text)}return(parseInt(i)||0)!==t&&t>0&&r.push(s.Diagnostic.create(c.default.range(e),`Unexpected type, expected: 'array of length ${t}', received: 'array of length ${i||0}'`,s.DiagnosticSeverity.Error)),r}static isSameArrayOfNumberTypes(e,t){if(!e.match(/integer/)&&!t.match(/integer/))return!1;const{itemType:n}=d.default.parseArrayTypeString(e),{itemType:r}=d.default.parseArrayTypeString(t);return p.default.isNumberTypeMatch(n,r)||p.default.isNumberTypeMatch(r,n)}static isArrayType(e){return!!e.trim().match(/^\[/)}static checkExplicitArrayTypeExpression(e,t,n){const i=[];return!r.isArrayType(e)||e===t||!t.match(/^\[char;.*\]$/)&&r.isArrayType(t)||i.push(s.Diagnostic.create(c.default.range(n),`Unexpected type, expected: '${e}', received: '${t}'`,s.DiagnosticSeverity.Error)),i}static compareArrayTypes(e,t,n){const i=[];d.default.isTupleSyntaxArray(t)&&(e=d.default.convertTupleSyntaxArrayType(e),t=d.default.convertTupleSyntaxArrayType(t));const o=d.default.parseArrayTypeString(e),a=d.default.parseArrayTypeString(t);return a.dimension!==o.dimension?i.push(s.Diagnostic.create(c.default.range(n),`Unexpected type, expected: 'array of length ${o.dimension}', received: 'array of length ${a.dimension}'`,s.DiagnosticSeverity.Error)):t.match(/integer/)?r.isSameArrayOfNumberTypes(e,t)||i.push(s.Diagnostic.create(c.default.range(n),`Unexpected type, expected: '${e}', received: '${t}'`,s.DiagnosticSeverity.Error)):a.itemType!==o.itemType&&i.push(s.Diagnostic.create(c.default.range(n),`Unexpected type, expected: '${e}', received: '${t}'`,s.DiagnosticSeverity.Error)),i}checkOutOfIndexAccess(e,t){const n=[],r=h.default.getArrayAccessIndex(e),i=h.default.getArrayIdFromAccessNode(e);if("number"==typeof r&&i){const o=this.cache.get(t),a=m.default.getFunctionAstFromChildNode(e,o),l=u.default.findAnyInFunction(a,i);if(l&&d.default.isArrayType(l.type)){const t=d.default.parseArrayTypeString(l.type);(r<0||r>=t.dimension)&&n.push(s.Diagnostic.create(c.default.range(e),`Array index out of bounds: '${r}'`,s.DiagnosticSeverity.Error))}}return n}};i([a.inject(l.TYPE.FunctionsService),o("design:type",u.default)],g.prototype,"functionsService",void 0),i([a.inject(l.TYPE.Cache),o("design:type",f.default)],g.prototype,"cache",void 0),i([a.inject(l.TYPE.DataTypeParser),o("design:type",d.default)],g.prototype,"dataTypeParser",void 0),g=r=i([a.injectable()],g),t.default=g},9157:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(1555);class o{static checkImplicitWhitespaces(e){const t=[];return e.text.match(/\s+/)&&t.push(r.Diagnostic.create(i.default.range(e),"Forbidden whitespaces",r.DiagnosticSeverity.Error)),t}static checkValueGroupImplicitWhitespaces(e){const t=[];return i.default.getNodeByPath(e,["group_tuple"])?(e.text.match(/\)group/)||t.push(r.Diagnostic.create(i.default.range(e),"Forbidden whitespaces",r.DiagnosticSeverity.Error)),t):o.checkImplicitWhitespaces(e)}static checkExpressionPostfixImplicitWhitespaces(e){const t=[];let n=0;return e.children.forEach((function(e){n+=e.text.length})),e.text.length>n&&t.push(r.Diagnostic.create(i.default.range(e),"Forbidden whitespaces",r.DiagnosticSeverity.Error)),t}}t.default=o},5891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(1555);t.default=class{static checkLength(e){const t=i.default.calculateStringLength(e);return 0===t?[r.Diagnostic.create(i.default.range(e),"Value can not be empty.",r.DiagnosticSeverity.Error)]:"value_char"===e.type&&1!==t?[r.Diagnostic.create(i.default.range(e),"Char value must contain 1 symbol.",r.DiagnosticSeverity.Error)]:[]}}},8200:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(2374),s=n(6920),c=n(1555),u=n(4424),l=n(3359),d=n(5226),f=n(8151),p=n(4269),h=n(8768);let m=class{checkCircuitExist(e,t){const n=[],r=this.cache.get(t);let i=c.default.getNodeByType(e,"keyword_or_identifier");if("expression_circuit_inline"===e.type&&(i=c.default.getNodeByTypes(e,["type_self","identifier"])),r&&i){const o=i.text;if("expression_postfix"===e.type&&!d.default.isStaticAccessExpression(e))return n;if("Self"===o)return n;const s=r.circuits,u=this.cache.getAllImportedItemsByType("circuit_declaration",t);!!l.default.findByNameAndAlias([...s,...u],o)||n.push(a.Diagnostic.create(c.default.range(i),"Circuit doesn't exist",a.DiagnosticSeverity.Error))}return n}static checkCircuitName(e){const t=c.default.getNodeByType(e,"identifier");return t?u.default.checkPascalCaseName(t):[]}static checkCircuitDefinitionName(e){const t=[],n=c.default.getNodeByType(e,"identifier"),r=u.default.checkSnakeCaseName(n,e.type);return t.push(...r),t}static checkStaticMemberCircuitName(e){let t=null;const n=c.default.getNamedParentByPath(e,["access","expression_postfix"]);return t=c.default.getNodeByType(n,"keyword_or_identifier"),t?u.default.checkPascalCaseName(t):[]}static checkStaticMemberName(e){const t=c.default.getNodeByType(e,"identifier");return u.default.checkSnakeCaseName(t,e.type)}checkCircuitExpressionInline(e,t){const n=[],r=this.cache.get(t),i=c.default.getSelfNamedChildrenByTypes(e,["type_self","identifier"])[0];if(!i)return[];let o=i.text;const s=r.circuits,u=this.cache.getAllImportedItemsByType("circuit_declaration",t);"Self"===o&&(o=d.default.parseCircuitNameFromSelfNode(i));const f=l.default.findByNameAndAlias([...s,...u],o);if(f){let r=f.attributes;const o=[...c.default.getNamedChildrenNodesByPath(e,["circuit_variable_expression","identifier"]),...c.default.getNamedChildrenNodesByPath(e,["circuit_variable_identifier"])];r.length!==o.length&&n.push(a.Diagnostic.create(c.default.range(i),`Circuit expected ${r.length} variables, found ${o.length} variables.`,a.DiagnosticSeverity.Error));const s=[];r.forEach((e=>{const t=o.find((t=>t.text===e.name));t&&s.push({type:e.type,node:"circuit_variable_identifier"===t.type?t:t.nextNamedSibling})})),n.push(...this.dataTypeDiagnostic.checkArguments(s,t)),o.forEach((e=>{r.find((t=>t.name===e.text))?r=r.filter((t=>t.name!==e.text)):n.push(a.Diagnostic.create(c.default.range(e),`Circuit member \`${e.text}\` doesn't exist`,a.DiagnosticSeverity.Error))})),r.forEach((e=>{n.push(a.Diagnostic.create(c.default.range(i),`Expected circuit member \`${e.name}\``,a.DiagnosticSeverity.Error))}))}return n}checkCircuitMemberAccess(e,t){var n;const r=[],i=c.default.getNodeByType(e,"identifier"),o=c.default.getNamedParentByType(e,"access");if(o&&"access"===(null===(n=o.previousNamedSibling)||void 0===n?void 0:n.type))return r;let s=c.default.getNamedParentByTypes(e,["self_assignee","identifier_assignee"]);if(s||(s=c.default.getNamedParentByType(e,"expression_postfix")),!s)return r;const u=this.circuitService.getCircuitNameFromExpressionNode(s,t);if(s.text.startsWith("self.")&&r.push(...this.selfDiagnostic.checkSelfCallInFunctionAvailable(s,t)),i&&u){const e=this.circuitService.findFromLocalAndImported(u,t);if(e)if(l.default.isCircuitMethodCall(s)){const t=l.default.findMethodsByNameStrict(e.methods,i.text);t.length?t[0].isStatic&&!d.default.isStaticAccessExpression(s)?r.push(a.Diagnostic.create(c.default.range(i),`Static function '${i.text}' must be called using double colon '::' syntax.`,a.DiagnosticSeverity.Error)):!t[0].isStatic&&d.default.isStaticAccessExpression(s)&&r.push(a.Diagnostic.create(c.default.range(i),`Non static function '${i.text}' must be called using dot '.' syntax.`,a.DiagnosticSeverity.Error)):r.push(a.Diagnostic.create(c.default.range(i),`Illegal reference to non-existent member '${i.text}' of circuit '${e.name}'.`,a.DiagnosticSeverity.Error))}else l.default.findAttributesByNameStrict(e.attributes,i.text).length||r.push(a.Diagnostic.create(c.default.range(i),`Circuit '${e.name}' has no member '${i.text}'.`,a.DiagnosticSeverity.Error))}return r}checkMemberDuplication(e,t){const n=[],r=this.cache.get(t),i=c.default.getNamedParentByType(e,"circuit_declaration");if(!i)return n;const o=c.default.getNodeByPath(i,["identifier"]),s=c.default.getNodeByPath(e,["identifier"]);if(o&&s){const e=r.circuits,i=this.cache.getAllImportedItemsByType("circuit_declaration",t),u=l.default.findByNameAndAlias([...e,...i],o.text);if(u&&u.methods&&u.attributes){const e=[...u.attributes,...u.methods].filter((e=>e.name===s.text));if(e.length>1&&e[0].range.start.line===s.startPosition.row)for(let t=1;t<e.length;t++)n.push(a.Diagnostic.create(c.default.range(e[t].node),`Cannot declare circuit member '${e[t].name}' multiple times in circuit '${o.text}'`,a.DiagnosticSeverity.Error))}}return n}checkAttributeSeparator(e){const t=[],n=this.cache.get(e);return n?(n.circuits.forEach((e=>{const n=e.attributes.filter(((e,t,n)=>{const r=e.node.text.slice(-1)[0],i=e=>";"===e||","===e;return i(r)&&n.find((e=>{const t=e.node.text.slice(-1)[0];return i(e.node.text.slice(-1)[0])&&t!==r}))}));n.length&&t.push(a.Diagnostic.create(c.default.range(n[0].node),"Cannot mix use of commas and semi-colons for circuit member variable declarations.",a.DiagnosticSeverity.Error))})),t):t}};r([o.inject(s.TYPE.Cache),i("design:type",f.default)],m.prototype,"cache",void 0),r([o.inject(s.TYPE.CircuitService),i("design:type",l.default)],m.prototype,"circuitService",void 0),r([o.inject(s.TYPE.DataTypeDiagnostic),i("design:type",p.default)],m.prototype,"dataTypeDiagnostic",void 0),r([o.inject(s.TYPE.SelfDiagnostic),i("design:type",h.default)],m.prototype,"selfDiagnostic",void 0),m=r([o.injectable()],m),t.default=m},4269:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegerTypes=void 0;const a=n(3542),s=n(2374),c=n(1555),u=n(5944),l=n(6920),d=n(9364),f=n(1135),p=n(8151),h=n(2446),m=n(3950),g=n(4235);t.IntegerTypes={i8:"i8",i16:"i16",i32:"i32",i64:"i64",i128:"i128",u8:"u8",u16:"u16",u32:"u32",u64:"u64",u128:"u128"};let y=r=class{checkArguments(e,t){const n=[];return n.push(...e.reduce(((e,n)=>{if(n.node.hasError())return e;if("circuit_variable_identifier"===n.node.type)return e.push(...this.checkInlineCircuitVariableIdentifier(n,t)),e;let i=this.dataTypeParser.getStatementDeclarationDataType(n.node,t),o=null;const a=r.isIntType(n.type),s=c.default.getSelfNamedChildByTypes(n.node,["value_field","value_group","value_integer","value_number","value_boolean","value_address"]);i&&!a||!s||"value_number"!==s.type||(o=c.default.getSelfNamedChildByTypes(s,["number_positive"]));let u=n.type;return d.default.isTupleSyntaxArray(u)&&(u=d.default.convertTupleSyntaxArrayType(u)),d.default.isTupleSyntaxArray(i)&&(i=d.default.convertTupleSyntaxArrayType(i)),!a&&"integer"===i||"integer"!==i&&i.replace(" ","")!==u.replace(" ","")||!i&&!a?(e.push(this.mismatchType(o,n,i)),e):a?(e.push(...this.checkIntValue(o,n)),e):(d.default.isArrayType(i)&&!c.default.getNodeByPath(n.node,["identifier"])&&e.push(...this.arrayTypeDiagnostic.compareArrayMismatch(n.node,u,t)),e)}),[])),n}mismatchType(e,t,n){if(!n||e&&!r.isIntType(n)){const n=null!=e?e:t.node;return s.Diagnostic.create(c.default.range(t.node),`Mismatched types. Expected \`${t.type}\` input type, found \`${n.text}\`.`,s.DiagnosticSeverity.Error)}return s.Diagnostic.create(c.default.range(t.node),`Mismatched types. Expected type '${t.type}', found type '${n}'.`,s.DiagnosticSeverity.Error)}checkInlineCircuitVariableIdentifier(e,t){const n=[];if(c.default.getNamedParentByType(e.node,"function_declaration")){const{functions:r,circuits:i}=this.cache.get(t),o=s.Position.create(e.node.endPosition.row,e.node.endPosition.column),a=[...r,...i.reduce(((e,t)=>(e.push(...t.methods),e)),[])].filter((e=>c.default.isInScope(e.range,o)));if(a.length){const{parameters:t,statementDefinitions:r}=a[0],i=[...t,...r].filter((t=>t.name===e.node.text))[0];i&&e.type.replace(" ","")!==i.type.replace(" ","")&&n.push(s.Diagnostic.create(c.default.range(e.node),`Unexpected type, expected: '${e.type}', received: '${i.type}'.`,s.DiagnosticSeverity.Error))}}return n}checkIntValue(e,t){const n=[];return e&&!r.isIntValueInRange(t.type,e.text)&&n.push(s.Diagnostic.create(c.default.range(t.node),`Mismatched types. Failed to parse \`${e.text}\` as expected integer type.`,s.DiagnosticSeverity.Error)),n}static isIntType(e){return Object.keys(t.IntegerTypes).includes(e)}static isIntValueInRange(e,n){const r=f(n);return e===t.IntegerTypes.i8?r.greaterOrEquals(f(2).pow(f(8)).divide(f(2)).multiply(f(-1)))&&r.lesserOrEquals(f(2).pow(f(8)).divide(f(2)).minus(f(1))):e===t.IntegerTypes.i16?r.greaterOrEquals(f(2).pow(f(16)).divide(f(2)).multiply(f(-1)))&&r.lesserOrEquals(f(2).pow(f(16)).divide(f(2)).minus(f(1))):e===t.IntegerTypes.i32?r.greaterOrEquals(f(2).pow(f(32)).divide(f(2)).multiply(f(-1)))&&r.lesserOrEquals(f(2).pow(f(32)).divide(f(2)).minus(f(1))):e===t.IntegerTypes.i64?r.greaterOrEquals(f(2).pow(f(64)).divide(f(2)).multiply(f(-1)))&&r.lesserOrEquals(f(2).pow(f(64)).divide(f(2)).minus(f(1))):e===t.IntegerTypes.i128?r.greaterOrEquals(f(2).pow(f(128)).divide(f(2)).multiply(f(-1)))&&r.lesserOrEquals(f(2).pow(f(128)).divide(f(2)).minus(f(1))):e===t.IntegerTypes.u8?r.greaterOrEquals(f.zero)&&r.lesserOrEquals(f(2).pow(f(8)).minus(f(1))):e===t.IntegerTypes.u16?r.greaterOrEquals(f.zero)&&r.lesserOrEquals(f(2).pow(f(16)).minus(f(1))):e===t.IntegerTypes.u32?r.greaterOrEquals(f.zero)&&r.lesserOrEquals(f(2).pow(f(32)).minus(f(1))):e===t.IntegerTypes.u64?r.greaterOrEquals(f.zero)&&r.lesserOrEquals(f(2).pow(f(64)).minus(f(1))):e===t.IntegerTypes.u128&&(r.greaterOrEquals(f.zero)&&r.lesserOrEquals(f(2).pow(f(128)).minus(f(1))))}checkFuncParamsAndTypes(e,t){var n;const r=[],i=c.default.getNamedParentByType(e,"expression_postfix");if(i){const o=this.functionsService.getFuncAstFromExpressionPostfixNode(i,t);if(!o)return r;const a=o.parameters.filter((e=>"self"!==e.name)),u=this.functionsService.getParametersSentToFunction(i,t);a.length!==u.length&&r.push(s.Diagnostic.create(c.default.range(e),`Function call expected ${a.length} arguments, got ${u.length}.`,s.DiagnosticSeverity.Error));for(let e=0;e<u.length;e++){let t=u[e].type,i=(null===(n=a[e])||void 0===n?void 0:n.type)||"";d.default.isTupleSyntaxArray(t)&&(t=d.default.convertTupleSyntaxArrayType(t)),d.default.isTupleSyntaxArray(i)&&(i=d.default.convertTupleSyntaxArrayType(i)),t&&i&&t.replace(" ","")!==i.replace(" ","")&&"array"!==t&&!m.default.isNumberTypeMatch(i,t)&&r.push(s.Diagnostic.create(c.default.range(u[e].node),`Unexpected type, expected: '${i}', received: '${t}'.`,s.DiagnosticSeverity.Error))}}return r}checkTupleType(e,t){const n=[],r=this.cache.get(t),i=h.default.getFunctionAstFromChildNode(e,r),o=c.default.getNamedParentByPath(e,["expression"]),a=c.default.getNamedParentByPath(e,["expression","statement_declaration"]);if(a&&i&&o&&1===o.namedChildCount){const e=c.default.getNamedChildrenNodesByPath(a,["variables","identifier"]);if(e.length){const r=u.default.findStatementDefinitionByName(i.statementDefinitions,e[0].text,!0);e.length&&n.push(...this.compareTupleTypes(o,r[0].type,t))}}return n}compareTupleTypes(e,t,n){const r=[],i=d.default.getTupleRootItemsTypes(t),o=c.default.getNamedChildrenNodesByPath(e,["expression_tuple","expression"]);return o.length!==i.length&&r.push(s.Diagnostic.create(c.default.range(e),`Unexpected type, expected: 'tuple of length ${i.length}', received: 'tuple of length ${o.length}'`,s.DiagnosticSeverity.Error)),o.forEach(((e,t)=>{const o=this.dataTypeParser.getStatementDeclarationDataType(e,n),a=i[t];a&&o.replace(" ","")!==a.replace(" ","")&&!m.default.isNumberTypeMatch(a,o)&&r.push(s.Diagnostic.create(c.default.range(e),`Unexpected type, expected: '${a}', received: '${o}'`,s.DiagnosticSeverity.Error))})),r}checkTupleAccess(e,t){const n=[],r=this.cache.get(t),i=c.default.getNodeByPath(e,["number_positive"]);if(i){let t=c.default.getNamedParentByPath(e,["access","expression_postfix"]);t||(t=c.default.getNamedParentByWidePath(e,["access_assignee",["self_assignee","identifier_assignee"]]));const o=c.default.getNodeByTypes(t,["keyword_or_identifier","self_keyword","identifier"]),a=h.default.getFunctionAstFromChildNode(e,r);if(a){const t=u.default.findAnyInFunction(a,o.text);if(!t)return n;const r=t.type,l=d.default.getTupleRootItemsTypes(r);l.length<=parseInt(i.text)&&n.push(s.Diagnostic.create(c.default.range(e),`Tuple access index '${i.text}' out of range for tuple of length '${l.length}'.`,s.DiagnosticSeverity.Error))}}return n}};i([a.inject(l.TYPE.FunctionsService),o("design:type",u.default)],y.prototype,"functionsService",void 0),i([a.inject(l.TYPE.Cache),o("design:type",p.default)],y.prototype,"cache",void 0),i([a.inject(l.TYPE.DataTypeParser),o("design:type",d.default)],y.prototype,"dataTypeParser",void 0),i([a.inject(l.TYPE.ArrayTypeDiagnostic),o("design:type",g.default)],y.prototype,"arrayTypeDiagnostic",void 0),y=r=i([a.injectable()],y),t.default=y},3715:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(2374),s=n(6920),c=n(1555),u=n(5226),l=n(2446),d=n(5944),f=n(8151),p=n(9364),h=n(3950),m=n(4269),g=n(4235),y=n(3359),_=n(5907);let v=class{checkVariableExist(e,t,n){const r=[];if(c.default.getNamedParentByPath(t,["circuit_name"]))return r;const i=this.cache.get(n),o=l.default.getFunctionAstFromChildNode(t,i),s=c.default.getNamedParentByType(t,"expression_postfix"),f=c.default.getNamedParentByType(t,"access_array");if(s&&!f&&(u.default.isStaticAccessExpression(s)||u.default.isSelfAccessExpression(s)||l.default.isExpressionFunctionCall(s)))return r;const p=c.default.getNamedParentByType(t,"statement_for");if(p){if(c.default.getNodeByType(p,"identifier").text===e)return r}return i&&o&&e&&!d.default.findAnyInFunction(o,e)&&!y.default.findByNameStrict(i.circuits,e)&&r.push(a.Diagnostic.create(c.default.range(t),`Failed to resolve variable reference '${e}'.`,a.DiagnosticSeverity.Error)),r}checkVariableMutable(e,t){var n;const r=[],i=this.cache.get(t),o=l.default.getFunctionAstFromChildNode(e,i),s=null===(n=c.default.getSelfNamedChildByTypes(e,["identifier_assignee","self_assignee"]))||void 0===n?void 0:n.firstNamedChild,u=d.default.findAnyInFunction(o,s.text);return u&&!u.isMutable?r.push(a.Diagnostic.create(c.default.range(s),`Illegal assignment to immutable variable '${s.text}'.`,a.DiagnosticSeverity.Error)):u||r.push(a.Diagnostic.create(c.default.range(s),`Failed to resolve variable reference '${s.text}'.`,a.DiagnosticSeverity.Error)),r}checkForDuplicatesInFunction(e,t){const n=[],r=this.cache.get(t),i=l.default.getFunctionAstFromChildNode(e,r);if(!i)return n;const o=c.default.getNodeByPath(e,["variables","identifier"]),s=d.default.findStatementDefinitionByName(i.statementDefinitions,o.text,!0);return(d.default.findParametersByName(i.parameters,o.text,!0).length||s.length&&s[0].range.start.line<e.startPosition.row)&&n.push(a.Diagnostic.create(c.default.range(o),`Duplicate variable definition found for '${o.text}'.`,a.DiagnosticSeverity.Error)),n}checkExplicitTypeMatch(e,t){var n;const r=[],i=null===(n=c.default.getNodeByPath(e,["variables"]))||void 0===n?void 0:n.lastNamedChild,o="identifier"!==(null==i?void 0:i.type)?null==i?void 0:i.text:"",s=c.default.getNodeByPath(e,["expression"]);if(s&&!s.namedChildren.find((e=>e.type.match(/^operation/)))){const e=this.dataTypeParser.getStatementDeclarationDataType(s,t);!o&&e.match(/integer/)?r.push(a.Diagnostic.create(c.default.range(s),"Failed to resolve type for variable definition 'unknown'",a.DiagnosticSeverity.Error)):!o||e.match(/integer/)||o===e||g.default.isArrayType(o)||"address"===o||o.match(/^\(/)&&e.match(/^\(/)?o&&"group"!==o&&"field"!==o&&"integer"===e&&!h.default.isNumberTypeMatch(o,e)?r.push(a.Diagnostic.create(c.default.range(s),`Unexpected type, expected: '${o}', received: 'unknown'`,a.DiagnosticSeverity.Error)):o&&e&&g.default.isArrayType(o)&&o!==e&&r.push(...g.default.checkExplicitArrayTypeExpression(o,e,s)):r.push(a.Diagnostic.create(c.default.range(s),`Unexpected type, expected: '${o}', received: '${e}'`,a.DiagnosticSeverity.Error))}return r}checkAssignedExpressionType(e,t){const n=[],r=this.cache.get(t),i=l.default.getFunctionAstFromChildNode(e,r),o=c.default.getSelfNamedChildByTypes(e,["identifier_assignee","self_assignee"]),s=c.default.getNodeByPath(o,["access_assignee"]),u=d.default.findAnyInFunction(i,o.text),f=c.default.getNodeByPath(e,["expression"]);if(u&&u.isMutable&&f&&!s){if(c.default.getNodesByType(f,"access").length>1)return n;const e=this.dataTypeParser.getStatementDeclarationDataType(f,t);if(!e)return n;"integer"===e&&u.type&&!m.IntegerTypes.hasOwnProperty(u.type)?n.push(a.Diagnostic.create(c.default.range(f),`Unexpected type, expected: '${u.type}', received: 'unknown'`,a.DiagnosticSeverity.Error)):e.match(/integer/)&&g.default.isArrayType(u.type)?g.default.isSameArrayOfNumberTypes(u.type,e)||n.push(a.Diagnostic.create(c.default.range(f),`Unexpected type, expected: '${u.type}', received: '${e}'`,a.DiagnosticSeverity.Error)):"integer"===e||u.type===e||e.match(/^\[.*\]$/)||n.push(a.Diagnostic.create(c.default.range(f),`Unexpected type, expected: '${u.type}', received: '${e}'`,a.DiagnosticSeverity.Error))}return n}checkReturnStatementType(e,t){const n=[],r=this.cache.get(t),i=l.default.getFunctionAstFromChildNode(e,r).returnType,o=c.default.getNodeByPath(e,["expression"]);if(o){let r=this.dataTypeParser.getStatementDeclarationDataType(o,t);if("Self"===r){const t=c.default.getNamedParentByType(e,_.NODE_TYPES.circuit_declaration);if(t){const e=c.default.getNodeByType(t,_.NODE_TYPES.identifier);e&&(r=e.text)}}if(!r||!i)return n;const s=c.default.isNumber(i)&&"integer"===r;r===i||s||(g.default.isArrayType(i)?n.push(...g.default.compareArrayTypes(i,r,o)):n.push(a.Diagnostic.create(c.default.range(o),`Unexpected type, expected: '${i}', received: '${r}'`,a.DiagnosticSeverity.Error)))}return n}};r([o.inject(s.TYPE.Cache),i("design:type",f.default)],v.prototype,"cache",void 0),r([o.inject(s.TYPE.DataTypeParser),i("design:type",p.default)],v.prototype,"dataTypeParser",void 0),v=r([o.injectable()],v),t.default=v},2895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(1555);class o{static checkAll(e,t){"ERROR"===e.type&&t.push(o.checkErrorNode(e)),e.isMissing()&&t.push(o.checkMissingNode(e))}static checkMissingNode(e){return r.Diagnostic.create(i.default.range(e),`Syntax error: expected "${e.type}" somewhere in the file`,r.DiagnosticSeverity.Error)}static checkErrorNode(e){return r.Diagnostic.create(i.default.range(e),"Failed to parse expression",r.DiagnosticSeverity.Error)}}t.default=o},8661:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OPERATIONS=t.OPERATOR_TYPE=void 0;const a=n(3542),s=n(2374),c=n(1555),u=n(6920),l=n(9364),d=n(2446),f=n(8151),p=n(3950);t.OPERATOR_TYPE={arithmetic:"arithmetic",logical:"logical",relational:"relation"},t.OPERATIONS={addition:{operators:["+","+="],type:t.OPERATOR_TYPE.arithmetic,supportedTypes:["integer","group","field"]},negation:{operators:["-"],type:t.OPERATOR_TYPE.arithmetic,supportedTypes:["integer","group","field"]},subtraction:{operators:["-","-="],type:t.OPERATOR_TYPE.arithmetic,supportedTypes:["integer","group","field"]},multiplication:{operators:["*","*="],type:t.OPERATOR_TYPE.arithmetic,supportedTypes:["integer","field"]},division:{operators:["/","/="],type:t.OPERATOR_TYPE.arithmetic,supportedTypes:["integer","field"]},exponentiation:{operators:["**","**="],type:t.OPERATOR_TYPE.arithmetic,supportedTypes:["integer"]},AND:{operators:["&&"],type:t.OPERATOR_TYPE.logical,supportedTypes:["bool"]},OR:{operators:["||"],type:t.OPERATOR_TYPE.logical,supportedTypes:["bool"]},NOT:{operators:["!"],type:t.OPERATOR_TYPE.logical,supportedTypes:["bool"]},equal:{operators:["=="],type:t.OPERATOR_TYPE.relational,supportedTypes:["bool","group","field","integer","address","array","tuple","circuit_declaration"]},notEqual:{operators:["!="],type:t.OPERATOR_TYPE.relational,supportedTypes:["bool","group","field","integer","address","array","tuple","circuit_declaration"]},less:{operators:["<","<="],type:t.OPERATOR_TYPE.relational,supportedTypes:["integer"]},greater:{operators:[">",">="],type:t.OPERATOR_TYPE.relational,supportedTypes:["integer"]}};let h=r=class{analyzeExpression(e,n){var i,o;const a=[],s=this.cache.get(n),u=d.default.getFunctionAstFromChildNode(e,s),l=c.default.getNamedParentByType(e,"expression");if(u&&l){const s=this.dataTypeParser.getStatementDeclarationDataType(l,n),c=r.getOperationType(e),u=this.dataTypeParser.getStatementDeclarationDataType(e.previousNamedSibling,n),d=this.dataTypeParser.getStatementDeclarationDataType(e.nextNamedSibling,n);if(["array","tuple"].includes(this.getTypeGroupFromType(u))||["array","tuple"].includes(this.getTypeGroupFromType(d)))return a;const f=[];if(f.push(e.previousNamedSibling),f.push(e.nextNamedSibling),s&&c){if(c.type===t.OPERATOR_TYPE.relational&&this.isTypeEqual(u,d))return a;if(c.type===t.OPERATOR_TYPE.logical){const t=null===(i=e.previousNamedSibling)||void 0===i?void 0:i.previousNamedSibling,n=null===(o=e.nextNamedSibling)||void 0===o?void 0:o.nextNamedSibling;if((null==t?void 0:t.type.match(/^operation/))||(null==n?void 0:n.type.match(/^operation/)))return a}f.forEach((e=>{e&&a.push(...this.compareExpressionTerm(e,s,c,n))}))}}return a}isArrayOrTuple(e,t){return["tuple","array"].includes(this.getTypeGroupFromType(e))||["tuple","array"].includes(this.getTypeGroupFromType(t))}getTypeGroupFromType(e){let t=e;return e.match(/^(u|i)\d{1,3}$/)?t="integer":e.match(/^\(/)?t="tuple":e.match(/^\[/)&&(t="array"),t}isTypeEqual(e,t){return this.getTypeGroupFromType(e)===this.getTypeGroupFromType(t)}static getOperationType(e){const n=e.text.replace(" ","");return Object.values(t.OPERATIONS).find((e=>e.operators.includes(n)))||null}compareExpressionTerm(e,t,n,r){const i=[];if(c.default.getNodeByType(e,"access_array")||t.match(/^\[.*\]$/))return i;const o=this.dataTypeParser.getStatementDeclarationDataType(e,r);let a=o;if(o.match(/^(u|i)\d{1,3}$/)?a="integer":o.match(/^\(/)?a="tuple":o.match(/^\[/)&&(a="array"),[t,o].includes("field")&&p.default.isAllowedNumber(t,o))return i;if(o&&a&&t)if(n.supportedTypes.includes(a))o===t||p.default.isNumberTypeMatch(o,t)||p.default.isNumberTypeMatch(t,o)||i.push(s.Diagnostic.create(c.default.range(e),`Unexpected type, expected: '${t}', received: '${o}'`,s.DiagnosticSeverity.Error));else{const r=t!==o?t:n.supportedTypes[0];i.push(s.Diagnostic.create(c.default.range(e),`Unexpected type, expected: '${r}', received: '${o}'`,s.DiagnosticSeverity.Error))}return i}checkConditionalExpression(e,t){const n=[];let r="";const i=c.default.getNamedParentByPath(e,["expression","statement_declaration"]),o=c.default.getNamedParentByPath(e,["expression"]);if((i||o)&&(r=this.dataTypeParser.getStatementDeclarationDataType(i||o,t)),r){const i=c.default.getNamedChildrenNodesByPath(e,["expression"]);if(3===i.length){const e=this.dataTypeParser.getStatementDeclarationDataType(i[1],t),o=this.dataTypeParser.getStatementDeclarationDataType(i[2],t);[{type:e,node:i[1]},{type:o,node:i[2]}].forEach((e=>{e.type!==r&&n.push(s.Diagnostic.create(c.default.range(e.node),`Unexpected type, expected: '${r}', received: '${e.type}'`,s.DiagnosticSeverity.Error))}))}}return n}checkExpressionAssigned(e,t){var n,r,i;const o=[];let a=!1;try{if(e.children.find((e=>e.type.match(/^operation/)))||"identifier"===(null===(n=e.firstNamedChild)||void 0===n?void 0:n.type)||(null===(r=e.firstNamedChild)||void 0===r?void 0:r.type.startsWith("value_")))throw a=!0,Error();if("expression_conditional"===(null===(i=e.firstNamedChild)||void 0===i?void 0:i.type)){const n=c.default.getNamedChildrenNodesByPath(e,["expression_conditional","expression"]);n.shift(),n.forEach((e=>{o.push(...this.checkExpressionAssigned(e,t))}))}const s=c.default.getNodeByPath(e,["expression_postfix"]);if(s){if(l.default.isArrayAccessExpression(s)||l.default.isTupleAccessExpression(s))throw a=!0,Error();if(this.dataTypeParser.parseExpressionPostfixNodeType(s,t))throw a=!0,Error()}}catch(t){a&&o.push(s.Diagnostic.create(c.default.range(e),"Expected assignment of return values for expression",s.DiagnosticSeverity.Error))}return o}};i([a.inject(u.TYPE.Cache),o("design:type",f.default)],h.prototype,"cache",void 0),i([a.inject(u.TYPE.DataTypeParser),o("design:type",l.default)],h.prototype,"dataTypeParser",void 0),h=r=i([a.injectable()],h),t.default=h},9059:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(2374),s=n(1555),c=n(8829),u=n(6920);let l=class{checkValue(e){const t=e.text;try{const n=JSON.parse(this.leoWasmApi.module.validate_field(t));if(!1===n.success)return[a.Diagnostic.create(s.default.range(e),n.message,a.DiagnosticSeverity.Error)]}catch(e){}return[]}};r([o.inject(u.TYPE.LeoWasmApi),i("design:type",c.default)],l.prototype,"leoWasmApi",void 0),l=r([o.injectable()],l),t.default=l},8055:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(2374),s=n(6920),c=n(4424),u=n(1555),l=n(2446),d=n(8151),f=n(3359);let p=class{static checkFunctionDefinitionName(e){const t=[],n=u.default.getNodeByPath(e,["identifier"]),r=c.default.checkSnakeCaseName(n,e.type);return t.push(...r),t}checkCalledFunctionExist(e,t){const n=[],r=this.cache.get(t);if(l.default.isExpressionFunctionCall(e)&&r&&!e.hasError()){const i=u.default.getNodeByPath(e,["keyword_or_identifier"]);if(!i)return n;const o=this.cache.getAllImportedItemsByType("function_declaration",t),s=[...r.functions,...o];u.default.findByNameStrict(s,i.text)||n.push(a.Diagnostic.create(u.default.range(e),`Cannot find function '${i.text}'.`,a.DiagnosticSeverity.Error))}return n}static checkFunctionReturnStatementExist(e){const t=[];if(u.default.getNodeByPath(e,["return_type"])){const n=u.default.getNamedChildrenNodesByPath(e,["block","statement_return"]);if(!n||!n.length){const n=u.default.getNodeByPath(e,["identifier"]);t.push(a.Diagnostic.create(u.default.range(n),`Function '${n.text}' missing return for all paths`,a.DiagnosticSeverity.Error))}}return t}checkFunctionDuplication(e,t){const n=[],r=this.cache.get(t);if(u.default.getNamedParentByType(e,"circuit_declaration"))return n;const i=u.default.getNodeByPath(e,["identifier"]);if(i){const e=r.functions.filter((e=>e.name===i.text));let t=e[0].range.start.line;if(e[0].contexts.length&&e[0].contexts.some((e=>"test"===e.name))){const n=u.default.getNodeByPath(e[0].node,["identifier"]);t=n?n.startPosition.row:t}if(e.length>1&&t===i.startPosition.row)for(let t=1;t<e.length;t++)n.push(a.Diagnostic.create(u.default.range(e[t].node),`A function named "${e[t].name}" already exists in this scope`,a.DiagnosticSeverity.Error))}return n}checkFunctionReturnType(e,t){const n=[];if(u.default.getNodeByPath(e,["type_circuit"])&&"Self"!==e.text){this.circuitService.findFromLocalAndImported(e.text,t)||n.push(a.Diagnostic.create(u.default.range(e),`Failed to resolve circuit: '${e.text}'.`,a.DiagnosticSeverity.Error))}return n}};r([o.inject(s.TYPE.Cache),i("design:type",d.default)],p.prototype,"cache",void 0),r([o.inject(s.TYPE.CircuitService),i("design:type",f.default)],p.prototype,"circuitService",void 0),p=r([o.injectable()],p),t.default=p},4230:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(1555);t.default=class{static checkModifier(e){const t=e.firstNamedChild;return t&&"let_"!==t.type?[]:[r.Diagnostic.create(i.default.range(e),"Only constants are allowed in global context.",r.DiagnosticSeverity.Error)]}}},3846:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(2374),s=n(1555),c=n(8829),u=n(6920);let l=class{checkTuple(e){const[t,n]=e.namedChildren;if(!(t&&n&&t.text&&n.text))return[];try{const r=JSON.parse(this.leoWasmApi.module.validateGroupTuple(t.text,n.text));if(!1===r.success)return[a.Diagnostic.create(s.default.range(e),r.message,a.DiagnosticSeverity.Error)]}catch(e){}return[]}checkValue(e){const t=e.text;try{const n=JSON.parse(this.leoWasmApi.module.validateGroupSingle(t));if(!1===n.success)return[a.Diagnostic.create(s.default.range(e),n.message,a.DiagnosticSeverity.Error)]}catch(e){}return[]}};r([o.inject(u.TYPE.LeoWasmApi),i("design:type",c.default)],l.prototype,"leoWasmApi",void 0),l=r([o.injectable()],l),t.default=l},1612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(1555);t.default=class{static checkDefinition(e){var t;const n=[];return e.text.match(/^[a-zA-Zα-ωΑ-Ωµ][a-zA-Zα-ωΑ-Ωµ\d_]*$/)||n.push(r.Diagnostic.create(i.default.range(e),"Syntax error: Identifier should start with Alpha and includes Alphanumeric and underscore",r.DiagnosticSeverity.Error)),["as","circuit","const","console","else","for","function","if","import","in","let","mut","return","self","string","test","address","field","group","Self","bool","i8","i16","i32","i64","i128","u8","u16","u32","u64","u128","aleo1"].includes(e.text)&&"@"!==(null===(t=e.previousSibling)||void 0===t?void 0:t.text)&&n.push(r.Diagnostic.create(i.default.range(e),"Identifier can not be protected name",r.DiagnosticSeverity.Error)),n}}},4:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(2374),s=n(6920),c=n(1555),u=n(8151),l=n(4862);let d=class{static checkPackageName(e){const t=[];return e.text.match(/^(?:[a-z0-9](?:[_-a-z0-9])*)+$/)||t.push(a.Diagnostic.create(c.default.range(e),"Forbidden characters",a.DiagnosticSeverity.Error)),t}getImportsDiagnosticErrors(e){const t=[],{imports:n}=this.cache.get(e);return n.forEach((e=>{var n;(null===(n=e.errors)||void 0===n?void 0:n.length)&&e.errors.forEach((e=>e instanceof l.DiagnosticError?t.push(a.Diagnostic.create(c.default.range(e.node),e.message,a.DiagnosticSeverity.Error)):e.range?t.push(e):void 0))})),t}};r([o.inject(s.TYPE.Cache),i("design:type",u.default)],d.prototype,"cache",void 0),d=r([o.injectable()],d),t.default=d},3003:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(3542),s=n(5622),c=n(2374),u=n(6630),l=n(1555),d=n(6920),f=n(3506),p=n(4235),h=n(9157),m=n(5891),g=n(4269),y=n(3715),_=n(2895),v=n(9059),b=n(3846),E=n(3950);let T=r=class{static checkNodeError(e,t){(t.hasError()||t.isMissing())&&l.default.forEach(t,(t=>{_.default.checkAll(t,e.diagnostics)}))}static checkStateError(e,t,n){e.isStateFile&&"ERROR"!==t.type&&null===n&&t.firstNamedChild&&e.diagnostics.push(c.Diagnostic.create(l.default.range(t),`The section header \`${t.firstNamedChild.type}\` must have a double bracket visibility in a state ".state" file`,c.DiagnosticSeverity.Error))}static checkTable(e,t,n){e.isInputFile&&e.diagnostics.push(c.Diagnostic.create(l.default.range(t),`The double bracket section \`${t.type}\` is not valid in an input \`.in\` file.`,c.DiagnosticSeverity.Error)),n&&!["public","private"].includes(n)&&e.diagnostics.push(c.Diagnostic.create(l.default.range(t),'Table element name must be "public" or "private"',c.DiagnosticSeverity.Error))}static checkSectionHeader(e,t){e.isStateFile||["constants","main","registers"].includes(t.text)||e.diagnostics.push(c.Diagnostic.create(l.default.range(t),`The section header \`${t.text}\` is not valid in an input \`.in\` file.`,c.DiagnosticSeverity.Error))}checkDefinition(e,t,n,r,i){if(e.diagnostics.push(...this.definitionDiagnostic.checkExplicitTypeMatch(t,i)),"type_tuple"===n.type&&"expression"===r.type&&r.firstNamedChild&&"expression_tuple"===r.firstNamedChild.type&&e.diagnostics.push(...this.dataTypeDiagnostic.compareTupleTypes(r,n.text,i)),"type_field"===n.type&&!t.isMissing()&&!t.hasError()){const t=l.default.getNamedChildrenNodesByPath(r,["value_number"]);t.length>0&&e.diagnostics.push(...this.fieldDiagnostic.checkValue(t[0]))}l.default.forEach(r,(t=>{if("number_positive"===t.type&&e.diagnostics.push(...E.default.checkPositiveNumber(t)),["value_integer","value_field"].includes(t.type)&&e.diagnostics.push(...h.default.checkImplicitWhitespaces(t)),"value_group"===t.type){e.diagnostics.push(...h.default.checkValueGroupImplicitWhitespaces(t));const n=l.default.getSelfNamedChildByTypes(t,["value_number","group_tuple"]);"group_tuple"===n.type&&e.diagnostics.push(...this.groupDiagnostic.checkTuple(n)),"value_number"===n.type&&e.diagnostics.push(...this.groupDiagnostic.checkValue(n))}if("value_field"===t.type){const n=l.default.getSelfNamedChildByTypes(t,["value_number"]);e.diagnostics.push(...this.fieldDiagnostic.checkValue(n))}"address"===t.type&&e.diagnostics.push(...f.default.checkPublicKey(t)),["value_char","value_string"].includes(t.type)&&e.diagnostics.push(...m.default.checkLength(t)),"expression_array_initializer"!==t.type&&"expression_array_inline"!==t.type||e.diagnostics.push(...this.arrayTypeDiagnostic.checkArrayType(t,i))}))}static analyzeLeoFile(e,t){const n=[];if(u.URI.parse(e).toString()===t.mainFileUri){const e=t.get(t.mainFileUri);if(!e)return n;const i=e.functions.find((e=>"main"===e.name));if(!i)return[c.Diagnostic.create(l.default.range(e.tree.rootNode),"`main` function is missing.",c.DiagnosticSeverity.Error)];const o=t.getInputs(t.mainInputFileUri);if(!o)return[c.Diagnostic.create(l.default.range(i.parameters[0].node),`${u.uriToFsPath(u.URI.parse(t.mainInputFileUri),!0)} not found.`,c.DiagnosticSeverity.Error)];n.push(...r.checkFunctionArguments(o,i)),n.push(...r.checkFunctionReturnType(o,i))}const i=t.get(e);return i&&i.functions.forEach((e=>{const i=e.contexts.find((e=>"test"===e.name));if(!i)return;let o=t.mainInputFileUri;const a=i.arguments[0];a&&(o=u.URI.file(s.join(t.inputsFolderFsPath,`${a}.in`)).toString());const d=t.getInputs(o);!d&&o&&n.push(c.Diagnostic.create(l.default.range(e.node),a?`Cannot find input files with context name \`${a}\`.`:`Cannot find input file ${o}.`,c.DiagnosticSeverity.Error)),n.push(...r.checkFunctionArguments(d,e)),n.push(...r.checkFunctionReturnType(d,e))})),n}static checkFunctionArguments(e,t){const n=[];if(t.parameters.length){const r=e.sections.find((e=>"main"===e.name)),i=e.sections.find((e=>"constants"===e.name)),{mainParams:o,constParams:a}=t.parameters.reduce(((e,t)=>(t.isConstant?e.constParams.push(t):e.mainParams.push(t),e)),{mainParams:[],constParams:[]});if(o.length&&!r){const r=c.Diagnostic.create(l.default.range(t.parameters[0].node),"Input `main` section not found.",c.DiagnosticSeverity.Error);r.relatedInformation=[c.DiagnosticRelatedInformation.create(c.Location.create(e.uri,c.Range.create(0,0,0,0)),"main")],n.push(r)}if(a.length&&!i){const r=c.Diagnostic.create(l.default.range(t.parameters[0].node),"Input `constants` section not found.",c.DiagnosticSeverity.Error);r.relatedInformation=[c.DiagnosticRelatedInformation.create(c.Location.create(e.uri,c.Range.create(0,0,0,0)),"constants")],n.push(r)}const s=(r,i)=>{r.forEach((r=>{const o=i.declarations.find((e=>e.name===r.name));if(!o){const o=c.Diagnostic.create(l.default.range(t.node),`Input \`${r.name}\` not found.`,c.DiagnosticSeverity.Error);return o.relatedInformation=[c.DiagnosticRelatedInformation.create(c.Location.create(e.uri,l.default.range(i.node)),i.name)],void n.push(o)}if(o.type!==r.type){const t=c.Diagnostic.create(l.default.range(r.node),`Expected data type \`${o.type}\`, found \`${r.type}\`.`,c.DiagnosticSeverity.Error);t.relatedInformation=[c.DiagnosticRelatedInformation.create(c.Location.create(e.uri,l.default.range(o.node)),o.name)],n.push(t)}}))};r&&s(o,r),i&&s(a,i)}return n}static checkFunctionReturnType(e,t){if(t.returnType){const n=e.sections.find((e=>"registers"===e.name));if(!n){const n=c.Diagnostic.create(l.default.range(t.node),"Input `registers` section not found.",c.DiagnosticSeverity.Error);return n.relatedInformation=[c.DiagnosticRelatedInformation.create(c.Location.create(e.uri,c.Range.create(0,0,0,0)),"registers")],[n]}if(!n.declarations.length){const r=c.Diagnostic.create(l.default.range(t.node),"Number of input registers must be greater than or equal to output registers.",c.DiagnosticSeverity.Error);return r.relatedInformation=[c.DiagnosticRelatedInformation.create(c.Location.create(e.uri,l.default.range(n.node)),n.name)],[r]}if(n.declarations[0].type!==t.returnType){const r=c.Diagnostic.create(l.default.range(t.node),`Expected type \`${n.declarations[0].type}\`, found \`${t.returnType}\`.`,c.DiagnosticSeverity.Error);return r.relatedInformation=[c.DiagnosticRelatedInformation.create(c.Location.create(e.uri,l.default.range(n.declarations[0].node)),n.declarations[0].name)],[r]}}return[]}};i([a.inject(d.TYPE.ArrayTypeDiagnostic),o("design:type",p.default)],T.prototype,"arrayTypeDiagnostic",void 0),i([a.inject(d.TYPE.DefinitionDiagnostic),o("design:type",y.default)],T.prototype,"definitionDiagnostic",void 0),i([a.inject(d.TYPE.DataTypeDiagnostic),o("design:type",g.default)],T.prototype,"dataTypeDiagnostic",void 0),i([a.inject(d.TYPE.GroupDiagnostic),o("design:type",b.default)],T.prototype,"groupDiagnostic",void 0),i([a.inject(d.TYPE.FieldDiagnostic),o("design:type",v.default)],T.prototype,"fieldDiagnostic",void 0),T=r=i([a.injectable()],T),t.default=T},4424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(1945),o=n(1555);t.default=class{static checkSnakeCaseName(e,t){const n=[],a=e.text;if(!/\b([a-z][a-z0-9_]*|_[a-z0-9_]+)\b/.test(a)){const s=i.default.toSnakeCase(a),c="function_declaration"===t?"Function":"Circuit attribute";n.push(r.Diagnostic.create(o.default.range(e),`${c} '${a}' should have a snake case name such as '${s}'`,r.DiagnosticSeverity.Warning))}return n}static checkPascalCaseName(e){const t=[],n=e.text;if(!/\b[A-Z][a-z0-9]*(?:[A-Z][a-z0-9]*)*\b/.test(n)){const a=i.default.toPascalCase(n);t.push(r.Diagnostic.create(o.default.range(e),`Circuit '${n}' should have a pascal case name such as '${a}'`,r.DiagnosticSeverity.Warning))}return t}}},3950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(1555),o=n(4269);t.default=class{static checkPositiveNumber(e){const t=[];return parseInt(e.text)<0&&t.push(r.Diagnostic.create(i.default.range(e),"The number must be positive",r.DiagnosticSeverity.Error)),t}static isNumberTypeMatch(e,t){return"integer"===t&&o.IntegerTypes.hasOwnProperty(e.trim())}static isAllowedNumber(e,t){const n=o.IntegerTypes.hasOwnProperty(t.trim())||"integer"===t,r=o.IntegerTypes.hasOwnProperty(e.trim())||"integer"===e;return!(!n&&!r)&&(!(![e,t].includes("field")||!n&&!r)||n&&r)}}},8768:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(2374),s=n(1555),c=n(6920),u=n(8151),l=n(2446);let d=class{static checkSelfGlobal(e){const t=[];if(!s.default.getNamedParentByType(e,"circuit_declaration"))if("type_self"===e.type)t.push(a.Diagnostic.create(s.default.range(e),"Cannot call keyword 'Self' outside of a circuit function",a.DiagnosticSeverity.Error));else{s.default.getNamedParentByType(e,"function_parameters")?t.push(a.Diagnostic.create(s.default.range(e),"Cannot have 'mut self' or 'self' arguments in global functions",a.DiagnosticSeverity.Error)):t.push(a.Diagnostic.create(s.default.range(e),"Failed to resolve variable reference 'self'",a.DiagnosticSeverity.Error))}return t}checkSelfCallInFunctionAvailable(e,t){const n=[],r=this.cache.get(t),i=l.default.getFunctionAstFromChildNode(e,r);return i&&i.isStatic&&n.push(a.Diagnostic.create(s.default.range(e),"Failed to resolve variable reference 'self'",a.DiagnosticSeverity.Error)),n}};r([o.inject(c.TYPE.Cache),i("design:type",u.default)],d.prototype,"cache",void 0),d=r([o.injectable()],d),t.default=d},1555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(3359),o=n(5226);class a{static getNamedChildrenNodesByPath(e,t){const n=[];return 0===t.length||e.namedChildren.length&&e.namedChildren.forEach((e=>{if((Array.isArray(t[0])?t[0]:[t[0]]).includes(e.type))if(1===t.length)n.push(e);else{const r=a.getNamedChildrenNodesByPath(e,t.slice(1));n.push(...r)}})),n}static getNodeByType(e,t){let n=null;return a.forEach(e,(e=>{e.type===t&&null===n&&(n=e)})),n}static getNodeByTypes(e,t){let n=null;return a.forEach(e,(e=>{t.includes(e.type)&&null===n&&(n=e)})),n}static getNodeByPath(e,t){let n=null;return 0===t.length?e:(e.children.length&&e.children.forEach((e=>{e.type===t[0]&&null===n&&(n=e,t.splice(0,1),n=a.getNodeByPath(e,t))})),n)}static getNodeByValue(e,t){let n=null;return a.forEach(e,(e=>{e.text===t&&null===n&&(n=e)})),n}static forEach(e,t){e&&(t(e),e.children.length&&e.children.forEach((e=>a.forEach(e,t))))}static range(e){return r.Range.create(e.startPosition.row,e.startPosition.column,e.endPosition.row,e.endPosition.column)}static isAddressDefinition(e){return"value_address"===e.type&&e.isNamed()}static getNamedParentByType(e,t){return null===e.parent||"file"===e.parent.type?null:e.parent.type!==t?a.getNamedParentByType(e.parent,t):e.parent}static getNamedParentByTypes(e,t){return null===e.parent||"file"===e.parent.type?null:t.includes(e.parent.type)?e.parent:a.getNamedParentByTypes(e.parent,t)}static getNamedParentByPath(e,t){var n;return 0===t.length?null:(null===(n=e.parent)||void 0===n?void 0:n.type)&&e.parent.isNamed?1===t.length&&t[0]===e.parent.type?e.parent:1===t.length&&t[0]!==e.parent.type?null:t[0]===e.parent.type?a.getNamedParentByPath(e.parent,t.slice(1)):a.getNamedParentByPath(e.parent,t):null}static getNodeByPosition(e,t,n,r=!1){let i=null;return a.forEach(e,(e=>{const o=e.endPosition;(r?e.text:!i)&&o.column===n&&o.row===t&&(i=e)})),i}static getNodeUnderCursor(e,t,n){let r=null;return a.forEach(e,(e=>{const i=e.startPosition,o=e.endPosition;t>=i.row&&t<=o.row&&n>=i.column&&n<=o.column&&(r=e)})),r}static getNodesByType(e,t){const n=[];return a.forEach(e,(e=>{e.type===t&&n.push(e)})),n}static isInScope({start:e,end:t},n){const r=e.line<n.line||e.line===n.line&&e.character<=n.character,i=t.line>n.line||t.line===n.line&&t.character>=n.character;return r&&i}static getNodesByValue(e,t){const n=[];return a.forEach(e,(e=>{t.includes(e.text)&&n.push(e)})),n}static getParentNotEqual(e,t){const n=e.parent;return null===n?null:n.text.split("\n")[0].trim()===t.trim()?a.getParentNotEqual(n,t):n}static getLineUnderCursor(e,t){const n=r.Range.create(e.position.line,0,e.position.line,e.position.character);return t.getText(n)}static isVisible(e,t){for(const{start:n,end:r}of t){if(e.startPosition.row<=r+1&&n-1<=e.endPosition.row)return!0}return!1}static isCircuitVariableTypeAddress(e,t){const n=a.getNamedParentByPath(e,["expression","circuit_variable_expression"]);if(n){const r=a.getNamedParentByType(e,"expression_circuit_inline").firstNamedChild;let s=r.text;"Self"===s&&(s=o.default.parseCircuitNameFromSelfNode(r));const c=i.default.findByNameAndAlias(t,s);if(c){const e=a.getNodeByType(n,"identifier").text;if(c.attributes.find((t=>t.name===e&&"address"===t.type)))return!0}}return!1}static getSelfNamedChildByTypes(e,t){var n;return null===e?null:null!==(n=e.namedChildren.find((e=>t.includes(e.type))))&&void 0!==n?n:null}static getSelfNamedChildrenByTypes(e,t){return e.namedChildren.filter((e=>t.includes(e.type)))}static getNamedParentByWidePath(e,t){var n;if(0===t.length)return null;if((null===(n=e.parent)||void 0===n?void 0:n.type)&&e.parent.isNamed){const n=Array.isArray(t[0])?t[0]:[t[0]];return 1===t.length&&n.includes(e.parent.type)?e.parent:1!==t.length||n.includes(e.parent.type)?n.includes(e.parent.type)?a.getNamedParentByWidePath(e.parent,t.slice(1)):a.getNamedParentByWidePath(e.parent,t):null}return null}static isNodeInScope(e,t){return a.isInScope({start:{line:e.startPosition.row,character:e.startPosition.column},end:{line:e.endPosition.row,character:e.endPosition.column}},{line:t.startPosition.row,character:t.startPosition.column})}static isPositionEqual(e,t){return e.startPosition.row===t.startPosition.row&&e.startPosition.column===t.startPosition.column&&e.endPosition.row===t.endPosition.row&&e.endPosition.column===t.endPosition.column}static getNodeIndex(e){let t=-1;const n=e.startPosition.column;return e.parent&&e.parent.namedChildren&&e.parent.namedChildren.some(((e,r)=>{if(e.startPosition.column===n)return t=r,!0})),t}static getBinaryOperationNode(e){if(null===e)return null;const t=e=>e&&["operation_eq","operation_ne","operation_ge","operation_gt","operation_le","operation_lt","operation_and","operation_or","operation_add","operation_sub","operation_pow","operation_mul","operation_div"].includes(e.type)?e:null;return t(e.previousNamedSibling)||t(e.nextNamedSibling)}static getAssigneeOperationNode(e){const t="expression"===(null==e?void 0:e.type)?e:null==e?void 0:e.parent;return t&&t.previousNamedSibling&&"expression"===t.type&&["operation_assign","operation_add_assign","operation_sub_assign","operation_mul_assign","operation_div_assign","operation_pow_assign"].includes(t.previousNamedSibling.type)?t.previousNamedSibling:null}static getUnaryOperationNode(e){return null===e||null===e.previousNamedSibling?null:["operation_not","operation_negate"].includes(e.previousNamedSibling.type)?e.previousNamedSibling:null}static findFunctionByIdentifierNode(e=[],t){return"identifier"===t.type&&t.parent&&"function_declaration"===t.parent.type&&e.find((e=>e.name===t.text&&a.isNodeInScope(e.node,t)))||null}static findFunctionParameterByIdentifierNode(e=[],t){return e.find((e=>{const n=a.getNodeByType(e.node,t.type);return n&&a.isPositionEqual(n,t)}))||null}static findStatementDeclarationByIdentifierNode(e=[],t){return"identifier"===t.type&&e.find((e=>{const n=a.getNodeByType(e.node,t.type);return n&&a.isPositionEqual(n,t)}))||null}static findCircuitByIdentifierNode(e=[],t){return"identifier"===t.type&&e.find((e=>{const n=a.getNodeByType(e.node,t.type);return n&&a.isPositionEqual(n,t)}))||null}static findCircuitAttributeByIdentifierNode(e=[],t){return"identifier"===t.type&&e.find((e=>{const n=a.getNodeByType(e.node,t.type);return n&&a.isPositionEqual(n,t)}))||null}static findImportByChildNode(e=[],t){return e.find((e=>a.isNodeInScope(e.node,t)))||null}static calculateStringLength(e){return e.namedChildren.reduce(((e,t)=>e+="double_slashes"===t.type?2:1),0)}static isNumber(e){return["i8","i16","i32","i64","i128","u8","u16","u32","u64","u128"].includes(e)}static findByNameStrict(e=[],t=""){var n;return null!==(n=e.find((e=>e.alias===t||e.name===t)))&&void 0!==n?n:null}}t.default=a},8829:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3542),o=n(2159);global.Module={onRuntimeInitialized:new Promise((function(e){e()}))};let a=class{async init(){await global.Module.onRuntimeInitialized;const e=o.cwrap("validate_group_tuple","string",["string","string"]),t=o.cwrap("validate_group_single","string",["string"]),n=o.cwrap("validate_field","string",["string"]);this.module={validateGroupTuple:e,validateGroupSingle:t,validate_field:n}}};a=r([i.injectable()],a),t.default=a},1945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static toSnakeCase(e){return e.replace(/\W+/g," ").split(/ |\B(?=[A-Z])/).map((e=>e.toLowerCase())).join("_")}static toPascalCase(e){return`${e}`.replace(new RegExp(/[-_]+/,"g")," ").replace(new RegExp(/[^\w\s]/,"g"),"").replace(new RegExp(/\s+(.)(\w+)/,"g"),((e,t,n)=>`${t.toUpperCase()+n.toLowerCase()}`)).replace(new RegExp(/\s/,"g"),"").replace(new RegExp(/\w/),(e=>e.toUpperCase()))}}},4272:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(7908),s=n(5622);let c=r=class{constructor(){this.parser=void 0}async getParser(){if(this.parser)return Promise.resolve(this.parser);await a.init();const e=new a,t=await a.Language.load(r.getWasmPath());return e.setLanguage(t),this.parser=e,this.parser}static getWasmPath(){return s.resolve(__dirname+"","tree-sitter-leoInput.wasm")}getParserSync(){return this.parser?this.parser:new a}};c=r=i([o.injectable()],c),t.default=c},7505:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(7908),s=n(5622);let c=r=class{constructor(){this.parser=void 0}async getParser(){if(this.parser)return Promise.resolve(this.parser);await a.init();const e=new a,t=await a.Language.load(r.getWasmPath());return e.setLanguage(t),this.parser=e,this.parser}static getWasmPath(){return s.join(__dirname,"","tree-sitter-leo.wasm")}getParserSync(){return this.parser?this.parser:new a}};c=r=i([o.injectable()],c),t.default=c},7285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(8706);const r=n(3542),i=n(2153),o=n(7505),a=n(4272),s=n(8200),c=n(3715),u=n(8055),l=n(5226),d=n(9364),f=n(2446),p=n(5862),h=n(5947),m=n(3359),g=n(6354),y=n(4835),_=n(6090),v=n(6984),b=n(5944),E=n(7414),T=n(3234),w=n(13),S=n(9767),R=n(6920),P=n(8151),N=n(5513),O=n(4),C=n(4269),D=n(4235),x=n(8829),A=n(3846),I=n(2853),k=n(9059),M=n(5471),F=n(8661),j=n(2546),B=n(8768),L=n(2561),q=n(3003),U=n(470);t.default=e=>{const t=new r.Container;return t.bind(R.TYPE.Cache).to(P.default).inSingletonScope(),t.bind(R.TYPE.SettingsService).to(S.default).inSingletonScope(),t.bind(R.TYPE.LoggerService).toConstantValue(new T.default(e)),t.bind(R.TYPE.TreeSitterLeo).to(o.default).inSingletonScope(),t.bind(R.TYPE.TreeSitterInput).to(a.default).inSingletonScope(),t.bind(R.TYPE.LeoWasmApi).to(x.default).inSingletonScope(),t.bind(R.TYPE.CompletionScopeService).toConstructor(N.default),t.bind(R.TYPE.CompletionScopeServiceFactory).to(N.CompletionScopeServiceFactory),t.bind(R.TYPE.ImportService).toConstructor(E.default),t.bind(R.TYPE.ImportServiceFactory).to(E.ImportServiceFactory),t.bind(R.TYPE.CircuitDiagnostic).to(s.default),t.bind(R.TYPE.DefinitionDiagnostic).to(c.default),t.bind(R.TYPE.FunctionDiagnostic).to(u.default),t.bind(R.TYPE.ImportDiagnostic).to(O.default),t.bind(R.TYPE.DataTypeDiagnostic).to(C.default),t.bind(R.TYPE.ArrayTypeDiagnostic).to(D.default),t.bind(R.TYPE.GroupDiagnostic).to(A.default),t.bind(R.TYPE.FieldDiagnostic).to(k.default),t.bind(R.TYPE.ExpressionDiagnostic).to(F.default),t.bind(R.TYPE.SelfDiagnostic).to(B.default),t.bind(R.TYPE.InputDiagnostic).to(q.default),t.bind(R.TYPE.CircuitParser).to(l.default),t.bind(R.TYPE.DataTypeParser).to(d.default),t.bind(R.TYPE.FunctionParser).to(f.default),t.bind(R.TYPE.ImportParser).to(p.default),t.bind(R.TYPE.StatementDeclarationParser).to(j.default),t.bind(R.TYPE.InputParser).to(L.default),t.bind(R.TYPE.LeoTomlParser).to(U.default),t.bind(R.TYPE.CircuitService).to(m.default),t.bind(R.TYPE.ColoringService).to(g.default),t.bind(R.TYPE.CompletionService).to(y.default),t.bind(R.TYPE.DiagnosticService).to(_.default),t.bind(R.TYPE.InputDiagnosticService).to(v.default),t.bind(R.TYPE.FunctionsService).to(b.default),t.bind(R.TYPE.ReservedKeywordsService).to(w.default),t.bind(R.TYPE.CacheService).to(h.default),t.bind(R.TYPE.DefinitionService).to(M.default),t.bind(R.TYPE.HoverService).to(I.default),new i.default(e,t.get(R.TYPE.TreeSitterLeo),t.get(R.TYPE.TreeSitterInput),t.get(R.TYPE.CacheService),t.get(R.TYPE.DiagnosticService),t.get(R.TYPE.InputDiagnosticService),t.get(R.TYPE.SettingsService),t.get(R.TYPE.CompletionService),t.get(R.TYPE.ColoringService),t.get(R.TYPE.LeoWasmApi),t.get(R.TYPE.DefinitionService),t.get(R.TYPE.HoverService),t.get(R.TYPE.Cache))}},8194:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(6920),s=n(1555),c=n(8151);let u=class{static getArrayAccessIndex(e){const t=s.default.getNodeByPath(e,["expression"]);if(t){const e=s.default.getNodeByPath(t,["value_number"]);if(1===t.children.length&&e)return parseInt(e.text)}return null}static getArrayIdFromAccessNode(e){var t,n;const r=s.default.getNamedParentByPath(e,["access"]);if(r){if("keyword_or_identifier"===(null===(t=r.previousNamedSibling)||void 0===t?void 0:t.type))return r.previousNamedSibling.text;if("access"===(null===(n=r.previousNamedSibling)||void 0===n?void 0:n.type)){const e=s.default.getNodeByPath(r.previousNamedSibling,["access_member","identifier"]);if(e)return e.text;if(r.previousNamedSibling.firstNamedChild&&"access_call"===r.previousNamedSibling.firstNamedChild.type){const e=s.default.getNodeByType(r.previousNamedSibling.previousNamedSibling,"identifier");return null==e?void 0:e.text}}}}};r([o.inject(a.TYPE.Cache),i("design:type",c.default)],u.prototype,"cache",void 0),u=r([o.injectable()],u),t.default=u},5226:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(3542),s=n(2374),c=n(6920),u=n(1555),l=n(2446);let d=r=class{static parseAttributes(e,t){const n=u.default.getNamedChildrenNodesByPath(e,["member_variable_declaration"]),r=[];return n.length&&n.forEach((e=>{var n;const i=u.default.getNodeByPath(e,["identifier"]);r.push({uri:t,range:u.default.range(e),name:i.text,nameRange:u.default.range(i),type:(null===(n=e.lastNamedChild)||void 0===n?void 0:n.text)||"",node:e})})),r}parseMethods(e,t=""){const n=u.default.getNamedChildrenNodesByPath(e,["function_declaration"]),r=[];return n.length&&n.forEach((e=>{const n=this.functionParser.getFunctionAst(e,t),i=!!n.parameters.find((e=>"self"===e.type));r.push({...n,isStatic:!i})})),r}parseRoot(e,t){const n=u.default.getNamedChildrenNodesByPath(e,["circuit_declaration"]),i=[];return[...n,...r.getCircuitsWithErrors(e)].forEach((e=>{const n=e.firstNamedChild;n&&i.push({uri:t,range:r.parseBodyRange(e),name:n.text,nameRange:u.default.range(n),attributes:r.parseAttributes(e,t),methods:this.parseMethods(e,t),node:e})})),i}static getCircuitsWithErrors(e){return[...u.default.getNodesByType(e,"ERROR").filter((e=>e.text.startsWith("circuit")))]}static isMemberAccessExpression(e){return!!u.default.getNodeByPath(e,["access","access_member"])}static isMethodAccessExpression(e){return!(!u.default.getNodeByPath(e,["access","access_member"])||!u.default.getNodeByType(e,"access_call"))}static isStaticAccessExpression(e){return!!u.default.getNodeByPath(e,["access","access_static_member"])}static isSelfAccessExpression(e){return!!u.default.getNodeByType(e,"self_keyword")||!!u.default.getNodeByType(e,"type_self")||!!u.default.getNodeByType(e,"self_keyword")}static isSelfNode(e){return"type_self"===e.type||"self_keyword"===e.type}static isInlineExpressionCompletion(e){if(e.match(/{/)&&e.match(/(let|Self)/)&&!e.match(/}/)){return!!(e.split("{")[0].split(/(=|return)/)[2]||"").trim()}return!1}static parseCircuitNameFromSelfNode(e){let t="";const n=u.default.getNamedParentByType(e,"circuit_declaration");if(n){t=u.default.getNodeByType(n,"identifier").text}return t}static parseBodyRange(e){const t={},n=e.lastChild;return t.end={line:n.startPosition.row,character:n.startPosition.column},u.default.forEach(e,(e=>{t.start||"{"!==e.text||(t.start={line:e.endPosition.row,character:e.endPosition.column})})),s.Range.create(t.start,t.end)}static parseCircuitNameFromStaticAccess(e){const t=u.default.getParentNotEqual(e,e.text),n=u.default.getNodeByTypes(t,["keyword_or_identifier","identifier"]);return n?n.text:""}static getCalledMemberName(e){let t=null;return r.isMethodAccessExpression(e)?t=u.default.getNodeByPath(e,["access","access_member","identifier"]):r.isStaticAccessExpression(e)&&(t=u.default.getNodeByPath(e,["access","access_static_member","identifier"])),(null==t?void 0:t.text)||""}};i([a.inject(c.TYPE.FunctionParser),o("design:type",l.default)],d.prototype,"functionParser",void 0),d=r=i([a.injectable()],d),t.default=d},9364:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(3542),s=n(6920),c=n(1555),u=n(3359),l=n(5944),d=n(8151),f=n(2446),p=n(5226),h=n(7414),m=n(4269);let g=r=class{getStatementDeclarationDataType(e,t){var n,i;if("identifier"===e.type){const r=this.cache.get(t);if(!r)return"";const i=c.default.getNamedParentByType(e,"function_declaration");if(!i)return"";const o=c.default.getSelfNamedChildByTypes(i,["identifier"]);if(!o)return"";const{functions:a,circuits:s}=r,u=e=>e.name===o.text&&c.default.isNodeInScope(e.node,o),l=a.find(u)||(()=>{let e;for(const t in s)if(e=s[t].methods.find(u))break;return e})();if(!l)return"";return(null===(n=[...l.parameters,...l.statementDefinitions].filter((t=>t.name===e.text))[0])||void 0===n?void 0:n.type)||""}if("expression_postfix"===e.type){const n=this.parseFunctionCall(e,t);if(n)return n;if(r.isArrayAccessExpression(e)||r.isTupleAccessExpression(e)){const n=this.parseExpressionPostfixNodeType(e,t);if(n)return n}}if(["constant_declaration","statement_declaration"].includes(e.type)){const t=c.default.getSelfNamedChildByTypes(e,["variables"]);if((null==t?void 0:t.lastNamedChild)&&"identifier"!==t.lastNamedChild.type)return t.lastNamedChild.text}if(e.type.startsWith("value_")){const t=r.parseValueType(e);if(t)return t}let o="expression"===e.type?e:c.default.getNodeByPath(e,["expression"]);if("expression"===e.type&&1===e.namedChildCount&&"expression"===(null===(i=e.namedChildren[0])||void 0===i?void 0:i.type)&&(o=e.namedChildren[0]),!o){if(e.type.startsWith("value_")){const t=r.parseValueType(e);if(t)return t}o=e.parent}const a=r.parseCircuitName(o);if(a)return a;if(r.parseBoolOperation(o))return"bool";const s=r.parseValueType(o);if(s)return s;const u=this.parseArrayDefinition(o,t);if(u)return u;const l=c.default.getNodeByPath(o,["expression_postfix"]);if(l&&(r.isArrayAccessExpression(l)||r.isTupleAccessExpression(l))){const e=this.parseExpressionPostfixNodeType(l,t);if(e)return e}const d=this.parseParamsOrVariable(o,t);if(d)return d;const f=this.parseStaticFunctionCall(o,t);if(f)return f;const p=this.parseCircuitMemberAccess(o,t);if(p)return p;const h=this.parseFunctionCall(o,t);if(h)return h;const m=this.parseTuple(o,t);if(m)return m;const g=this.parseExpressionType(o,t);if(g)return g;if("statement_declaration"===e.type){const t=this.parseMathOperations(e);if(t)return t}return""}parseMathOperations(e){return c.default.getNodeByTypes(e,["operation_add","operation_sub","operation_mul","operation_div","operation_pow"])?"integer":""}static parseCircuitName(e){var t;return(null===(t=c.default.getNamedChildrenNodesByPath(e,["expression_circuit_inline",["type_self","identifier"]])[0])||void 0===t?void 0:t.text)||""}static parseBoolOperation(e){return!!(c.default.getNodeByPath(e,["expression_unary","operation_not"])||c.default.getNodeByPath(e,["operation_and"])||c.default.getNodeByPath(e,["operation_or"])||c.default.getNodeByPath(e,["operation_eq"])||c.default.getNodeByPath(e,["operation_ne"])||c.default.getNodeByPath(e,["operation_ge"])||c.default.getNodeByPath(e,["operation_gt"])||c.default.getNodeByPath(e,["operation_le"])||c.default.getNodeByPath(e,["operation_lt"]))}static parseValueType(e){var t;const n=c.default.getSelfNamedChildByTypes(e,["value_field","value_group","value_integer","value_number","value_boolean","value_address","value_char","value_string"])||e;if(n)switch(n.type){case"value_address":return"address";case"value_field":return"field";case"value_group":return"group";case"value_boolean":return"bool";case"value_integer":return(null===(t=n.lastNamedChild)||void 0===t?void 0:t.text)||"";case"value_number":return"integer";case"value_char":return"char";case"value_string":return`[char; ${c.default.calculateStringLength(n)}]`}return""}parseArrayDefinition(e,t){const n=c.default.getNodeByPath(e,["expression_array_initializer"]);if(n)return this.parseArrayInitializer(n,t);const r=c.default.getNodeByPath(e,["expression_array_inline"]);return r?this.parseArrayInline(r,t):""}parseArrayInitializer(e,t){const n=c.default.getNodeByPath(e,["array_dimensions"]);if(n){const r=n.text,i=c.default.getNodeByPath(e,["expression"]);if(i){const e=this.parseArrayExpression(i,t);if(e&&r)return`[${e}; ${r}]`}}return"array"}parseArrayInline(e,t){let n="",i="";const o=this.parseInlineArrayDimension(e,t),a=c.default.getSelfNamedChildrenByTypes(e,["spread","expression"]);return 0===a.length?"[]":(a.some((e=>{let o=e;if("spread"===o.type&&(o=c.default.getNodeByPath(o,["expression"])),o)return n=this.parseArrayExpression(o,t),"spread"===e.type&&(n=r.parseArrayItemTypeFromTypeStr(n)),i||(i=n),!!n&&!n.match(/integer/)})),n||(n=i),n&&o?`[${n}; ${o}]`:"")}static checkIfInlineArrayHasSpread(e){return!!e.namedChildren.length&&!!e.namedChildren.find((e=>"spread"===e.type))}static isArrayExpression(e){const t=c.default.getNodeByPath(e,["expression_array_initializer"]),n=c.default.getNodeByPath(e,["expression_array_inline"]);return!!t||!!n}parseInlineArrayDimension(e,t){if(!e.namedChildren.length)return"";let n=e.namedChildren.length.toString();if(r.checkIfInlineArrayHasSpread(e)){let i=0;e.namedChildren.forEach((e=>{if("spread"===e.type){const n=c.default.getNodeByPath(e,["expression"]);if(n){const e=this.getStatementDeclarationDataType(n,t),{dimension:o}=r.parseArrayTypeString(e);o&&(i+=o)}}else i++})),i&&(n=i.toString())}return n}parseArrayExpression(e,t){let n="";const i=e.namedChildren[0];switch(i.type){case"value_field":case"value_group":case"value_integer":case"value_number":case"value_boolean":case"value_address":case"value_char":case"value_string":n=r.parseValueType(e);break;case"identifier":n=this.parseExistedVariableType(e,t);break;case"expression_tuple":n=this.parseTuple(e,t);break;case"expression_array_initializer":n=this.parseArrayInitializer(i,t);break;case"expression_array_inline":n=this.parseArrayInline(i,t);break;case"expression":n=this.getStatementDeclarationDataType(i,t);break;case"expression_postfix":n=this.parseExpressionPostfixNodeType(i,t)}return n}parseExistedVariableType(e,t=""){let n="";const r=c.default.getNamedParentByType(e,"function_declaration");if(!r)return this.parseExistedVariableTypeForGlobalVariable(e,t);const i=c.default.getNodesByType(r,"statement_declaration").find((t=>{const n=c.default.getNodeByPath(t,["variables","identifier"]);return n&&n.text===e.text}));if(i)n=this.getStatementDeclarationDataType(i,t);else{const t=f.default.parseParameters(r,"").find((t=>t.name===e.text));t&&(n=t.type)}return n}parseExistedVariableTypeForGlobalVariable(e,t=""){const n=c.default.getNodesByType(e.tree.rootNode,"constant_declaration").find((t=>{const n=c.default.getNodeByPath(t,["variables","identifier"]);return n&&n.text===e.text}));return n?this.getStatementDeclarationDataType(n,t):""}parseExpressionPostfixNodeType(e,t){let n="";if(p.default.isStaticAccessExpression(e))n=this.parseStaticFunctionCall(e,t);else if(p.default.isMethodAccessExpression(e)||p.default.isMemberAccessExpression(e))n=this.parseCircuitMemberAccess(e,t);else if(f.default.isExpressionFunctionCall(e))n=this.parseFunctionCall(e,t);else{const t=c.default.getNodeByPath(e,["keyword_or_identifier","identifier"]);t&&(n=this.parseExistedVariableType(t))}return r.isArrayAccessExpression(e)?n=this.getArrayAccessType(e,n):r.isTupleAccessExpression(e)&&(n=this.getTupleAccessType(e,n)),n}static isArrayAccessExpression(e){return!!c.default.getNamedChildrenNodesByPath(e,["access","access_array"]).length}static parseArrayDimensionFromTypeStr(e){return e.replace(/(^.*;)|\]/g,"").trim()}static parseArrayItemTypeFromTypeStr(e){return e.replace(/(^\[)|(; ?(\d|\(|\)|,|\s)*\]$)/g,"").trim()}static parseArrayTypeString(e){let t=r.parseArrayItemTypeFromTypeStr(e),n=r.parseArrayDimensionFromTypeStr(e);if(n.match(/\(/)){const e=n.replace(/\(|\)/g,"").trim().split(",");e.length>=2&&(t=`[${t}; ${e[1].trim()}]`,n=e[0].trim())}return{itemType:t||"",dimension:parseInt(n)||0}}static getRealArrayDimension(e){if(e.match(/\(/)){const t=e.replace(/\(|\)/g,"").trim().split(",");t.length&&(e=t[0].trim())}return e}static isArrayType(e){return!!e.trim().match(/^\[/)}static isCircuitDataType(e){return/^[a-zA-Z][a-zA-Z0-9_]*/.test(e)&&!m.default.isIntType(e)&&!["bool","field","address","group","char"].includes(e)}static isTupleSyntaxArray(e){return!!e.trim().match(/\)\]$/)}static convertTupleSyntaxArrayType(e){const{itemType:t,dimension:n}=r.parseArrayTypeString(e);return`[${t}; ${n}]`}getArrayAccessType(e,t){let n="";const i=c.default.getNamedChildrenNodesByPath(e,["access","access_array",["range","expression"]]);if(i.length){n=t;for(let e=0;e<i.length;e++){const{itemType:t,dimension:o}=r.parseArrayTypeString(n),a=i[e];if("range"===a.type){const e=this.parseRangeExpression(a);if(e.end){e.start=-1!==e.start?e.start:0,e.end=-1!==e.end?e.end:o;n=`[${t}; ${e.end-e.start}]`}}"expression"===a.type&&(n=t)}}return n}parseRangeExpression(e){var t;const n={start:0,end:0},r=c.default.getNamedChildrenNodesByPath(e,["expression"]);try{2===r.length?(n.start=parseInt(r[0].text),n.end=parseInt(r[1].text)):1===r.length&&(n.start=n.end=-1,"expression"===(null===(t=e.firstNamedChild)||void 0===t?void 0:t.type)?n.start=parseInt(r[0].text):n.end=parseInt(r[0].text))}catch(e){}return n}parseParamsOrVariable(e,t){const n=c.default.getNodeByPath(e,["identifier"]);return n?this.parseExistedVariableType(n,t):""}parseStaticFunctionCall(e,t){let n=e;if("expression_postfix"!==e.type&&(n=c.default.getNodeByPath(e,["expression_postfix"])),n){const e=c.default.getNodeByPath(n,["access","access_static_member","identifier"]);if(e){const r=c.default.getNodeByPath(n,["keyword_or_identifier"]),i=this.cache.get(t);if(!i)return"";const o=h.default.getImportedItemsByType(i,"circuit_declaration"),a=u.default.findByNameAndAlias([...i.circuits,...o],r.text);if(a){const t=u.default.findMethodsByNameStrict(a.methods,e.text);if(t.length){const e=t[0].returnType;return"Self"===e?r.text:e}}}}return""}parseCircuitMemberAccess(e,t){var n,r,i;let o=e;if("expression_postfix"!==e.type&&(o=c.default.getNodeByPath(e,["expression_postfix"])),!o)return"";const a=c.default.getNodeByPath(o,["access","access_member","identifier"]);if(a){const s=c.default.getNodeByPath(o,["keyword_or_identifier"]),l=this.cache.get(t);if(!l)return"";let d="";if("self"===s.text){const t=c.default.getNamedParentByType(e,"circuit_declaration");if(t){d=c.default.getNodeByType(t,"identifier").text}}else{const e=this.cache.findAny(s.text,t);if(!e.length)return"";d=(null===(n=e.find((e=>e.name===s.text)))||void 0===n?void 0:n.type)||""}if(!d)return"";const f=u.default.findByNameStrict([...l.circuits,...h.default.getImportedItemsByType(l,"circuit_declaration")],d);if(f){let e;if(c.default.getNamedChildrenNodesByPath(o,["access","access_call"]).length){e=(null===(r=u.default.findMethodsByNameStrict(f.methods,a.text)[0])||void 0===r?void 0:r.returnType)||""}else{e=(null===(i=u.default.findAttributesByNameStrict(f.attributes,a.text)[0])||void 0===i?void 0:i.type)||""}return"Self"===e?d:e}}return""}parseFunctionCall(e,t){let n=e;if("expression_postfix"!==e.type&&(n=c.default.getNodeByPath(e,["expression_postfix"])),!n)return"";const r=c.default.getNamedChildrenNodesByPath(n,["access","access_call"]),i=c.default.getNamedChildrenNodesByPath(n,["access","access_member"]),o=c.default.getNamedChildrenNodesByPath(n,["access","access_static_member"]);if(r.length&&!i.length&&!o.length){const e=this.cache.get(t);if(!e)return"";const r=c.default.getNodeByPath(n,["keyword_or_identifier"]),i=l.default.findByNameStrict([...e.functions,...e.imports.map((e=>e.items.filter((e=>void 0!==typeof e.returnType)))).flat()],r.text);if(i)return i.returnType}return""}parseTuple(e,t){const n=c.default.getNodeByPath(e,["expression_tuple"]);if(!n)return"";const r=c.default.getNamedChildrenNodesByPath(n,["expression"]),i=[];return r.forEach((e=>{i.push(this.getStatementDeclarationDataType(e,t))})),`(${i.join(", ")})`}static getTupleRootItemsTypes(e){return e.trim().replace(/(^\()|(\)$)/g,"").replace(/,(?=(((?!\)).)*\()|[^\(\)]*$)/g,"|||").split("|||").filter((e=>!!e)).map((e=>e.trim()))}static isTupleAccessExpression(e){return!!c.default.getNamedChildrenNodesByPath(e,["access","access_tuple"]).length}getTupleAccessType(e,t){let n="";const i=r.getTupleRootItemsTypes(t),o=c.default.getNamedChildrenNodesByPath(e,["access","access_tuple","number_positive"]);if(o.length){n=i[parseInt(o[0].text)]}return n}parseExpressionType(e,t){var n;if(e.namedChildren.find((e=>e.type.match(/^operation/)))){const r=e.namedChildren[0];if("expression"===(null===(n=r.namedChildren[0])||void 0===n?void 0:n.type))return this.getStatementDeclarationDataType(r.namedChildren[0],t)}const r=e.namedChildren.find((e=>"expression_conditional"===e.type));if(r){const e=c.default.getNamedChildrenNodesByPath(r,["expression"]);if(e&&3===e.length)return this.getStatementDeclarationDataType(e[1],t)}return""}static isOperationExpression(e){return e.children.some((e=>e.type.match(/^operation/)))}static getBaseTypeOfArray(e){const t=e.match(/\[([a-zA-Z][a-zA-Z0-9_]*)/);return t&&t[1]?t[1]:""}getCallChainType(e,t){const n=c.default.getNamedParentByWidePath(e,[["expression_postfix","identifier_assignee","self_assignee"]]);if(n){let i="",o="";const a=n.namedChildren;for(let n=0;n<a.length;n++){const s=a[n];if("ERROR"===s.type)return"";if(r.isCallChainIgnoredNode(s))r.isArrayType(i)&&(i=o=r.getBaseTypeOfArray(i));else{if(i=this.circuitService.findCircNameByRelatedNode(s,o,t),!(i||(i=this.getMemberAccessTypeOfCallChain(s,o,t),i||(i=r.getTupleAccessTypeOfCallChain(s,o),i||(i=this.getFirstIdentifierTypeOfCallChain(s,t))))))return"";o=i}if(c.default.isPositionEqual(s,e))return i}}return""}static isCallChainIgnoredNode(e){return!!c.default.getNodeByType(e,"access_array")||!!c.default.getNodeByType(e,"access_call")}getMemberAccessTypeOfCallChain(e,t,n){if(c.default.getNodeByType(e,"access_member")||c.default.getNodeByType(e,"access_static_member")){const r=this.circuitService.findFromLocalAndImported(t,n);return r?this.circuitService.parseTypeFromAccessNode(e,r):""}return""}static getTupleAccessTypeOfCallChain(e,t){if(c.default.getNodeByType(e,"access_tuple")){const n=r.getTupleRootItemsTypes(t),i=c.default.getNodeByPath(c.default.getNodeByType(e,"access_tuple"),["number_positive"]);return n.length&&n[parseInt(i.text)]?n[parseInt(i.text)]:""}return""}getFirstIdentifierTypeOfCallChain(e,t){if("keyword_or_identifier"===e.type||"identifier"===e.type){const n=c.default.getNamedParentByWidePath(e,[["expression_postfix","identifier_assignee"]]);if(n&&c.default.isPositionEqual(n.firstNamedChild,e)){const n=this.cache.get(t),r=f.default.getFunctionAstFromChildNode(e,n),i=[...l.default.findStatementDefinitionByName(r?r.statementDefinitions:[],e.text,!0),...l.default.findParametersByName(r?r.parameters:[],e.text,!0),...l.default.findStatementDefinitionByName(this.cache.get(t).constants,e.text,!0)];if(i[0])return i[0].type}}return""}};i([a.inject(s.TYPE.Cache),o("design:type",d.default)],g.prototype,"cache",void 0),i([a.inject(s.TYPE.CircuitService),o("design:type",u.default)],g.prototype,"circuitService",void 0),g=r=i([a.injectable()],g),t.default=g},2446:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(3542),s=n(2374),c=n(2880),u=n(6920),l=n(1555),d=n(3359),f=n(2546),p=n(5907);let h=r=class{parseRoot(e,t){const n=l.default.getSelfNamedChildrenByTypes(e,["function_declaration"]),i=r.getFunctionsWithErrors(e),o=[];return[...n,...i].forEach((e=>{const n=this.getFunctionAst(e,t);n&&o.push(n)})),o}getFunctionAst(e,t){const n=l.default.getSelfNamedChildByTypes(e,["identifier"]);if(!n)return null;const i=r.parseParameters(e,t),o=r.parseReturnType(e),a=r.parseContext(e);return{uri:t,range:l.default.range(e),name:n.text,nameRange:l.default.range(n),parameters:i,returnType:o,statementDefinitions:this.parseStatementDeclarations(e,t),documentation:r.getDocumentation(n.text,i,o),node:e,contexts:a,scopesRanges:r.parseScopesRanges(e)}}static parseContext(e){const t=[];return l.default.getSelfNamedChildrenByTypes(e,["annotation"]).forEach((e=>{var n;const r=l.default.getSelfNamedChildrenByTypes(e,["annotation_argument"]).map((e=>e.text));t.push({name:(null===(n=e.firstNamedChild)||void 0===n?void 0:n.text)||"",arguments:r})})),t}static formHoverAnnotation(e,t){if(void 0===e.isStatic&&t===e.uri&&e.contexts){const t=e.contexts.find((e=>"test"===e.name));if(t)return`@${t.name}${t.arguments[0]?"("+t.arguments[0]+")":""}`}return""}static parseReturnType(e){const t=l.default.getSelfNamedChildByTypes(e,["return_type"]);if(t){if("Self"===t.text){const e=l.default.getNamedParentByType(t,p.NODE_TYPES.circuit_declaration);if(e){const t=l.default.getNodeByType(e,p.NODE_TYPES.identifier);if(t)return t.text}}return t.text}return""}parseStatementDeclarations(e,t){const n=l.default.getNodesByType(e,"statement_declaration"),r=[];r.push(...this.statementDeclarationParser.parserNodes(n,t));return l.default.getNodesByType(e,"statement_for").forEach((e=>{const n=l.default.getSelfNamedChildByTypes(e,["identifier"]);r.push({uri:t,range:l.default.range(n),declareType:"const",isConstant:!0,accessModifier:"",isMutable:!1,name:n.text,nameRange:l.default.range(n),type:"u32",kind:c.CompletionItemKind.Constant,isCircuit:!1,node:n,isGlobalConstant:!1})})),r}parseStatementDefinitionsByPosition(e,t){const n=[],r=t.rootNode.descendantForPosition({row:e.position.line,column:e.position.character});let i=r;if("function_declaration"!==r.type.trim()&&(i=l.default.getNamedParentByType(r,"function_declaration")),i)n.push(...this.parseStatementDeclarations(i,e.textDocument.uri));else if("ERROR"===r.type){const t=l.default.getNamedParentByType(r,"ERROR");t&&n.push(...this.parseStatementDeclarations(t,e.textDocument.uri))}return n}static parseParameters(e,t){const n=[];return l.default.getNamedChildrenNodesByPath(e,["function_parameters",["self_keyword","mut_self_keyword","const_self_keyword","function_parameter"]]).forEach((e=>{var r;const i={uri:t,range:l.default.range(e),kind:c.CompletionItemKind.Variable,node:e};switch(e.type){case"self_keyword":case"mut_self_keyword":case"const_self_keyword":{const t="mut_self_keyword"===e.type,r="const_self_keyword"===e.type;n.push({...i,accessModifier:t?"mutable":"",nameRange:l.default.range(t?l.default.getNodeByType(e,"self_keyword"):e),isMutable:t,isConstant:r,kind:r?c.CompletionItemKind.Constant:c.CompletionItemKind.Variable,name:"self",type:"self"});break}default:{const t=!!l.default.getSelfNamedChildByTypes(e,["const_"]),o=l.default.getSelfNamedChildByTypes(e,["identifier"]);n.push({...i,accessModifier:t?"":"mutable",isMutable:!t,isConstant:t,name:o.text,nameRange:l.default.range(t?e.firstChild:l.default.getNodeByType(e,p.NODE_TYPES.identifier)),type:(null===(r=e.lastNamedChild)||void 0===r?void 0:r.text)||""})}}})),n}static getDocumentation(e,t,n){let r=`${e} (${t.map((e=>`${e.name}: ${e.type}`)).join(", ")})`;return n&&(r+=` -> ${n}`),r}static getFunctionsWithErrors(e){return[...l.default.getNodesByType(e,"ERROR").filter((e=>e.text.startsWith("function")))]}static getFunctionAstFromChildNode(e,t){const n=l.default.getNamedParentByType(e,"function_declaration");if(!n)return null;const r=l.default.getNodeByPath(n,["identifier"]),i=l.default.getNamedParentByType(n,"circuit_declaration");if(i){const e=l.default.getNodeByType(i,"identifier"),n=d.default.findByNameStrict(t.circuits,e.text);return l.default.findFunctionByIdentifierNode(n.methods,r)}return l.default.findFunctionByIdentifierNode(t.functions,r)}static isExpressionFunctionCall(e){return!!l.default.getNodeByPath(e,["access","access_call"])}static parseScopesRanges(e){var t,n,r,i,o;const a=l.default.getNodeByType(e,"block"),c={},u={},d={};if(a&&"ERROR"!==e.type)d.start={line:a.startPosition.row,character:a.startPosition.column+1},d.end={line:a.endPosition.row,character:a.endPosition.column>0?a.endPosition.column-1:0},u.end={line:a.startPosition.row,character:a.startPosition.column};else{const t=e.lastChild;d.end={line:t.startPosition.row,character:t.startPosition.column}}return l.default.forEach(e,(e=>{if(c.start||"("!==e.text||(c.start={line:e.endPosition.row,character:e.endPosition.column}),!c.end&&"->"===e.text){let t=e.previousSibling;t||(t=e.parent),c.end={line:t.endPosition.row,character:t.endPosition.column-1},u.start={line:e.endPosition.row,character:e.endPosition.column}}if(d.start||"{"!==e.text||(d.start={line:e.endPosition.row,character:e.endPosition.column},u.end={line:e.startPosition.row,character:e.startPosition.column}),!c.end&&"{"===e.text){let t=e.parent.previousSibling;t&&!t.text.endsWith(")")&&(t=t.previousSibling),t||(t=e.previousSibling),c.end={line:t.endPosition.row,character:t.endPosition.column-1},u.start={line:t.endPosition.row,character:t.endPosition.column}}})),d.start=null!==(t=d.start)&&void 0!==t?t:d.end,c.start=null!==(n=c.start)&&void 0!==n?n:d.end,c.end=null!==(r=c.end)&&void 0!==r?r:d.end,u.start=null!==(i=u.start)&&void 0!==i?i:d.end,u.end=null!==(o=u.end)&&void 0!==o?o:d.end,{parameters:s.Range.create(c.start,c.end),returnType:s.Range.create(u.start,u.end),body:s.Range.create(d.start,d.end)}}};i([a.inject(u.TYPE.StatementDeclarationParser),o("design:type",f.default)],h.prototype,"statementDeclarationParser",void 0),h=r=i([a.injectable()],h),t.default=h},5862:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(3542),s=n(5907),c=n(6920),u=n(4862),l=n(1555),d=n(7414),f=n(5944),p=n(3359),h=n(3234);let m=r=class{async parseRoot(e,t){const n=l.default.getNamedChildrenNodesByPath(e,["import_declaration"]),r=[];n.forEach((e=>{r.push(this.parseImport(e,t))}));return(await Promise.all(r)).flat()}async parseImport(e,t){const n=[],r=this.importServiceFactory.create();try{await r.parseImportNode(e,t);r.getImportedFiles().forEach((r=>{n.push({uri:t,range:l.default.range(e),path:r.uri,items:r.items,node:e})}))}catch(r){this.loggerService.log(`ERROR in ImportParser: ${r.message}`),r instanceof u.DiagnosticError||this.loggerService.error(r.stack),n.push({uri:t,range:l.default.range(e),path:"",items:[],node:e,errors:[r]})}return n}static parserImportSymbolNode(e){const t=l.default.getSelfNamedChildrenByTypes(e,[s.NODE_TYPES.identifier]);return{node:t[0],name:t[0].text,alias:t.length>1?t[1].text:""}}static parseSymbolAlias(e){let t="";return l.default.getNamedChildrenNodesByPath(e,[s.NODE_TYPES.identifier]).length>1&&"as"===e.children[1].text.trim()&&(t=e.namedChildren[1].text),{original:e.namedChildren[0].text,alias:t}}static getPackageName(e){const t=l.default.getNodeByType(e,"package_name");return(null==t?void 0:t.text)||""}static parseSymbolFromFile(e,t,n){let r;return r=p.default.findByNameStrict(t,e),r||(r=f.default.findByNameStrict(n,e),r||null)}static generatePathFromImportNode(e,t=[]){const n=[],i=l.default.getNodeByType(e,"package_name");t.push(i);return r.parseMultiImportPackageItems(e).forEach((e=>{switch(e.type){case s.NODE_TYPES.package:case s.NODE_TYPES.packages:n.push(...r.generatePathFromImportNode(e,[...t]));break;default:{const r=[...t];r.push(e),n.push(r);break}}})),n}static parseMultiImportPackageItems(e){return l.default.getSelfNamedChildrenByTypes(e,[s.NODE_TYPES.star,s.NODE_TYPES.packages,s.NODE_TYPES.package,s.NODE_TYPES.import_symbol])}static getPackageEntityAccessNode(e){return l.default.getSelfNamedChildByTypes(e,["star","import_symbol","package","packages"])}};i([a.inject(c.TYPE.LoggerService),o("design:type",h.default)],m.prototype,"loggerService",void 0),i([a.inject(c.TYPE.ImportServiceFactory),o("design:type",d.ImportServiceFactory)],m.prototype,"importServiceFactory",void 0),m=r=i([a.injectable()],m),t.default=m},2561:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(3003),s=n(1555),c=n(6920);let u=class{parse(e,t){const n=t.uri.endsWith(".state"),r=s.default.getSelfNamedChildrenByTypes(e.rootNode,["section","table","ERROR"]),i={textDocument:t,tree:e,uri:t.uri,isStateFile:n,isInputFile:!n,sections:[],diagnostics:[]};return r.forEach((e=>{if(a.default.checkNodeError(i,e),"ERROR"===e.type||"MISSING"===e.type)return;let n=null,r=[e];"table"===e.type&&(n=e.firstNamedChild.type,a.default.checkTable(i,e,n),r=s.default.getSelfNamedChildrenByTypes(e,["section"])),a.default.checkStateError(i,e,n),r.forEach((e=>{this.parseSection(t,e,i,n)}))})),i.diagnostics.forEach((e=>{e.source="leo"})),i}parseSection(e,t,n,r){const i=t.firstNamedChild,o=[],c={name:i.text,node:i,visibility:r,isPublic:"public"===r,isPrivate:"private"===r,declarations:o};a.default.checkSectionHeader(n,i);s.default.getNodesByType(t,"statement_declaration").forEach((t=>{const[r,i]=t.namedChildren,[a,c]=r.namedChildren;o.push({name:a.text,node:t,range:s.default.range(t),type:c.text}),this.inputDiagnostic.checkDefinition(n,t,c,i,e.uri)})),n.sections.push(c)}};r([o.inject(c.TYPE.InputDiagnostic),i("design:type",a.default)],u.prototype,"inputDiagnostic",void 0),u=r([o.injectable()],u),t.default=u},470:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(7742),s=n(6630),c=n(6920),u=n(8151),l=n(8318),d=n(3234);let f=class{async parse(){try{const e=s.URI.parse(this.cache.leoTomlUri),t=await l.readFileAsync(s.uriToFsPath(e,!1));this.cache.leoTomlCacheData=a.parse(t)}catch(e){this.loggerService.error(e.message),this.loggerService.error(e.stack)}}};r([o.inject(c.TYPE.Cache),i("design:type",u.default)],f.prototype,"cache",void 0),r([o.inject(c.TYPE.LoggerService),i("design:type",d.default)],f.prototype,"loggerService",void 0),f=r([o.injectable()],f),t.default=f},2546:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(2374),s=n(1555),c=n(6920),u=n(9364);let l=class{parseRoot(e,t){const n=s.default.getSelfNamedChildrenByTypes(e,["constant_declaration"]);return this.parserNodes(n,t)}parserNodes(e,t){const n=[];return e.length&&e.forEach((e=>{const r=s.default.getNamedChildrenNodesByPath(e,["variables","identifier"]),i=s.default.getSelfNamedChildByTypes(e,["let_","const_"]);r.forEach((r=>{const o="const_"===i.type;n.push({uri:t,nameRange:s.default.range(r),range:s.default.range(e),declareType:o?"const":"let",isConstant:o,accessModifier:o?"":"mutable",isMutable:!o,name:r.text,type:this.dataTypeParser.getStatementDeclarationDataType(e,t),kind:o?a.CompletionItemKind.Constant:a.CompletionItemKind.Variable,isCircuit:!!s.default.getNodeByPath(e,["expression","expression_circuit_inline"]),node:e,isGlobalConstant:"constant_declaration"===e.type})}))})),n}};r([o.inject(c.TYPE.DataTypeParser),i("design:type",u.default)],l.prototype,"dataTypeParser",void 0),l=r([o.injectable()],l),t.default=l},5947:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(6288),s=n(6630),c=n(5622),u=n(7742),l=n(6920),d=n(7505),f=n(5226),p=n(2446),h=n(5862),m=n(3234),g=n(8318),y=n(8151),_=n(2546),v=n(4272),b=n(2561),E=n(470);let T=class{async setLeoCacheDocument(e){this.cache.changeInProgress(!0),await this.leoTomlParser.parse();const t=this.treeSitterLeo.getParserSync(),n=e.uri;this.loggerService.log(`[UriDataService][setLeoCacheDocument]: ${n}`);const r=e.getText(),i=t.parse(r),o=await this.importParser.parseRoot(i.rootNode,n),a=this.circuitParser.parseRoot(i.rootNode,n),s=this.functionParser.parseRoot(i.rootNode,n),c=this.statementDeclarationParser.parseRoot(i.rootNode,n);this.cache.set(n,{textDocument:e,tree:i,imports:[...o],circuits:[...a],functions:[...s],constants:[...c]}),this.cache.changeInProgress(!1),this.loggerService.log(`\n      [UriDataService][setLeoCacheDocument]: \n          Found imports: ${o.length};\n          Found circuits: ${a.length};\n          Found functions: ${s.length};\n          Found constants: ${c.length};\n      `)}setInputCacheDocument(e){const t=this.treeSitterInput.getParserSync(),n=e.uri;this.loggerService.log(`[UriDataService][setInputCacheDocument]: ${n}`);const r=e.getText(),i=t.parse(r),o=this.inputParser.parse(i,e);this.cache.setInputs(n,o)}async analyzeWorkspace(e){var t,n;if(e){this.cache.rootFolderFsPath=e;const r=c.join(e,"Leo.toml");this.cache.leoTomlUri=s.URI.file(r).toString();try{const i=await g.readFileAsync(r),o=u.parse(i);this.cache.projectName=null!==(n=null===(t=null==o?void 0:o.project)||void 0===t?void 0:t.name)&&void 0!==n?n:c.basename(e)}catch(t){this.cache.projectName=c.basename(e)}this.cache.inputsFolderFsPath=c.join(e,"inputs"),this.cache.mainFileUri=s.URI.file(c.join(e,"src","main.leo")).toString(),this.cache.mainInputFileUri=s.URI.file(c.join(this.cache.inputsFolderFsPath,`${this.cache.projectName}.in`)).toString(),await this.leoTomlParser.parse(),await this.analyzeInputFiles(e),await this.analyzeLeoFiles(e)}}async analyzeLeoFiles(e){const t="**/*.leo";this.loggerService.log(`[UriDataService][analyzeWorkspace]: Analyzing files matching glob "**/*.leo" inside ${e}`);const n=Date.now(),r=()=>(Date.now()-n)/1e3+" seconds";let i=[];try{i=await g.getFilePaths(t,e)}catch(e){this.loggerService.error(`[UriDataService][analyzeWorkspace]: Failed to analyze leo files using the glob "**/*.leo". The experience will be degraded. Error: ${e.message}.`)}this.loggerService.log(`[UriDataService][analyzeWorkspace]: Glob resolved with ${i.length} files after ${r()}`),await Promise.all(i.map((async e=>{const t=s.URI.file(e).toString();this.loggerService.log(`[UriDataService][analyzeWorkspace]: Analyzing ${t}`);try{const n=await g.readFileAsync(e),r=a.TextDocument.create(t,"leo",1,n);await this.setLeoCacheDocument(r),await this.setLeoCacheDocument(r)}catch(e){this.loggerService.error(`[UriDataService][analyzeWorkspace]: Failed analyzing ${t}. Error: ${e.message}`)}}))),this.loggerService.log(`[UriDataService][analyzeWorkspace]: Analyzer finished after ${r()}`)}async analyzeInputFiles(e){const t="inputs/*.{in,state}";this.loggerService.log(`[UriDataService][analyzeWorkspace]: Analyzing files matching glob "${t}" inside ${e}`);const n=Date.now(),r=()=>(Date.now()-n)/1e3+" seconds";let i=[];try{i=await g.getFilePaths(t,e)}catch(e){this.loggerService.error(`[UriDataService][analyzeWorkspace]: Failed to analyze leo inputs files using the glob "${t}". The experience will be degraded. Error: ${e.message}.`)}this.loggerService.log(`[UriDataService][analyzeWorkspace]: Glob resolved with ${i.length} files after ${r()}`),await Promise.all(i.map((async e=>{const t=s.URI.file(e).toString();this.loggerService.log(`[UriDataService][analyzeWorkspace]: Analyzing ${t}`);try{const n=await g.readFileAsync(e),r=a.TextDocument.create(t,"leoInput",1,n);this.setInputCacheDocument(r),this.setInputCacheDocument(r)}catch(e){this.loggerService.error(`[UriDataService][analyzeWorkspace]: Failed analyzing ${t}. Error: ${e.message}`)}}))),this.loggerService.log(`[UriDataService][analyzeWorkspace]: Analyzer finished after ${r()}`)}};r([o.inject(l.TYPE.TreeSitterLeo),i("design:type",d.default)],T.prototype,"treeSitterLeo",void 0),r([o.inject(l.TYPE.TreeSitterInput),i("design:type",v.default)],T.prototype,"treeSitterInput",void 0),r([o.inject(l.TYPE.LoggerService),i("design:type",m.default)],T.prototype,"loggerService",void 0),r([o.inject(l.TYPE.Cache),i("design:type",y.default)],T.prototype,"cache",void 0),r([o.inject(l.TYPE.CircuitParser),i("design:type",f.default)],T.prototype,"circuitParser",void 0),r([o.inject(l.TYPE.FunctionParser),i("design:type",p.default)],T.prototype,"functionParser",void 0),r([o.inject(l.TYPE.ImportParser),i("design:type",h.default)],T.prototype,"importParser",void 0),r([o.inject(l.TYPE.StatementDeclarationParser),i("design:type",_.default)],T.prototype,"statementDeclarationParser",void 0),r([o.inject(l.TYPE.InputParser),i("design:type",b.default)],T.prototype,"inputParser",void 0),r([o.inject(l.TYPE.LeoTomlParser),i("design:type",E.default)],T.prototype,"leoTomlParser",void 0),T=r([o.injectable()],T),t.default=T},3359:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(3542),s=n(2374),c=n(6920),u=n(6014),l=n(4835),d=n(5513),f=n(1555),p=n(5944),h=n(5226),m=n(2446),g=n(8151),y=n(9364);let _=r=class{static findByName(e=[],t=""){return e.filter((e=>e.name.indexOf(t)>-1))}static findByNameStrict(e=[],t=""){return e.find((e=>e.name===t))||null}static findImportByNameStrict(e=[],t=""){for(let n=0;n<e.length;n++){const i=r.findByNameAndAlias(e[n].items,t);if(i)return i}return null}static findAttributesByName(e=[],t=""){return e.filter((e=>e.name.indexOf(t)>-1))}static findAttributesByNameStrict(e=[],t=""){return e.filter((e=>e.name===t))}static findMethodsByName(e=[],t=""){return e.filter((e=>e.name.indexOf(t)>-1))}static findMethodsByNameStrict(e=[],t=""){return e.filter((e=>e.name===t))}static findAllByName(e=[],t=""){const n=[];return n.push(...r.findByName(e,t)),e.forEach((({attributes:e,methods:i})=>{n.push(...r.findAttributesByName(e,t)),n.push(...r.findMethodsByName(i,t)),i.forEach((({statementDefinitions:e})=>{n.push(...p.default.findStatementDefinitionByName(e,t))}))})),n}static findByNameAndAlias(e,t){return e.find((e=>e.alias&&e.alias===t||!e.alias&&e.name===t))||null}static filterByNameAndAlias(e,t){return e.filter((e=>e.alias&&e.alias===t||!e.alias&&e.name===t))}findFromLocalAndImported(e,t){const n=this.cache.get(t);let i=null;const o=this.cache.getAllImportedItemsByType("circuit_declaration",t),a=[...n.circuits,...o];return i=r.findByNameAndAlias(a,e),i}filterFromLocalAndImported(e,t){const n=this.cache.get(t),i=this.cache.getAllImportedItemsByType("circuit_declaration",t),o=[...n.circuits,...this.filterDuplicatesFromImports(i)];return r.filterByNameAndAlias(o,e)}filterDuplicatesFromImports(e){return e.filter(((e,t,n)=>!n.slice(0,t).find((t=>t.name===e.name&&t.uri===e.uri&&(t.alias===e.alias||!t.alias&&!e.alias||t.alias===t.name&&!e.alias||e.alias===e.name&&!t.alias)))))}getDefinitionNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{circuits:e}=r;e.forEach((e=>{const r=f.default.getNodeByType(e.node,"identifier");r&&f.default.isVisible(r,t)&&n.push({start:r.startPosition,end:r.endPosition})}))}return n}getTypeCircuitNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{tree:e}=r;f.default.forEach(e.rootNode,(e=>{["type_self","type_circuit"].includes(e.type)&&f.default.isVisible(e,t)&&n.push({start:e.startPosition,end:e.endPosition})}))}return n}getInlineDefinitionNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{circuits:e,functions:i}=r,o=({node:e})=>{f.default.getNodesByType(e,"expression_circuit_inline").forEach((e=>{const r=f.default.getNodeByType(e,"identifier");r&&f.default.isVisible(r,t)&&n.push({start:r.startPosition,end:r.endPosition})}))};e.forEach((e=>e.methods.forEach(o))),i.forEach(o)}return n}getStaticCallNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{circuits:e,functions:i}=r,o=({node:e})=>{f.default.getNodesByType(e,"access_static_member").forEach((e=>{const r=f.default.getNamedParentByType(e,"expression_postfix"),i=f.default.getNodeByType(r,"keyword_or_identifier");i&&f.default.isVisible(i,t)&&n.push({start:i.startPosition,end:i.endPosition})}))};e.forEach((e=>e.methods.forEach(o))),i.forEach(o)}return n}getKnownNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{circuits:e,functions:i,imports:o}=r;let a=[];o.forEach((e=>{e.items.forEach((e=>{void 0!==e.attributes&&a.push(e.alias||e.name)}))}));const s=e=>{f.default.getNodesByValue(e.node,a).forEach((e=>{const r=f.default.getParentNotEqual(e,e.text);f.default.isVisible(e,t)&&(!r||r.text.trim()===e.text||/(?:{.*}?|::?)$/.test(r.text.trim())||r.text.includes("\n"))&&n.push({start:e.startPosition,end:e.endPosition})}))};e.forEach((e=>{a.push(e.name)})),a=u.uniq(a).filter((e=>e)),e.forEach((e=>e.methods.forEach(s))),i.forEach(s)}return n}getStaticMethodNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{circuits:e,functions:i}=r,o=({node:e})=>{f.default.getNodesByType(e,"access_static_member").forEach((e=>{if(f.default.isVisible(e,t)){const t=f.default.getNodeByType(e,"identifier");n.push({start:t.startPosition,end:t.endPosition})}}))};e.forEach((e=>e.methods.forEach(o))),i.forEach(o)}return n}getCircuitNameFromExpressionNode(e,t){let n="identifier";"expression_postfix"===e.type&&(n="keyword_or_identifier");const r=f.default.getNodeByType(e,n);let i="";if(h.default.isSelfAccessExpression(e))i=h.default.parseCircuitNameFromSelfNode(e);else if(h.default.isStaticAccessExpression(e))i=r.text;else{const n=this.cache.get(t),o=m.default.getFunctionAstFromChildNode(e,n),a=p.default.findStatementDefinitionByName(o.statementDefinitions,r.text,!0);a.length&&a[0].isCircuit&&(i=a[0].type)}return i}static isCircuitMethodCall(e){const t=f.default.getNodesByType(e,"access");return!(!t.length||!f.default.getNodeByType(t[t.length-1],"access_call"))}autocompleteInlineExpression(e,t){const n=[],i=this.cache.get(t.textDocument.uri),o=(e.split("{")[0].split(/(=|return)/)[2]||"").trim(),a=(e.split("{")[1]||"").split(","),s=a[a.length-1].trim(),c=f.default.getNodeUnderCursor(i.tree.rootNode,t.position.line,t.position.character);let u=null;if("Self"===o){const e=h.default.parseCircuitNameFromSelfNode(c);u=r.findByNameAndAlias(i.circuits,e)}else{const e=i.circuits,n=this.cache.getAllImportedItemsByType("circuit_declaration",t.textDocument.uri);u=r.findByNameAndAlias([...e,...n],o)}return u&&n.push(...r.inlineAttributesCompletions(s,u,c,i)),n}static inlineAttributesCompletions(e,t,n,r){const i=[];if(e.match(":")){const t=m.default.getFunctionAstFromChildNode(n,r),o=e.split(":")[1].trim(),a=p.default.findParametersByName(t.parameters,o,!1);[...p.default.findStatementDefinitionByName(t.statementDefinitions,o,!1),...a].forEach((e=>{i.push({label:e.name,kind:e.kind,detail:e.type,preselect:!0,scopes:[d.CompletionScope.functionBody,d.CompletionScope.methodBody,d.CompletionScope.file],sortText:l.CompletionSortOrder.definition+e.name})}))}else{t.attributes.forEach((t=>{t.name.match(e)&&i.push({label:t.name,kind:s.CompletionItemKind.Property,detail:t.type,preselect:!0,scopes:[d.CompletionScope.functionBody,d.CompletionScope.methodBody,d.CompletionScope.file],sortText:l.CompletionSortOrder.attribute+t.name})}))}return i}findCircNameFromPostfixIdentifier(e,t,n){let r="";if(e.nextNamedSibling&&f.default.getNodeByType(e.nextNamedSibling,"access_static_member"))r=e.text;else{const i=[...p.default.findStatementDefinitionByName(t?t.statementDefinitions:[],e.text,!0),...p.default.findParametersByName(t?t.parameters:[],e.text,!0),...p.default.findStatementDefinitionByName(this.cache.get(n).constants,e.text,!0)];i[0]&&(r=i[0].type,y.default.isArrayType(r)&&y.default.isCircuitDataType(y.default.getBaseTypeOfArray(r))&&(r=y.default.getBaseTypeOfArray(r)))}return this.findFromLocalAndImported(r,n)?r:""}findCircNameByRelatedNode(e,t,n){const r=this.cache.get(n),i=m.default.getFunctionAstFromChildNode(e,r);if("self_keyword"===e.type||f.default.getNodeByType(e,"self_keyword"))return h.default.parseCircuitNameFromSelfNode(e);if("keyword_or_identifier"===e.type||"identifier"===e.type)return this.findCircNameFromPostfixIdentifier(e,i,n);if(f.default.getNodeByType(e,"access_member")||f.default.getNodeByType(e,"access_static_member")){const r=this.findFromLocalAndImported(t,n);if(!r)return"";const i=this.parseTypeFromAccessNode(e,r);if(y.default.isArrayType(i)&&y.default.isCircuitDataType(y.default.getBaseTypeOfArray(i)))return y.default.getBaseTypeOfArray(i);if(y.default.isCircuitDataType(i))return i}return""}parseTypeFromAccessNode(e,t){const n=f.default.getNodeByType(e,"identifier");if(p.default.isFunctionCall(e)){const e=r.findMethodsByNameStrict(t.methods,n.text)[0];if(e)return e.returnType}else{const e=r.findAttributesByNameStrict(t.attributes,n.text)[0];if(e)return e.type}return""}};i([a.inject(c.TYPE.Cache),o("design:type",g.default)],_.prototype,"cache",void 0),_=r=i([a.injectable()],_),t.default=_},6354:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(6920),s=n(3359),c=n(5944),u=n(7414);let l=class{getScopes(e){const{uri:t,visibleRanges:n}=e,r=this.importServiceFactory.create();return{uri:t,scopes:{"file.definition.circuit.name.server.leo":[...this.circuitService.getDefinitionNameRange(t,n)],"inline.definition.circuit.name.server.leo":[...this.circuitService.getInlineDefinitionNameRange(t,n)],"static.call.circuit.name.server.leo":[...this.circuitService.getStaticCallNameRange(t,n)],"type.circuit.name.server.leo":[...this.circuitService.getTypeCircuitNameRange(t,n)],"import.circuit.name.server.leo":[...r.getCircuitsNameRange(t,n)],"known.circuit.name.server.leo":[...this.circuitService.getKnownNameRange(t,n)],"file.definition.function.name.server.leo":[...this.functionsService.getDefinitionNameRange(t,n)],"import.function.name.server.leo":[...r.getFunctionsNameRange(t,n)],"circuit.method.name.static.call.server.leo":[...this.circuitService.getStaticMethodNameRange(t,n)],"function.name.call.server.leo":[...this.functionsService.getKnownNameRange(t,n),...this.functionsService.getCallNameRange(t,n)]}}}};r([o.inject(a.TYPE.CircuitService),i("design:type",s.default)],l.prototype,"circuitService",void 0),r([o.inject(a.TYPE.FunctionsService),i("design:type",c.default)],l.prototype,"functionsService",void 0),r([o.inject(a.TYPE.ImportServiceFactory),i("design:type",u.ImportServiceFactory)],l.prototype,"importServiceFactory",void 0),l=r([o.injectable()],l),t.default=l},5513:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionScopeServiceFactory=t.CompletionScope=void 0;const o=n(3542),a=n(6920),s=n(1555),c=n(8151);var u;!function(e){e.file="file",e.functionParameters="functionParameters",e.functionReturnType="functionReturnType",e.functionBody="functionBody",e.methodBody="methodBody",e.circuitBody="circuitBody",e.import="import"}(u=t.CompletionScope||(t.CompletionScope={}));let l=class{getScope(){const{circuits:e,functions:t}=this.cache.get(this.param.textDocument.uri),n=e.reduce(((e,t)=>(e.push(...t.methods),e)),[]);let r=u.file;return[...t,...n].forEach((e=>{const t=s.default.isInScope(e.scopesRanges.parameters,this.param.position),i=s.default.isInScope(e.scopesRanges.returnType,this.param.position),o=s.default.isInScope(e.scopesRanges.body,this.param.position);t&&(r=u.functionParameters),i&&(r=u.functionReturnType),o&&(r=u.functionBody,n.includes(e)&&(r=u.methodBody))})),r===u.file&&e.forEach((e=>{s.default.isInScope(e.range,this.param.position)&&(r=u.circuitBody)})),r}filter(e){return e.filter((e=>e.scopes.includes(this.scope)))}};l=r([o.injectable()],l),t.default=l;let d=class{create(e,t){const n=new this.CompletionScopeService;return n.cache=this.cache,n.param=e,n.query=t,n.scope=n.getScope(),n}};r([o.inject(a.TYPE.Cache),i("design:type",c.default)],d.prototype,"cache",void 0),r([o.inject(a.TYPE.CompletionScopeService),i("design:type",Object)],d.prototype,"CompletionScopeService",void 0),d=r([o.injectable()],d),t.CompletionScopeServiceFactory=d},4835:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionSortOrder=void 0;const a=n(3542),s=n(2880),c=n(6920),u=n(1555),l=n(5226),d=n(2446),f=n(3359),p=n(5944),h=n(13),m=n(3234),g=n(5513),y=n(7414),_=n(8151),v=n(9364),b=n(6630),E=n(5622);var T;!function(e){e.method="0_",e.attribute="0_",e.definition="1_",e.parameter="1_",e.function="2_",e.circuit="3_",e.reserverdKeyword="4_",e.importItem="0_",e.importPath="1_"}(T=t.CompletionSortOrder||(t.CompletionSortOrder={}));let w=r=class{static getAllItems(e){const t=[],n=[];return y.default.combineFileImports(e.imports).forEach((e=>{const r=e.items.filter((e=>"function_declaration"===e.node.type));n.push(...r);const i=e.items.filter((e=>"circuit_declaration"===e.node.type));t.push(...i)})),t.push(...e.circuits),n.push(...e.functions),{circuits:t,funcs:n}}static parseLineUnderCursor(e,t,n){let i=t.trim().endsWith("::"),o=t;return u.default.forEach(e.rootNode,(e=>{const a=e.text,s=u.default.range(e);if(n.position.line!==s.start.line||o!==t)return;if(["statement_return","statement_conditional","statement_for","statement_console_assert","statement_console_debug","statement_console_error","statement_console_log","statement_declaration","statement_assign","expression"].includes(e.type)&&0===a.indexOf(t,0)){const{parsedQuery:n,isStaticAccess:a}=r.parseStatement(e,t);o=n,i=a}else["ERROR","assignee"].includes(e.type)&&0===a.indexOf(t,0)?o=r.parseErrorNode(e,t,n):n.position.character===s.end.character&&(o=r.parseNodeUnderCursor(e,t))})),{query:o,static_call:i}}static parseStatement(e,t){let n={parsedQuery:t,isStaticAccess:!1};return"statement_assign"===e.type&&(n.parsedQuery=r.parseStatementAssign(e)||t),"expression"===e.type&&(n=r.parseExpressionStatement(e,t)),("statement_return"===e.type||"expression"===e.type&&"return;"===e.text)&&(n.parsedQuery=r.parseReturnStatement(e,t),n.isStaticAccess=t.trim().endsWith("::")),n}static parseStatementAssign(e){const t=u.default.getNodeByPath(e,["identifier_assignee","identifier"]);if(t){if(null!==u.default.getNodeByPath(e,["identifier_assignee","access_assignee","access_member"]))return t.text}return""}static parseExpressionStatement(e,t){let n=!1;const r=u.default.getNodeByPath(e,["identifier"]);if(null!==r)return{parsedQuery:r.text,isStaticAccess:n};const i=u.default.getNodeByPath(e,["expression_postfix","keyword_or_identifier"]),o=u.default.getNodeByPath(e,["expression_postfix"]);return o&&l.default.isStaticAccessExpression(o)&&(n=!0),{parsedQuery:i?i.text:t,isStaticAccess:n}}static parseReturnStatement(e,t){t=t.split(" ").pop()||"";const n=u.default.getNodeByPath(e,["expression","expression_postfix","keyword_or_identifier"]);return n&&(t=n.text),t}static parseErrorNode(e,t,{position:{character:n}}){const r=u.default.getNodeByValue(e,"."),i=u.default.getNodeByValue(e,"::");if(i&&i.endPosition.column===n)return l.default.parseCircuitNameFromStaticAccess(i);if(r&&r.parent&&r.endPosition.column===n){const e=u.default.getNodeByType(r.parent,"keyword_or_identifier");if(e)return e.text;const t=u.default.getNodeByType(r.parent,"identifier");if(t)return t.text}else if(u.default.getNodeByType(e,"operation_assign")){const n=e.text.trim().split("=");n.length&&!n[1]&&(t="")}return t}static parseNodeUnderCursor(e,t){var n,r;if("."===e.text||e.previousSibling&&"."===e.previousSibling.type){const n=e.previousSibling;if("."===e.text&&n)t=n.text;else{const n=u.default.getNamedParentByType(e,"expression_postfix"),r=u.default.getNamedParentByType(e,"identifier_assignee");let i=null;n?i=u.default.getNodeByType(n,"keyword_or_identifier"):r&&(i=u.default.getNodeByType(r,"identifier")),i&&(t=i.text)}}else if("::"===e.text&&(null===(n=e.previousSibling)||void 0===n?void 0:n.type)&&["identifier","keyword_or_identifier"].includes(e.previousSibling.type))t=e.previousSibling.text;else if("="===(null===(r=e.previousSibling)||void 0===r?void 0:r.type))if(v.default.isOperationExpression(e)){const n=e.namedChildren.map((e=>!!e.type.match(/^operation/))).lastIndexOf(!0);t=e.namedChildren[n+1].text}else t=e.text;return t}static completeMethodsByCircuitName(e,t,n,i){const o=f.default.findByNameAndAlias(e,t);o&&(n?r.circuitStaticCompletionItems(o,i):r.circuitCompletionItems(o,i))}static circuitStaticCompletionItems(e,t){e.methods.filter((e=>e.isStatic)).forEach((e=>{t.push({label:e.name,insertText:r.getFunctionCompletionText(e),insertTextFormat:s.InsertTextFormat.Snippet,kind:s.CompletionItemKind.Method,detail:e.returnType,preselect:!0,documentation:e.documentation,scopes:[g.CompletionScope.functionBody,g.CompletionScope.methodBody],sortText:T.method+e.name})}))}static checkIfQueryIsCircuitVariable(e,t,n,i){const o=e.find((e=>e.isCircuit&&e.name===t));o&&r.completeMethodsByCircuitName(n,o.type,!1,i)}static circuitCompletionItems(e,t){e.attributes.forEach((e=>{t.push({label:e.name,kind:s.CompletionItemKind.Property,detail:e.type,preselect:!0,scopes:[g.CompletionScope.functionBody,g.CompletionScope.methodBody],sortText:T.attribute+e.name})})),e.methods.filter((e=>!e.isStatic)).forEach((e=>{t.push({label:e.name,insertText:r.getFunctionCompletionText(e),insertTextFormat:s.InsertTextFormat.Snippet,kind:s.CompletionItemKind.Method,detail:e.returnType,preselect:!0,documentation:e.documentation,scopes:[g.CompletionScope.functionBody,g.CompletionScope.methodBody],sortText:T.method+e.name})}))}static getMatchItems(e,t,n){e.forEach((e=>{var i,o;const a=e.alias&&0===e.alias.indexOf(n,0);if(a||!e.alias&&0===(null===(i=e.name)||void 0===i?void 0:i.indexOf(n,0))){let n="circuit";"circuit_declaration"!==(null===(o=e.node)||void 0===o?void 0:o.type)&&(n=d.default.parseReturnType(e.node));const i=a?e.alias:e.name;let c={label:i,kind:"circuit"===n?s.CompletionItemKind.Class:s.CompletionItemKind.Function,detail:n,preselect:!0,documentation:"circuit"===n?e.name:e.documentation,scopes:[g.CompletionScope.functionBody,g.CompletionScope.methodBody,g.CompletionScope.functionReturnType,g.CompletionScope.functionParameters],sortText:("circuit"===n?T.circuit:T.function)+i};"circuit"!==n&&(c={insertText:r.getFunctionCompletionText(e),insertTextFormat:s.InsertTextFormat.Snippet,...c}),t.push(c)}}))}static getFunctionCompletionText(e){const t=e.parameters.filter((e=>"self"!==e.name));return`${e.name}(${t.map(((e,t)=>`$${t+1}`)).join(", ")})$${t.length+1}`}static getMatchStatementDefinition(e,t,n){const r=p.default.autocompleteDefinitions(e,t);n.push(...r)}async search(e){const t=await this.cache.getAfterCached(e.textDocument.uri);if(!t)return[];const n=u.default.getLineUnderCursor(e,t.textDocument).trim();try{return this.getAutocomplete(e,n)}catch(e){this.loggerService.log("Autocomplete receiving failed: "+e.message),this.loggerService.error(e.stack)}return[]}getInputCompletions(e,t){var n;const r=this.cache.get(e.textDocument.uri).tree,i=u.default.getNodeUnderCursor(r.rootNode,e.position.line,e.position.character);let o=null;if(i&&")"===i.text){const e=null===(n=i.parent)||void 0===n?void 0:n.parent;if(e){const t=u.default.getNamedChildrenNodesByPath(e,["function_parameters"]);t.length>0&&(o=t[0])}}else i&&(o=u.default.getNamedParentByType(i,"function_parameters"));if(o&&o.parent){const n=u.default.getNamedChildrenNodesByPath(o.parent,["identifier"]);let r=null;if(n.length>0&&"main"===n[0].text){const e=this.cache.getInputs(this.cache.mainInputFileUri);e&&(r=e.sections.find((e=>"main"===e.name)))}else if(n.length>0){const t=this.cache.get(e.textDocument.uri);if(t){const e=t.functions.find((e=>e.name===n[0].text));if(e){const t=e.contexts.find((e=>"test"===e.name));if(!t)return;if(0==t.arguments.length){const e=this.cache.getInputs(this.cache.mainInputFileUri);e&&(r=e.sections.find((e=>"main"===e.name)))}else{const e=t.arguments[0],n=b.URI.file(E.join(this.cache.inputsFolderFsPath,`${e}.in`)).toString(),i=this.cache.getInputs(n);i&&(r=i.sections.find((e=>"main"===e.name)))}}}}null==r||r.declarations.forEach((e=>{const n=e.name+": "+e.type;t.push({insertText:n,label:e.name,kind:s.CompletionItemKind.Variable,detail:e.type,preselect:!0,scopes:[g.CompletionScope.functionParameters],sortText:T.parameter+e.name})}))}}getAutocomplete(e,t){const n=this.cache.get(e.textDocument.uri),i=n.tree;let o=[];const a=this.completionScopeServiceFactory.create(e,t);this.getInputCompletions(e,o),o.push(...h.default.autocomplete(t));let s="";if(n&&(s=y.default.getMultipleImportTextAroundCursor(e,n)),0===t.indexOf("import")||s){const n=this.importServiceFactory.create();s?o.push(...n.autocompleteInsideMultipleImport(t,s,e)):o.push(...n.autocompleteImportQuery(t,e)),o=o.filter((e=>-1!==e.scopes.indexOf(g.CompletionScope.import)))}const{circuits:c,funcs:u}=r.getAllItems(n),d=this.functionParser.parseStatementDefinitionsByPosition(e,i);r.getMatchItems(u,o,t),r.getMatchItems(c,o,t),r.getMatchStatementDefinition(d,t,o);const f=r.parseLineUnderCursor(i,t,e),p=f.query,m=f.static_call;return p!==t&&(r.getMatchItems(u,o,p),r.getMatchItems(c,o,p),r.getMatchStatementDefinition(d,p,o)),m?(r.completeMethodsByCircuitName(c,p,!0,o),o):(r.checkIfQueryIsCircuitVariable(d,p,c,o),l.default.isInlineExpressionCompletion(t)?o.push(...this.circuitService.autocompleteInlineExpression(t,e)):o.push(...this.functionsService.autocompleteParameters(e,p)),a.filter(o))}};i([a.inject(c.TYPE.Cache),o("design:type",_.default)],w.prototype,"cache",void 0),i([a.inject(c.TYPE.LoggerService),o("design:type",m.default)],w.prototype,"loggerService",void 0),i([a.inject(c.TYPE.FunctionParser),o("design:type",d.default)],w.prototype,"functionParser",void 0),i([a.inject(c.TYPE.CircuitService),o("design:type",f.default)],w.prototype,"circuitService",void 0),i([a.inject(c.TYPE.FunctionsService),o("design:type",p.default)],w.prototype,"functionsService",void 0),i([a.inject(c.TYPE.ImportServiceFactory),o("design:type",y.ImportServiceFactory)],w.prototype,"importServiceFactory",void 0),i([a.inject(c.TYPE.CompletionScopeServiceFactory),o("design:type",g.CompletionScopeServiceFactory)],w.prototype,"completionScopeServiceFactory",void 0),w=r=i([a.injectable()],w),t.default=w},692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CORE_PACKAGES=void 0;const r=n(2374),i=n(5907),o=n(5513),a=n(4835),s=n(5862),c=n(1555);t.CORE_PACKAGES="core";const u={start:{line:0,character:0},end:{line:0,character:0}},l={unstable:{blake2s:{items:[{name:"Blake2s",node:{type:"circuit_declaration"},attributes:[],methods:[{documentation:"hash(seed: [u8; 32], message: [u8; 32]) -> [u8; 32]",name:"hash",isStatic:!0,contexts:[],returnType:"[u8; 32]",parameters:[{uri:"",range:u,nameRange:u,accessModifier:"mutable",isMutable:!0,isConstant:!1,name:"seed",type:"[u8; 32]",kind:r.CompletionItemKind.Method,node:{type:"function_parameter"}},{uri:"",range:u,nameRange:u,accessModifier:"mutable",isMutable:!0,isConstant:!1,name:"message",type:"[u8; 32]",kind:r.CompletionItemKind.Method,node:{type:"function_parameter"}}],range:u,nameRange:u,uri:"",node:{type:"function_declaration"},statementDefinitions:[],scopesRanges:{parameters:u,returnType:u,body:u}}],uri:"",range:u,contexts:[]}],uri:"",content:"",document:{},tree:{}}}};class d{static parseCorePackageImport(e){const t=[],n=[],i=s.default.generatePathFromImportNode(e),o={core:{...d.getCorePackagesConfig()}};return i.forEach((e=>{const i=d.parseImportPath(e,o);if(i.hasError)return n.push(r.Diagnostic.create(c.default.range(i.node),i.message,r.DiagnosticSeverity.Error));t.push(i.importedFile)})),n.length&&t.push({uri:"",content:"",document:{},tree:{},items:[],errors:[...n]}),t}static parseImportPath(e,t){const[n,...r]=e;if(n.type===i.NODE_TYPES.package_name&&t[n.text])return d.parseImportPath(r,t[n.text]);if(n.type===i.NODE_TYPES.package_name)return{hasError:!0,message:`No package ${n.text} in leo-core.`,node:n};if(n.type===i.NODE_TYPES.star&&t.items)return{importedFile:t};if(n.type===i.NODE_TYPES.star)return{hasError:!0,message:"No imports found in leo-core.",node:n};if(n.type===i.NODE_TYPES.import_symbol&&t.items){const e=s.default.parserImportSymbolNode(n),r=t.items.find((t=>e.name===t.name));if(r){r.alias=e.alias;return{importedFile:{...t,items:[r]}}}return{hasError:!0,message:`No package ${e.name} in leo-core.`,node:e.node}}return{hasError:!0,message:"No imports found in leo-core.",node:n}}static getCorePackagesConfig(){return l}static autocompleteCorePackageImport(e){const t=[],n=e.replace(/core\./,"").split("."),i=d.getCorePackagesConfig(),s=[];switch(n.length){case 1:s.push(...Object.keys(i));break;case 2:{const e=i[n[0]];e&&s.push(...Object.keys(e));break}case 3:{const e=i[n[0]][n[1]];e&&s.push(...e.items);break}}return s.forEach((e=>{var i,s;"object"==typeof e&&(null===(i=e.name)||void 0===i?void 0:i.match(n[n.length-1]))?"function_declaration"===(null===(s=e.node)||void 0===s?void 0:s.type)?t.push({label:e.name||"",kind:r.CompletionItemKind.Function,detail:"",preselect:!0,documentation:e.documentation,scopes:[o.CompletionScope.file,o.CompletionScope.import],sortText:a.CompletionSortOrder.importItem}):t.push({label:e.name||"",kind:r.CompletionItemKind.Class,detail:"Circuit",preselect:!0,documentation:e.name,scopes:[o.CompletionScope.file,o.CompletionScope.import],sortText:a.CompletionSortOrder.importItem}):e.match(n[n.length-1])&&t.push({label:e,kind:r.CompletionItemKind.File,detail:"",preselect:!0,documentation:e,scopes:[o.CompletionScope.file,o.CompletionScope.import],sortText:a.CompletionSortOrder.importPath})})),t}}t.default=d},5471:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(2374),s=n(6630),c=n(1555),u=n(5907),l=n(6920),d=n(8151),f=n(3359),p=n(5944);let h=class{getDefinitionLocation(e,t){const{circuits:n,functions:r,imports:i}=this.cache.get(e.textDocument.uri),o=f.default.findByNameStrict(n,t.text);if(o)return this.createLocation(o);const a=p.default.findByNameStrict(r,t.text);return a?this.createLocation(a):this.getImportDefinitionLocation(i,t)}getImportDefinitionLocation(e,t){for(let n=0;n<e.length;n++)for(let r=0;r<e[n].items.length;r++)if(e[n].items[r].alias==t.text||e[n].items[r].name==t.text){const t=e[n].items[r];if(t.uri&&t.nameRange){const e=s.URI.file(t.uri);return this.createLocationEx(e.toString(),t.nameRange)}}return null}getKeywordOrIdentifierDefinition(e,t,n){const{circuits:r,functions:i,imports:o}=this.cache.get(e);if(n){const e=c.default.getNamedParentByType(t,u.NODE_TYPES.circuit_declaration);if(e){const t=c.default.getNamedChildrenNodesByPath(e,[u.NODE_TYPES.identifier]);if(t)return f.default.findByNameStrict(r,t[0].text)}}else for(let e=0;e<i.length;e++){const n=p.default.findStatementDefinitionByName(i[e].statementDefinitions,t.text,!0);if(n.length>0){const e=c.default.getNamedChildrenNodesByPath(n[0].node,[u.NODE_TYPES.expression,u.NODE_TYPES.expression_circuit_inline,u.NODE_TYPES.identifier]);if(e.length>0){const t=f.default.findByNameStrict(r,e[0].text);return t||f.default.findImportByNameStrict(o,e[0].text)}}else{const n=p.default.findParametersByName(i[e].parameters,t.text,!0);if(n.length>0){const e=f.default.findByNameStrict(r,n[0].type);return e||f.default.findImportByNameStrict(o,n[0].type)}}}return null}createLocation(e){return a.Location.create(e.uri,a.Range.create(a.Position.create(e.nameRange.start.line,e.nameRange.start.character),a.Position.create(e.nameRange.end.line,e.nameRange.end.character)))}createLocationEx(e,t){return a.Location.create(e,a.Range.create(a.Position.create(t.start.line,t.start.character),a.Position.create(t.end.line,t.end.character)))}createLocationByPosition(e,t,n){return a.Location.create(e,a.Range.create(a.Position.create(t.row,t.column),a.Position.create(n.row,n.column)))}findCircuitByName(e=[],t=[],n=""){const r=f.default.findByNameStrict(t,n);if(r)return r;const i=f.default.findImportByNameStrict(e,n);return i||null}findFunctionNameByNode(e,t){const{functions:n,circuits:r}=this.cache.get(e),i=c.default.getNamedParentByType(t,u.NODE_TYPES.function_declaration);if(i){const e=c.default.getSelfNamedChildrenByTypes(i,["identifier"]);if(e.length>0){const t=p.default.findByNameStrict(n,e[0].text);if(!t)for(let t=0;t<r.length;t++){const n=f.default.findMethodsByNameStrict(r[t].methods,e[0].text);if(n.length>0)return n[0]}return t}}return null}getFunctionAndAccessMemberLocation(e,t){var n;const{circuits:r,imports:i}=this.cache.get(e.textDocument.uri);let o=c.default.getNamedParentByType(t,u.NODE_TYPES.statement_declaration);if(o||(o=c.default.getNamedParentByType(t,u.NODE_TYPES.expression)),o){const a=c.default.getNodesByType(o,u.NODE_TYPES.expression_postfix);if(a.length){let o=null,s=null;for(let l=0;l<a.length;l++)for(let d=0;d<a[l].childCount;d++)if(a[l].children[d].type==u.NODE_TYPES.keyword_or_identifier)if((null===(n=t.parent)||void 0===n?void 0:n.type)==u.NODE_TYPES.keyword_or_identifier){const n=this.findFunctionNameByNode(e.textDocument.uri,t);if(n){const r=p.default.findStatementDefinitionByName(n.statementDefinitions,t.text,!0);if(r.length>0)return this.createLocation(r[0]);{const r=this.getDefinitionLocation(e,t);if(r)return r;const i=p.default.findParametersByName(n.parameters,t.text,!0);if(i.length>0)return this.createLocation(i[0])}}}else{let t=this.getKeywordOrIdentifierDefinition(e.textDocument.uri,a[l].children[d],!1);if(t)o=t;else{if(t=this.getKeywordOrIdentifierDefinition(e.textDocument.uri,a[l].children[d],!0),!t)return null;o=t}}else if(a[l].children[d].type==u.NODE_TYPES.access){const e=c.default.getNamedChildrenNodesByPath(a[l].children[d],[u.NODE_TYPES.access_member,u.NODE_TYPES.identifier]);if(e.length>0){const n=f.default.findMethodsByNameStrict(null==o?void 0:o.methods,e[0].text);if(n.length>0){if(s=n,s[0].name==t.text)return this.createLocation(s[0]);const e=this.findCircuitByName(i,r,n[0].returnType);e&&(o=e)}else if(e[0].text==t.text){const t=f.default.findAttributesByNameStrict(null==o?void 0:o.attributes,e[0].text);if(t)return this.createLocation(t[0])}else{const t=f.default.findAttributesByNameStrict(null==o?void 0:o.attributes,e[0].text);if(!(t.length>0))return null;{const e=this.findCircuitByName(i,r,t[0].type);e&&(o=e)}}}}}}return null}getCircuitMemberLocation(e,t){const{circuits:n,imports:r}=this.cache.get(e.textDocument.uri),i=c.default.getNamedParentByType(t,u.NODE_TYPES.expression_circuit_inline);if(i){const e=c.default.getNamedChildrenNodesByPath(i,["identifier"]);if(e){for(let r=0;r<n.length;r++)if(n[r].name==e[0].text)for(let e=0;e<n[r].attributes.length;e++)if(n[r].attributes[e].name==t.text)return this.createLocation(n[r].attributes[e]);const i=f.default.findImportByNameStrict(r,e[0].text);if(i){const e=f.default.findAttributesByNameStrict(i.attributes,t.text);if(e.length>0)return this.createLocationEx(e[0].uri,e[0].nameRange)}}}return null}getCircuitBySelfKeyword(e,t){const n=c.default.getNamedParentByType(t,u.NODE_TYPES.circuit_declaration);if(n){const t=c.default.getSelfNamedChildrenByTypes(n,["identifier"]);if(t.length>0)return this.createLocationByPosition(e.textDocument.uri,t[0].startPosition,t[0].endPosition)}return null}getDefinedVariableLocation(e,t){const n=this.findFunctionNameByNode(e.textDocument.uri,t);if(n){const r=p.default.findStatementDefinitionByName(n.statementDefinitions,t.text,!0);if(r.length>0)return this.createLocation(r[0]);{const{constants:n}=this.cache.get(e.textDocument.uri),r=p.default.findStatementDefinitionByName(n,t.text,!0);if(r.length>0)return this.createLocation(r[0])}}return null}resolveGoToDefinition(e){var t,n,r,i,o,a,s,l;const d=this.cache.get(e.textDocument.uri);if(!d)return null;const{tree:f}=d,p=c.default.getNodeUnderCursor(f.rootNode,e.position.line,e.position.character);return null!=p?p.type!=u.NODE_TYPES.identifier||(null===(t=p.parent)||void 0===t?void 0:t.type)!=u.NODE_TYPES.access_member&&(null===(n=p.parent)||void 0===n?void 0:n.type)!=u.NODE_TYPES.keyword_or_identifier?p.type==u.NODE_TYPES.identifier&&(null===(r=p.parent)||void 0===r?void 0:r.type)==u.NODE_TYPES.circuit_variable_expression?this.getCircuitMemberLocation(e,p):p.type==u.NODE_TYPES.self_keyword?this.getCircuitBySelfKeyword(e,p):(null===(i=p.parent)||void 0===i?void 0:i.type)==u.NODE_TYPES.expression||(null===(o=p.parent)||void 0===o?void 0:o.type)==u.NODE_TYPES.identifier_assignee?this.getDefinedVariableLocation(e,p):(null===(a=p.parent)||void 0===a?void 0:a.type)==u.NODE_TYPES.function_declaration||(null===(s=p.parent)||void 0===s?void 0:s.type)==u.NODE_TYPES.variables||(null===(l=p.parent)||void 0===l?void 0:l.type)==u.NODE_TYPES.variable_declaration?this.createLocationByPosition(e.textDocument.uri,p.startPosition,p.endPosition):this.getDefinitionLocation(e,p):this.getFunctionAndAccessMemberLocation(e,p):null}};r([o.inject(l.TYPE.Cache),i("design:type",d.default)],h.prototype,"cache",void 0),h=r([o.injectable()],h),t.default=h},6090:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(6920),s=n(1555),c=n(3506),u=n(5550),l=n(9157),d=n(8200),f=n(3715),p=n(2895),h=n(8055),m=n(1612),g=n(4),y=n(3950),_=n(8151),v=n(4269),b=n(4235),E=n(3846),T=n(9059),w=n(8661),S=n(5891),R=n(4230),P=n(5226),N=n(8768),O=n(3003);let C=class{analyze(e){const t=this.cache.get(e),n=[];if(!t)return n;const{tree:r}=t;return s.default.forEach(r.rootNode,(r=>{if(p.default.checkAll(r,n),"member_variable_declaration"===r.type&&(n.push(...d.default.checkCircuitDefinitionName(r)),n.push(...this.circuitDiagnostic.checkMemberDuplication(r,e))),"function_declaration"===r.type&&(n.push(...h.default.checkFunctionDefinitionName(r)),n.push(...h.default.checkFunctionReturnStatementExist(r)),n.push(...this.functionDiagnostic.checkFunctionDuplication(r,e)),n.push(...this.circuitDiagnostic.checkMemberDuplication(r,e))),"circuit_declaration"===r.type&&n.push(...d.default.checkCircuitName(r)),"number_positive"===r.type&&n.push(...y.default.checkPositiveNumber(r)),"value_integer"!==r.type&&"value_field"!==r.type&&"access_tuple"!==r.type&&"access_member"!==r.type&&"access_static_member"!==r.type||n.push(...l.default.checkImplicitWhitespaces(r)),"value_group"===r.type){n.push(...l.default.checkValueGroupImplicitWhitespaces(r));const e=s.default.getSelfNamedChildByTypes(r,["value_number","group_tuple"]);"group_tuple"===e.type&&n.push(...this.groupDiagnostic.checkTuple(e)),"value_number"===e.type&&n.push(...this.groupDiagnostic.checkValue(e))}if("value_field"===r.type){const e=s.default.getSelfNamedChildByTypes(r,["value_number"]);n.push(...this.fieldDiagnostic.checkValue(e))}if("type_field"===r.type&&r.previousNamedSibling&&"identifier"===r.previousNamedSibling.type){const e=s.default.getNamedParentByPath(r,["variables","statement_declaration"]);if(null!=e&&!e.isMissing()&&!e.hasError()){const t=s.default.getNamedChildrenNodesByPath(e,["expression","value_number"]);t.length>0&&n.push(...this.fieldDiagnostic.checkValue(t[0]))}}if("expression_circuit_inline"===r.type){const t=this.circuitDiagnostic.checkCircuitExist(r,e);t.length||n.push(...this.circuitDiagnostic.checkCircuitExpressionInline(r,e)),n.push(...t)}if("expression_postfix"===r.type&&n.push(...this.circuitDiagnostic.checkCircuitExist(r,e)),["expression_postfix"].includes(r.type)&&n.push(...l.default.checkExpressionPostfixImplicitWhitespaces(r)),"expression_postfix"===r.type&&n.push(...this.functionDiagnostic.checkCalledFunctionExist(r,e)),"access_call"===r.type&&n.push(...this.dataTypeDiagnostic.checkFuncParamsAndTypes(r,e)),"expression"===r.type){const i=s.default.getNodeByTypes(r,["keyword_or_identifier","identifier"]);!i||s.default.isCircuitVariableTypeAddress(i,[...t.circuits,...this.cache.getAllImportedItemsByType("circuit_declaration",e)])||s.default.isAddressDefinition(i)||"expression_circuit_inline"===r.namedChildren[0].type||r.namedChildren[0].type.startsWith("value_")||n.push(...this.definitionDiagnostic.checkVariableExist(i.text,i,e)),"block"===r.parent.type&&n.push(...this.expressionDiagnostic.checkExpressionAssigned(r,e))}if(["statement_declaration","constant_declaration"].includes(r.type)&&(n.push(...this.definitionDiagnostic.checkForDuplicatesInFunction(r,e)),n.push(...this.definitionDiagnostic.checkExplicitTypeMatch(r,e))),"statement_assign"===r.type&&(n.push(...this.definitionDiagnostic.checkVariableMutable(r,e)),n.push(...this.definitionDiagnostic.checkAssignedExpressionType(r,e))),"expression_array_initializer"!==r.type&&"expression_array_inline"!==r.type||n.push(...this.arrayTypeDiagnostic.checkArrayType(r,e)),"access_member"!==r.type&&"access_static_member"!==r.type||n.push(...this.circuitDiagnostic.checkCircuitMemberAccess(r,e)),"access_static_member"===r.type&&(n.push(...d.default.checkStaticMemberCircuitName(r)),n.push(...d.default.checkStaticMemberName(r))),P.default.isSelfNode(r)&&n.push(...N.default.checkSelfGlobal(r)),"value_address"===r.type&&n.push(...c.default.checkPublicKey(r)),"expression_tuple"===r.type&&n.push(...this.dataTypeDiagnostic.checkTupleType(r,e)),"access_tuple"===r.type&&n.push(...this.dataTypeDiagnostic.checkTupleAccess(r,e)),"access_array"===r.type&&n.push(...this.arrayTypeDiagnostic.checkOutOfIndexAccess(r,e)),"annotation"===r.type&&n.push(...u.default.checkAll(r)),"identifier"===r.type&&r.text&&n.push(...m.default.checkDefinition(r)),"package_name"===r.type&&n.push(...g.default.checkPackageName(r)),"expression_conditional"===r.type&&n.push(...this.expressionDiagnostic.checkConditionalExpression(r,e)),r.type.match(/^operation/))try{n.push(...this.expressionDiagnostic.analyzeExpression(r,e))}catch(e){}["value_char","value_string"].includes(r.type)&&n.push(...S.default.checkLength(r)),"constant_declaration"===r.type&&n.push(...R.default.checkModifier(r)),"statement_return"===r.type&&n.push(...this.definitionDiagnostic.checkReturnStatementType(r,e)),"return_type"===r.type&&n.push(...this.functionDiagnostic.checkFunctionReturnType(r,e))})),n.push(...this.importDiagnostic.getImportsDiagnosticErrors(e)),n.push(...this.circuitDiagnostic.checkAttributeSeparator(e)),n.push(...O.default.analyzeLeoFile(e,this.cache)),n.forEach((e=>{e.source="leo"})),n}};r([o.inject(a.TYPE.Cache),i("design:type",_.default)],C.prototype,"cache",void 0),r([o.inject(a.TYPE.CircuitDiagnostic),i("design:type",d.default)],C.prototype,"circuitDiagnostic",void 0),r([o.inject(a.TYPE.DefinitionDiagnostic),i("design:type",f.default)],C.prototype,"definitionDiagnostic",void 0),r([o.inject(a.TYPE.FunctionDiagnostic),i("design:type",h.default)],C.prototype,"functionDiagnostic",void 0),r([o.inject(a.TYPE.ImportDiagnostic),i("design:type",g.default)],C.prototype,"importDiagnostic",void 0),r([o.inject(a.TYPE.DataTypeDiagnostic),i("design:type",v.default)],C.prototype,"dataTypeDiagnostic",void 0),r([o.inject(a.TYPE.ArrayTypeDiagnostic),i("design:type",b.default)],C.prototype,"arrayTypeDiagnostic",void 0),r([o.inject(a.TYPE.GroupDiagnostic),i("design:type",E.default)],C.prototype,"groupDiagnostic",void 0),r([o.inject(a.TYPE.FieldDiagnostic),i("design:type",T.default)],C.prototype,"fieldDiagnostic",void 0),r([o.inject(a.TYPE.ExpressionDiagnostic),i("design:type",w.default)],C.prototype,"expressionDiagnostic",void 0),C=r([o.injectable()],C),t.default=C},5944:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(3542),s=n(2374),c=n(6920),u=n(5513),l=n(4835),d=n(6014),f=n(1555),p=n(8151),h=n(3359),m=n(5226),g=n(2446),y=n(9364);let _=r=class{static findByName(e=[],t=""){return t?e.filter((e=>e.name.indexOf(t)>-1)):e}static findByNameStrict(e=[],t=""){return e.find((e=>e.name===t))||null}static findParametersByName(e=[],t="",n=!1){return t?e.filter((e=>n?e.name===t:e.name.indexOf(t)>-1)):e}static findStatementDefinitionByName(e=[],t="",n=!1){return t?e.filter((e=>n?e.name===t:e.name.indexOf(t)>-1)):e}static autocompleteDefinitions(e=[],t=""){const n=[];return r.findStatementDefinitionByName(e,t).forEach((e=>{n.push({label:e.name,kind:e.kind,detail:e.type,preselect:!0,scopes:[u.CompletionScope.functionBody,u.CompletionScope.methodBody],sortText:l.CompletionSortOrder.definition+e.name})})),n}static findAllByName(e=[],t=""){const n=[];return n.push(...r.findByName(e,t)),e.forEach((({parameters:e,statementDefinitions:i})=>{n.push(...r.findParametersByName(e,t)),n.push(...r.findStatementDefinitionByName(i,t))})),n}static findByNameAndAlias(e,t){return e.find((e=>e.alias&&e.alias===t||!e.alias&&e.name===t))||null}autocompleteParameters(e,t){const n=[],r=t.split(" "),{functions:i,circuits:o,tree:a}=this.cache.get(e.textDocument.uri),s=f.default.getNodeByPosition(a.rootNode,e.position.line,e.position.character,!0),c=e=>{(e.name.includes(t)||e.name.includes(r[r.length-1])||s&&e.name.includes(s.text)||!t)&&n.push({label:e.name,kind:e.kind,detail:e.type,preselect:!0,scopes:[u.CompletionScope.functionBody,u.CompletionScope.methodBody],sortText:l.CompletionSortOrder.parameter+e.name})};return i.forEach((t=>{f.default.isInScope(t.range,e.position)&&t.parameters.forEach(c)})),o.forEach((t=>{t.methods.forEach((t=>{f.default.isInScope(t.range,e.position)&&t.parameters.forEach(c)}))})),n}getDefinitionNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{circuits:e,functions:i}=r,o=({node:e})=>{const r=f.default.getSelfNamedChildByTypes(e,["identifier"]);r&&f.default.isVisible(r,t)&&n.push({start:r.startPosition,end:r.endPosition})};e.forEach((e=>e.methods.forEach(o))),i.forEach(o)}return n}getKnownNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{circuits:e,functions:i,imports:o}=r;let a=[];const s=e=>{f.default.getNodesByValue(e.node,a).forEach((e=>{const r=e.parent;f.default.isVisible(e,t)&&"function_declaration"!==r.type&&n.push({start:e.startPosition,end:e.endPosition})}))};o.forEach((e=>{e.items.forEach((e=>{void 0!==e.parameters&&a.push(e.alias||e.name)}))})),[...i].forEach((e=>{a.push(e.name)})),a=d.uniq(a).filter((e=>e)),e.forEach((e=>e.methods.forEach(s))),i.forEach(s)}return n}getCallNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{circuits:e,functions:i}=r,o=e=>{f.default.getNodesByType(e.node,"access_call").forEach((e=>{if(f.default.isVisible(e,t)){const t=e.parent.previousSibling;switch(t.type){case"access":{const e=f.default.getNodeByType(t,"identifier");n.push({start:e.startPosition,end:e.endPosition});break}case"keyword_or_identifier":n.push({start:t.startPosition,end:t.endPosition})}}}))};e.forEach((e=>e.methods.forEach(o))),i.forEach(o)}return n}findFromLocalAndImported(e,t){const n=this.cache.get(t);return r.findByNameAndAlias([...n.functions,...this.cache.getAllImportedItemsByType("function_declaration",t)],e)}static findAnyInFunction(e,t){const n=r.findStatementDefinitionByName(e.statementDefinitions,t,!0);if(n.length)return n[0];const i=r.findParametersByName(e.parameters,t,!0);return i.length?i[0]:null}getFuncAstFromExpressionPostfixNode(e,t){let n=null;const i=this.cache.get(t);if(m.default.isMethodAccessExpression(e)||m.default.isStaticAccessExpression(e)){const r=this.circuitService.getCircuitNameFromExpressionNode(e,t),o=m.default.getCalledMemberName(e),a=[];i.imports.forEach((e=>{const t=e.items.filter((e=>"circuit_declaration"===e.node.type));a.push(...t)}));const s=h.default.findByNameStrict([...i.circuits,...a],r);if(s){const e=h.default.findMethodsByNameStrict(s.methods,o);n=e.length?e[0]:null}}else{const t=f.default.getNodeByPath(e,["keyword_or_identifier","identifier"]);if(t){const e=[];i.imports.forEach((t=>{const n=t.items.filter((e=>"function_declaration"===e.node.type));e.push(...n)})),n=r.findByNameStrict([...i.functions,...e],t.text)}}return n}getParametersSentToFunction(e,t){const n=[],r=this.cache.get(t),i=g.default.getFunctionAstFromChildNode(e,r),o=[...(null==i?void 0:i.statementDefinitions)||[],...(null==i?void 0:i.parameters)||[]];return f.default.getNamedChildrenNodesByPath(e,["access","access_call","expression"]).forEach((e=>{const r=f.default.getNodeByPath(e,["identifier"]);if(r){const e=o.find((e=>e.name===r.text));e&&n.push({...e,node:r})}else{const r=this.dataTypeParser.getStatementDeclarationDataType(e,t);n.push({uri:t,range:f.default.range(e),nameRange:f.default.range(e),kind:s.CompletionItemKind.Variable,node:e,accessModifier:"",isMutable:!1,isConstant:!1,name:e.text,type:r})}})),n}static isFunctionCall(e){return!(!e.nextNamedSibling||"access"!==e.nextNamedSibling.type||!e.nextNamedSibling.firstChild||"access_call"!==e.nextNamedSibling.firstChild.type)}getParametersOfCalledFunction(e,t){let n=[];const r=f.default.getNamedParentByType(e,"expression_postfix");if(r){const e=this.getFuncAstFromExpressionPostfixNode(r,t);e&&(n=e.parameters.filter((e=>"self"!==e.name)))}return n}};i([a.inject(c.TYPE.Cache),o("design:type",p.default)],_.prototype,"cache",void 0),i([a.inject(c.TYPE.CircuitService),o("design:type",h.default)],_.prototype,"circuitService",void 0),i([a.inject(c.TYPE.DataTypeParser),o("design:type",y.default)],_.prototype,"dataTypeParser",void 0),_=r=i([a.injectable()],_),t.default=_},2853:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(6920),s=n(8151),c=n(1555),u=n(5944),l=n(2446),d=n(9364),f=n(3359),p=n(5226),h=n(6630),m=n(5622),g=n(13);let y=class{generate(e){this.uri=e.textDocument.uri;const t=this.cache.get(e.textDocument.uri);if(!t)return null;const n=c.default.getNodeUnderCursor(t.tree.rootNode,e.position.line,e.position.character);if(n){let e=this.getFunctionKeyNode(n);if(e&&u.default.isFunctionCall(e))return this.analyzeFunction(e);if(e=this.getMethodKeyNode(n),e&&u.default.isFunctionCall(e))return this.analyzeMethod(n,e);if(e=this.getAttributeAccessKeyNode(n),e&&!u.default.isFunctionCall(e))return this.analyzeAttributeAccess(n,e);if(e=this.getAttributeDeclarationKeyNode(n))return this.analyzeAttributeDeclaration(n);if(e=this.getAttributeKeyNodeInCircuitInline(n))return this.analyzeAttributeInCircuitInline(n);if(this.getImportSymbolKeyNode(n))return this.analyzeImportSymbol(n);if(this.getCircIdentifierInFileDefKeyNode(n))return this.generateCircuitHover(n.text);if(this.getTypeCircuitKeyNode(n))return this.analyzeCircuitByIdentifier(n);if(this.getExpressionCircuitInlineKeyNode(n))return this.analyzeCircuitByIdentifier(n);if(p.default.isSelfNode(n))return this.analyzeCircuitBySelfNode(n);if(e=this.getFunctionDefinitionKeyNode(n))return this.analyzeFunctionDefinition(n);if(e=this.getMethodDefinitionKeyNode(n))return this.analyzeMethodDefinition(n,e);if(e=this.getFunctionParameterKeyNode(n))return this.analyzeFunctionParameter(n);if(e=this.getVariableDefinitionKeyNode(n))return this.analyzeVariableDefinition(n);if(e=this.getGlobalConstantDefinitionKeyNode(n))return this.analyzeGlobalConstantDefinition(n);if((e=this.getIdentifierKeyNodeInExpression(n))||(e=this.getIdentifierKeyNodeInIdentifierAssignee(n)))return this.analyzeIdentifierOfParamAndDeclaration(n);if(e=this.getIdentifierKeyNodeInKeywordOrIdentifier(n))return this.analyzeIdentifierInKeywordOrIdentifier(n);if(e=this.getIdentifierKeyNodeInStatementFor(n))return this.generateIdentifierStatementForHover(n);if("package_name"===n.type)return this.analyzeImportPackageName(n);if(e=this.getImportStarKeyNode(n))return this.analyzeImportStar(n);if(g.default.isConsoleFunction(n))return this.generateConsoleFunctionHover(n);if(e=this.getTupleAccessKeyNode(n))return this.analyzeTupleAccess(e)}return null}generateCallableHover(e,t=""){const n=l.default.formHoverAnnotation(e,this.uri),r=e.parameters.reduce(((e,t)=>"self"===t.type?e:e+`, ${t.isConstant?"const ":""}${t.name}: ${t.type}`),""),i=e.returnType?`->${e.returnType}`:"";let o="";return o=void 0!==e.isStatic?`(circuit member ${e.isStatic?"static ":""}function) `+t+`${e.isStatic?"::":"."}${e.name}(${r.substring(2)})${i}`:`function ${void 0!==e.alias&&""!==e.alias?e.alias:e.name}(${r.substring(2)})${i}`,o=(n+" "+o).trim(),this.generateHover(o)}generateFunctionImportHover(e){const t=e.parameters.reduce(((e,t)=>e+`, ${t.name}: ${t.type}`),""),n=e.returnType?`->${e.returnType}`:"";let r=`function ${e.name}(${t.substring(2)})${n}\nimport ${e.name}`;return e.alias&&(r=`(alias: ${e.alias}) `+r),this.generateHover(r)}generateAttributeHover(e,t){const n=`(circuit member variable) ${t}.${e.name}: ${e.type}`;return this.generateHover(n)}generateCircuitHover(e){let t;return"string"==typeof e?t=`circuit ${e}`:void 0!==e.alias?(t=`circuit ${e.name}\nimport ${e.name}`,e.alias&&(t=`(alias: ${e.alias}) `+t)):t=`circuit ${e.name}`,this.generateHover(t)}generateFunctionParameterHover(e){const t=`(parameter)${e.isConstant?" const":""} ${e.name}: ${e.type}`;return this.generateHover(t)}generateVariableDefinitionHover(e){return this.generateHover(`${e.declareType} ${e.name}: ${e.type}`)}generateIdentifierStatementForHover(e){return this.generateHover(`const ${e.text}: u32`)}generateConsoleFunctionHover(e){const t=g.default.autocompleteMacros().find((t=>t.label.indexOf(e.type)>-1));return t?this.generateHover(t.detail):null}generateHover(e){return{contents:{language:"leohover",value:e}}}getFunctionKeyNode(e){return c.default.getNamedParentByWidePath(e,["keyword_or_identifier"])}getMethodKeyNode(e){return c.default.getNamedParentByWidePath(e,[["access_member","access_static_member"],["access"]])}getFunctionDefinitionKeyNode(e){if("identifier"===e.type){const t=c.default.getNamedParentByWidePath(e,[["function_declaration"]]);return t&&t.parent&&"circuit_declaration"!==t.parent.type?t:null}return null}getMethodDefinitionKeyNode(e){if("identifier"===e.type){const t=c.default.getNamedParentByWidePath(e,[["function_declaration"]]);return t&&t.parent&&"circuit_declaration"===t.parent.type?t:null}return null}getAttributeAccessKeyNode(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,[["access_member"],["access","access_assignee"]])||c.default.getNamedParentByWidePath(e,[["access_member"]]):null}getAttributeDeclarationKeyNode(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,[["member_variable_declaration"]]):null}getAttributeKeyNodeInCircuitInline(e){return"circuit_variable_identifier"===e.type?e:c.default.getNamedParentByWidePath(e,[["circuit_variable_expression"]])||null}getImportSymbolKeyNode(e){return c.default.getNamedParentByWidePath(e,[["import_symbol"]])}getCircIdentifierInFileDefKeyNode(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,[["circuit_declaration"]]):null}getTypeCircuitKeyNode(e){return c.default.getNamedParentByWidePath(e,[["type_circuit"]])}getExpressionCircuitInlineKeyNode(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,[["expression_circuit_inline"]]):null}getFunctionParameterKeyNode(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,["function_parameter"]):null}getVariableDefinitionKeyNode(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,["variables","statement_declaration"]):null}getGlobalConstantDefinitionKeyNode(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,["variables","constant_declaration"]):null}getIdentifierKeyNodeInExpression(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,["expression"]):null}getIdentifierKeyNodeInIdentifierAssignee(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,["identifier_assignee"]):null}getIdentifierKeyNodeInKeywordOrIdentifier(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,["keyword_or_identifier"]):null}getIdentifierKeyNodeInStatementFor(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,["statement_for"]):null}getImportStarKeyNode(e){return"*"===e.type?c.default.getNamedParentByWidePath(e,["star"]):null}getTupleAccessKeyNode(e){return"number_positive"===e.type?c.default.getNamedParentByWidePath(e,[["access_tuple"],["access"]]):null}analyzeFunction(e){const t=this.functionsService.findFromLocalAndImported(e.text,this.uri);return t?this.generateCallableHover(t):null}analyzeMethod(e,t){const n=this.dataTypeParser.getCallChainType(t.previousSibling,this.uri);if(n&&d.default.isCircuitDataType(n)){const t=this.circuitService.findFromLocalAndImported(n,this.uri);if(t){const r=f.default.findMethodsByNameStrict(t.methods,e.text)[0],i=e.parent;if(r&&("access_static_member"===i.type&&r.isStatic||"access_member"===i.type&&!r.isStatic))return this.generateCallableHover(r,n)}}return null}analyzeFunctionDefinition(e){const t=[...this.cache.get(this.uri).functions],n=c.default.findFunctionByIdentifierNode(t,e);return n?this.generateCallableHover(n):null}analyzeMethodDefinition(e,t){const n=this.cache.get(this.uri),r=c.default.getNamedParentByWidePath(t,[["circuit_declaration"]]),i=c.default.getNodeByType(r,"identifier"),o=f.default.findByNameStrict([...n.circuits],i.text),a=c.default.findFunctionByIdentifierNode(o.methods,e);return a?this.generateCallableHover(a,i.text):null}analyzeAttributeAccess(e,t){const n=this.dataTypeParser.getCallChainType(t.previousSibling,this.uri);if(n&&d.default.isCircuitDataType(n)){const t=this.circuitService.findFromLocalAndImported(n,this.uri);if(t){const r=f.default.findAttributesByNameStrict(t.attributes,e.text)[0];if(r)return this.generateAttributeHover(r,n)}}return null}analyzeAttributeDeclaration(e){const t=this.cache.get(this.uri),n=c.default.findCircuitByIdentifierNode(t.circuits,c.default.getNodeByType(c.default.getNamedParentByType(e,"circuit_declaration"),"identifier")),r=c.default.findCircuitAttributeByIdentifierNode(n.attributes,e);return r?this.generateAttributeHover(r,n.name):null}analyzeAttributeInCircuitInline(e){let t,n=c.default.getNodeByPath(c.default.getNamedParentByType(e,"expression_circuit_inline"),["type_self"]);if(n?t=p.default.parseCircuitNameFromSelfNode(n):(n=c.default.getNodeByPath(c.default.getNamedParentByType(e,"expression_circuit_inline"),["identifier"]),t=n.text),t){const n=this.circuitService.filterFromLocalAndImported(t,this.uri);if(1===n.length){const r=f.default.findAttributesByNameStrict(n[0].attributes,e.text);if(1===r.length)return this.generateAttributeHover(r[0],t)}}return null}analyzeImportSymbol(e){let t=this.cache.getAllImportedItemsByType("circuit_declaration",this.uri),n=f.default.findByNameAndAlias(t,e.text);return n?this.generateCircuitHover(n):(t=this.cache.getAllImportedItemsByType("function_declaration",this.uri),n=f.default.findByNameAndAlias(t,e.text),n?this.generateFunctionImportHover(n):null)}analyzeCircuitByIdentifier(e){const t=this.circuitService.findFromLocalAndImported(e.text,this.uri);return t?this.generateCircuitHover(t):null}analyzeCircuitBySelfNode(e){const t=p.default.parseCircuitNameFromSelfNode(e);if(t){if("self_keyword"===e.type){const n=this.cache.get(this.uri),r=l.default.getFunctionAstFromChildNode(e,n);if(r){let n=c.default.findFunctionParameterByIdentifierNode(r.parameters,e);if(!n){const t=u.default.findParametersByName(r.parameters,e.text,!0),i=u.default.findStatementDefinitionByName(r.statementDefinitions,e.text,!0);1===[...t,...i].length&&t[0]&&(n=t[0])}if(n)return this.generateCircuitHover(`${n.isConstant?"const ":n.isMutable?"mut ":""}${t}`)}return null}return this.generateCircuitHover(t)}return null}analyzeFunctionParameter(e){const t=this.cache.get(this.uri),n=l.default.getFunctionAstFromChildNode(e,t);if(n){const t=c.default.findFunctionParameterByIdentifierNode(n.parameters,e);if(t)return this.generateFunctionParameterHover(t)}return null}analyzeVariableDefinition(e){const t=this.cache.get(this.uri),n=l.default.getFunctionAstFromChildNode(e,t);if(n){const t=c.default.findStatementDeclarationByIdentifierNode(n.statementDefinitions,e);return this.generateVariableDefinitionHover(t)}return null}analyzeGlobalConstantDefinition(e){const t=this.cache.get(this.uri),n=c.default.findStatementDeclarationByIdentifierNode(t.constants,e);return this.generateVariableDefinitionHover(n)}analyzeIdentifierOfParamAndDeclaration(e){const t=this.cache.get(this.uri),n=l.default.getFunctionAstFromChildNode(e,t),r=u.default.findParametersByName(n?n.parameters:[],e.text,!0),i=u.default.findStatementDefinitionByName(n?n.statementDefinitions:[],e.text,!0),o=u.default.findStatementDefinitionByName(t.constants,e.text,!0);return 1===[...r,...i,...o].length?r[0]?this.generateFunctionParameterHover(r[0]):i[0]?this.generateVariableDefinitionHover(i[0]):this.generateVariableDefinitionHover(o[0]):null}analyzeIdentifierInKeywordOrIdentifier(e){return p.default.isStaticAccessExpression(c.default.getNamedParentByPath(e,["keyword_or_identifier","expression_postfix"]))?this.analyzeCircuitByIdentifier(e):this.analyzeIdentifierOfParamAndDeclaration(e)}analyzeImportPackageName(e){const t=this.cache.get(this.uri),n=c.default.findImportByChildNode(t.imports,e);if(n&&n.path){if("import_symbol"===e.nextNamedSibling.type||"star"===e.nextNamedSibling.type)return this.generateHover(`import "${n.path}"`);{const t=c.default.getNodesByType(e.nextNamedSibling,"package_name"),r=h.URI.parse(n.path),i=r.fsPath.split(m.sep);return this.generateHover(`import "${r.scheme}:${i.slice(0,i.length-t.length).join(m.sep)}"`)}}return null}analyzeImportStar(e){const t=this.cache.get(this.uri),n=c.default.findImportByChildNode(t.imports,e);return n&&n.path?this.generateHover(`import "${n.path}"`):null}analyzeTupleAccess(e){const t=this.dataTypeParser.getCallChainType(e,this.uri);return t?d.default.isCircuitDataType(t)?this.generateCircuitHover(t):this.generateHover(t):null}};r([o.inject(a.TYPE.Cache),i("design:type",s.default)],y.prototype,"cache",void 0),r([o.inject(a.TYPE.CircuitService),i("design:type",f.default)],y.prototype,"circuitService",void 0),r([o.inject(a.TYPE.FunctionsService),i("design:type",u.default)],y.prototype,"functionsService",void 0),r([o.inject(a.TYPE.DataTypeParser),i("design:type",d.default)],y.prototype,"dataTypeParser",void 0),y=r([o.injectable()],y),t.default=y},7414:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ImportServiceFactory=void 0;const a=n(3542),s=n(5622),c=n(6288),u=n(2880),l=n(6630),d=n(6920),f=n(5907),p=n(4862),h=n(5513),m=n(4835),g=n(8318),y=n(7505),_=n(1555),v=n(5862),b=n(5226),E=n(2446),T=n(692),w=n(8151);let S=r=class{constructor(){this.files=[],this.rootDirPath=""}getImportedFiles(){return this.files}async parseImportNode(e,t){this.rootDirPath=g.dirPathFromFileUri(t);const n=_.default.getNodeByTypes(e,[f.NODE_TYPES.package,f.NODE_TYPES.packages]);await this.parsePackageNode(n)}pushFileData(e){const t=this.files.findIndex((t=>t.uri===e.uri));-1!==t?this.files[t].items=this.files[t].items.concat(e.items):this.files.push(e)}async parsePackageNode(e){var t,n;let i=v.default.getPackageName(e);if(i===T.CORE_PACKAGES)return this.parseCorePackages(e);const o=null===(n=null===(t=this.cache.leoTomlCacheData)||void 0===t?void 0:t.dependencies)||void 0===n?void 0:n[i];o&&(i=r.getPackageNameFromDependency(o));const a=`${this.rootDirPath}${s.sep}${i}.leo`,c=g.checkPathExists(a),u=`${this.rootDirPath}${s.sep}${i}`,l=g.checkPathExists(u),d=`${this.rootDirPath.split(s.sep).slice(0,-1).join(s.sep)}${s.sep}imports${s.sep}${i}`,f=g.checkPathExists(d);if(!c&&!f&&!l)throw new p.DiagnosticError(`Package "${i}" not found`,e);c&&!f&&await this.parseFilePackageAccess(e,a),!c&&l&&await this.parsePackageFromImports(e,u,!0),!c&&f&&await this.parsePackageFromImports(e,`${d}${s.sep}src`)}parseCorePackages(e){T.default.parseCorePackageImport(e).forEach((e=>this.pushFileData(e)))}async parseFilePackageAccess(e,t){if("packages"===e.type)return void await this.parseMultiplePackageAccess(e,t);const n=v.default.getPackageEntityAccessNode(e);if(n.type===f.NODE_TYPES.package)throw new p.DiagnosticError("Incorrect package access",n);const r=await this.getFileContent(t);if(n.type!==f.NODE_TYPES.star)r.items.push(this.parseImportSymbolNode(e,n,r)),this.pushFileData(r);else{const e=this.parseWholeFile(t);this.pushFileData(e)}}async parseMultiplePackageAccess(e,t){const n=_.default.getSelfNamedChildByTypes(e,["package_name"]),r=v.default.parseMultiImportPackageItems(e);for(const i of r){if(i.hasError())throw new p.DiagnosticError("Invalid package import",i);let r=t.endsWith(".leo")?t:s.join(t,`${n.text}.leo`);switch(g.checkPathExists(r)||(r=s.join(t,"main.leo")),i.type){case f.NODE_TYPES.package:await this.parseChildPackage(i,t);break;case f.NODE_TYPES.packages:await this.parseMultiplePackageAccess(i,t);break;case f.NODE_TYPES.star:this.pushFileData(this.parseWholeFile(r));break;case f.NODE_TYPES.import_symbol:{const t=await this.getFileContent(r);t.items.push(this.parseImportSymbolNode(e,i,t)),this.pushFileData(t);break}}}}async parseChildPackage(e,t){const n=v.default.getPackageName(e),r=g.checkPathExists(`${t}${s.sep}${n}.leo`),i=g.checkPathExists(`${t}${s.sep}${n}`);if(r)await this.parseFilePackageAccess(e,`${t}${s.sep}${n}.leo`);else{if(!i)throw new p.DiagnosticError(`File/directory "${n}" not found`,e);await this.parseSubdirectory(e,`${t}${s.sep}${n}`)}}async parseSubdirectory(e,t){const n=v.default.getPackageEntityAccessNode(e);switch(n.type){case f.NODE_TYPES.package:await this.parseChildPackage(n,t);break;case f.NODE_TYPES.packages:await this.parseMultiplePackageAccess(n,t);break;case f.NODE_TYPES.star:case f.NODE_TYPES.import_symbol:case f.NODE_TYPES.multiple:case f.NODE_TYPES.alias:throw new p.DiagnosticError("Invalid import",n)}}async parsePackageFromImports(e,t,n=!1){if("packages"===e.type)return void await this.parseMultiplePackageAccess(e,t);const r=v.default.getPackageEntityAccessNode(e);switch(r.type){case f.NODE_TYPES.package:await this.parseChildPackage(r,t);break;case f.NODE_TYPES.packages:await this.parseMultiplePackageAccess(r,t);break;case f.NODE_TYPES.star:if(n)throw new p.DiagnosticError("Cannot import * from folder",r);{const e=this.parseWholeFile(t+s.sep+"main.leo");this.pushFileData(e)}break;case f.NODE_TYPES.import_symbol:{const n=await this.getFileContent(t+s.sep+"main.leo");n.items.push(this.parseImportSymbolNode(e,r,n)),this.pushFileData(n);break}}}parseImportSymbolNode(e,t,n){const r=v.default.parserImportSymbolNode(t),i=this.parseSymbolInFile(r.name,n,e);return{alias:r.alias,...i}}parseSymbolInFile(e,t,n){const r=this.circuitParser.parseRoot(t.tree.rootNode,t.uri),i=this.functionParser.parseRoot(t.tree.rootNode,t.uri),o=v.default.parseSymbolFromFile(e,r,i);if(!o)throw new p.DiagnosticError("Symbol doesn't exist in a package",n);return o}parseWholeFile(e){const t=this.getFileContentSync(e),n=l.URI.file(e).toString();return t.items.push(...this.circuitParser.parseRoot(t.tree.rootNode,n)),t.items.push(...this.functionParser.parseRoot(t.tree.rootNode,n)),t}async getFileContent(e){const t=await g.readFileAsync(e);return{uri:e,content:t,document:c.TextDocument.create(e,"leo",1,t),tree:this.treeSitterLeo.getParserSync().parse(t),items:[]}}getFileContentSync(e){const t=g.readFile(e);return{uri:e,content:t,document:c.TextDocument.create(e,"leo",1,t),tree:this.treeSitterLeo.getParserSync().parse(t),items:[]}}getCircuitsNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{imports:e}=r;e.forEach((e=>{_.default.getNodesByType(e.node,"identifier").forEach((r=>{e.items.forEach((e=>{[e.alias,e.name].includes(r.text)&&e.node&&"circuit_declaration"===e.node.type&&_.default.isVisible(r,t)&&n.push({start:r.startPosition,end:r.endPosition})}))}))}))}return n}getFunctionsNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{imports:e}=r;e.forEach((e=>{_.default.getNodesByType(e.node,"identifier").forEach((r=>{e.items.forEach((e=>{[e.alias,e.name].includes(r.text)&&e.node&&"function_declaration"===e.node.type&&_.default.isVisible(r,t)&&n.push({start:r.startPosition,end:r.endPosition})}))}))}))}return n}autocompleteImportQuery(e,t){var n,i;const o=[],a=g.dirPathFromFileUri(t.textDocument.uri),c=g.fileNameFromUri(t.textDocument.uri),u=(e=e.replace(/^import/,"").trim()).split(".");if(1===u.length)return o.push(...r.autocompleteRootModule(u[0],a,c,this.cache.leoTomlCacheData)),o;if(u.length&&u[0]===T.CORE_PACKAGES)return o.push(...T.default.autocompleteCorePackageImport(e)),o;if(c===u[0])return o;const l=`${a}${s.sep}${u[0]}`;if(g.checkPathExists(l))return o.push(...this.autocompleteDeepInFolder(u,l)),o;const d=`${a}${s.sep}${u[0]}.leo`,f=g.checkPathExists(d),p=null===(i=null===(n=this.cache.leoTomlCacheData)||void 0===n?void 0:n.dependencies)||void 0===i?void 0:i[u[0]];p&&(u[0]=r.getPackageNameFromDependency(p));const h=`${a.split(s.sep).slice(0,-1).join(s.sep)}${s.sep}imports${s.sep}${u[0]}`,m=g.checkPathExists(h);return f?o.push(...this.autocompleteFileItems(u[1],d)):m&&o.push(...this.autocompletePackage(u,`${h}${s.sep}src`)),o}static autocompleteRootModule(e,t,n,i){const o=[],a=g.searchEntriesByName(t,e,"leo",n),s=g.searchEntriesByName(t,e),c=new RegExp("src$"),l=t.replace(c,"imports");let d=g.searchEntriesByName(l,e);return Object.entries((null==i?void 0:i.dependencies)||{}).filter((([t])=>t.startsWith(e))).forEach((([t,n])=>{t.indexOf(e)>-1&&(d=d.filter((e=>e!==r.getPackageNameFromDependency(n))),d.push(t))})),[...a,...s,...d].forEach((e=>{o.push({label:e,kind:u.CompletionItemKind.Module,detail:e,preselect:!0,documentation:e,scopes:[h.CompletionScope.file,h.CompletionScope.import],sortText:m.CompletionSortOrder.importPath})})),e&&!T.CORE_PACKAGES.match(e)||o.push({label:T.CORE_PACKAGES,kind:u.CompletionItemKind.Module,detail:T.CORE_PACKAGES,preselect:!0,documentation:T.CORE_PACKAGES,scopes:[h.CompletionScope.file,h.CompletionScope.import],sortText:m.CompletionSortOrder.importPath}),o}autocompleteFileItems(e,t){const n=[],r=this.parseWholeFile(t);return r.items.filter((t=>t.name.match(e))).forEach((e=>{var t;"function_declaration"===(null===(t=e.node)||void 0===t?void 0:t.type)?n.push({label:e.name||"",kind:u.CompletionItemKind.Function,detail:E.default.parseReturnType(e.node),preselect:!0,documentation:e.documentation,scopes:[h.CompletionScope.file,h.CompletionScope.import],sortText:m.CompletionSortOrder.importItem}):n.push({label:e.name||"",kind:u.CompletionItemKind.Class,detail:"Circuit",preselect:!0,documentation:e.name,scopes:[h.CompletionScope.file,h.CompletionScope.import],sortText:m.CompletionSortOrder.importItem})})),r.items.length&&n.push({label:"*",kind:u.CompletionItemKind.Reference,detail:"All",preselect:!0,documentation:"All",scopes:[h.CompletionScope.file,h.CompletionScope.import],sortText:m.CompletionSortOrder.importItem}),n}autocompletePackage(e,t){const n=[];if(2===e.length){const r=`${t}${s.sep}main.leo`;n.push(...this.autocompleteFileItems(e[1],r));[...g.searchEntriesByName(t,e[1],"leo"),...g.searchEntriesByName(t,e[1])].forEach((t=>{"lib"!==t&&n.push({label:t,kind:u.CompletionItemKind.File,detail:t,preselect:!0,documentation:`${e[0]}${s.sep}src${s.sep}${t}`,scopes:[h.CompletionScope.file,h.CompletionScope.import],sortText:m.CompletionSortOrder.importPath})}))}else n.push(...this.autocompleteDeepInFolder(e,t));return n}autocompleteDeepInFolder(e,t,n=!1){const r=[],i=e.slice(1,e.length-1).join(s.sep),o=`${t}${s.sep}${i}.leo`,a=g.checkPathExists(o),c=`${t}${s.sep}${i}`,l=g.checkPathExists(c),d=e[e.length-1];if(a)r.push(...this.autocompleteFileItems(d,o));else if(l){[...g.searchEntriesByName(c,d,"leo"),...g.searchEntriesByName(c,d)].forEach((t=>{r.push({label:t,kind:u.CompletionItemKind.File,detail:t,preselect:!0,documentation:`${e[0]}${s.sep}${n?"":"src"}${s.sep}${i}${s.sep}${t}`,scopes:[h.CompletionScope.file,h.CompletionScope.import],sortText:m.CompletionSortOrder.importPath})}))}return r}static getMultipleImportTextAroundCursor(e,t){const n=t.textDocument,r={line:-1,character:0},i={line:-1,character:0};let o=-1;for(let t=e.position.line;t>=0&&t<=n.lineCount;){const e=u.Range.create(t,0,t,200),a=n.getText(e),s=a.indexOf("("),c=a.indexOf(")");if(-1===r.line&&0===a.indexOf("import")&&-1!==s)r.line=t,r.character=s+1,o=1;else{if(-1!==r.line&&-1!==c){i.line=t,i.character=c+1;break}t+=o}}if(-1!==r.line&&-1!==i.line&&(e.position.line===r.line&&e.position.character>r.character||e.position.line===i.line&&e.position.character<i.character||e.position.line>r.line&&e.position.line<i.line)){const e=u.Range.create(r.line,0,i.line,i.character+1);return n.getText(e)}return""}autocompleteInsideMultipleImport(e,t,n){const r=[];let i="";if(e.match(/^import/)){const t=e.indexOf("("),n=e.slice(0,t),r=e.slice(t,e.length).replace(/(\(|\))/,"").trim().split(",");i=n+(r.length>1?r[r.length-1]:r[0]).trim()}else{const n=e.split(","),r=n.length>1?n[n.length-1]:n[0],o=/\(([^)]+)\);?/;i=t.replace(o,r.trim())}return r.push(...this.autocompleteImportQuery(i,n)),r}static combineFileImports(e){const t=[];return e.forEach((n=>{if(t.find((e=>e.path===n.path)))return;const r=e.filter((e=>e.path===n.path));if(r.length>1){const e={...n,items:[]},i=r.map((e=>e.items)).reduce(((e,t)=>(e.push(...t),e)),[]).reduce(((e,t)=>(e.find((e=>e.name===t.name&&(e.alias||"")==(t.alias||"")))||e.push(t),e)),[]);e.items=i,t.push(e)}else t.push(n)})),t}static getImportedItemsByType(e,t){const n=r.combineFileImports(e.imports),i=[];return n.forEach((e=>{const n=e.items.filter((e=>e.node.type===t));i.push(...n)})),i}static getPackageNameFromDependency(e){return`${e.author}-${e.package}@${e.version}`}};S=r=i([a.injectable()],S),t.default=S;let R=class{create(){const e=new this.ImportService;return e.treeSitterLeo=this.treeSitterLeo,e.cache=this.cache,e.circuitParser=this.circuitParser,e.functionParser=this.functionParser,e}};i([a.inject(d.TYPE.TreeSitterLeo),o("design:type",y.default)],R.prototype,"treeSitterLeo",void 0),i([a.inject(d.TYPE.Cache),o("design:type",w.default)],R.prototype,"cache",void 0),i([a.inject(d.TYPE.CircuitParser),o("design:type",b.default)],R.prototype,"circuitParser",void 0),i([a.inject(d.TYPE.FunctionParser),o("design:type",E.default)],R.prototype,"functionParser",void 0),i([a.inject(d.TYPE.ImportService),o("design:type",Object)],R.prototype,"ImportService",void 0),R=i([a.injectable()],R),t.ImportServiceFactory=R},6984:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(5622),s=n(6630),c=n(6920),u=n(8151);let l=class{analyze(e){const t=this.cache.getInputs(e);return t?t.diagnostics:[]}getAssociatedFiles(e){const t=[],n=s.URI.parse(e).toString()===this.cache.mainInputFileUri,r=a.basename(s.uriToFsPath(s.URI.parse(e),!0),".in");n&&t.push(this.cache.mainFileUri);return Object.entries(this.cache.leoCacheData).forEach((([e,i])=>{i.functions.find((e=>e.contexts.find((e=>"test"===e.name&&(!e.arguments.length&&n||e.arguments.includes(r))))))&&t.push(e)})),[...new Set(t)]}};r([o.inject(c.TYPE.Cache),i("design:type",u.default)],l.prototype,"cache",void 0),l=r([o.injectable()],l),t.default=l},2153:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542),a=n(2374),s=n(6288),c=n(5947),u=n(4835),l=n(6090),d=n(6984),f=n(9767),p=n(6354),h=n(8784),m=n(8829),g=n(5471),y=n(2853),_=n(4272),v=n(7505),b=n(8151),E=n(6630);let T=class{constructor(e,t,n,r,i,o,c,u,l,d,f,p,m){this.connection=e,this.treeSitterLeo=t,this.treeSitterInput=n,this.cacheService=r,this.diagnosticService=i,this.inputDiagnosticService=o,this.settingsService=c,this.completionService=u,this.coloringService=l,this.leoWasmApi=d,this.definitionService=f,this.hoverService=p,this.cache=m,this.documents=new a.TextDocuments(s.TextDocument),this.sendDiagnosticsDebouncer=h.debounce(this.sendDiagnostics.bind(this),200,{maxWait:1e3}),this.setLeoCacheDebouncer=h.debounce(this.cacheService.setLeoCacheDocument.bind(this.cacheService),200,{maxWait:1e3,leading:!0}),this.setInputCacheDebouncer=h.debounce(this.cacheService.setInputCacheDocument.bind(this.cacheService),200,{maxWait:1e3,leading:!0})}async onInitialize(e){const t=await this.treeSitterLeo.getParser(),n=await this.treeSitterInput.getParser();if(await this.leoWasmApi.init(),!t.getLanguage())throw new Error("Parser leo not started");if(!n.getLanguage())throw new Error("Parser leo inputs not started");const r=e.capabilities;this.settingsService.hasConfigurationCapability=!(!r.workspace||!r.workspace.configuration),this.settingsService.hasWorkspaceFolderCapability=!(!r.workspace||!r.workspace.workspaceFolders),this.settingsService.hasDiagnosticRelatedInformationCapability=!!(r.textDocument&&r.textDocument.publishDiagnostics&&r.textDocument.publishDiagnostics.relatedInformation);const i={capabilities:{definitionProvider:!0,hoverProvider:!0,textDocumentSync:a.TextDocumentSyncKind.Incremental,completionProvider:{resolveProvider:!0,triggerCharacters:["."]}}};return this.settingsService.hasWorkspaceFolderCapability&&(i.capabilities.workspace={workspaceFolders:{supported:!0,changeNotifications:!0}}),await this.cacheService.analyzeWorkspace(e.rootPath),i}async onInitialized(){this.settingsService.hasConfigurationCapability&&this.connection.client.register(a.DidChangeConfigurationNotification.type,void 0)}onDidChangeConfiguration(e){this.settingsService.hasConfigurationCapability?this.settingsService.documentSettings.clear():this.settingsService.globalSettings=e.settings.leo||this.settingsService.defaultSettings,this.documents.all().forEach(this.validateTextDocument.bind(this))}async onCompletion(e){try{if(!this.settingsService.globalSettings.completion)return[];if(e.textDocument.uri.endsWith(".leo"))return this.completionService.search(e)}catch(e){this.connection.console.error(e.message),this.connection.console.error(e.stack)}return[]}onDidClose(e){this.settingsService.documentSettings.delete(e.document.uri)}async onDidSave(e){try{e.document.uri.endsWith(".leo")&&await this.cacheService.setLeoCacheDocument(e.document),(e.document.uri.endsWith(".in")||e.document.uri.endsWith(".state"))&&this.cacheService.setInputCacheDocument(e.document),this.validateTextDocument(e.document)}catch(e){this.connection.console.error(e.message),this.connection.console.error(e.stack)}}async onDidChangeContent(e){try{e.document.uri.endsWith(".leo")&&await this.setLeoCacheDebouncer(e.document),(e.document.uri.endsWith(".in")||e.document.uri.endsWith(".state"))&&this.setInputCacheDebouncer(e.document),this.validateTextDocument(e.document)}catch(e){this.connection.console.error(e.message),this.connection.console.error(e.stack)}}async getDocumentSettings(e){if(!this.settingsService.hasConfigurationCapability)return Promise.resolve(this.settingsService.globalSettings);let t=this.settingsService.documentSettings.get(e);return t||(t=await this.connection.workspace.getConfiguration({scopeUri:e,section:"leo"}),t&&this.settingsService.documentSettings.set(e,t)),Promise.resolve({...this.settingsService.globalSettings,...t})}async validateTextDocument(e){if((await this.getDocumentSettings(e.uri)).validate){const{uri:t}=e;this.sendDiagnosticsDebouncer(t)}}onCompletionResolve(e){return e}onHover(e){return e.textDocument.uri.endsWith(".leo")?this.hoverService.generate(e):null}onColorizeRequest(e){return e.uri.endsWith(".leo")?this.coloringService.getScopes(e):{uri:e.uri,scopes:{}}}sendDiagnostics(e){let t=[];try{e.endsWith(".leo")&&(this.sendColorizeRequest(e),t=this.diagnosticService.analyze(e)),e.endsWith(".in")&&(t=this.inputDiagnosticService.analyze(e),this.inputDiagnosticService.getAssociatedFiles(e).forEach((e=>{this.sendDiagnostics(e)}))),e.endsWith(".toml")&&this.cacheService.analyzeWorkspace(this.cache.rootFolderFsPath).then((()=>this.sendDiagnostics(this.cache.mainFileUri)))}catch(e){this.connection.console.error(e.message),this.connection.console.error(e.stack)}this.connection.sendDiagnostics({uri:e,diagnostics:t})}sendColorizeRequest(e){try{const t=this.cache.get(e);if(!t)return;const n=this.coloringService.getScopes({uri:e,visibleRanges:[{start:0,end:t.textDocument.lineCount+1}]}),r=new a.RequestType("ColoringService.colorize");this.connection.sendRequest(r,n)}catch(e){this.connection.console.error(e.message),this.connection.console.error(e.stack)}}onDefinition(e){try{return this.definitionService.resolveGoToDefinition(e)}catch(e){return this.connection.console.error(e.message),this.connection.console.error(e.stack),null}}async onDidChangeWatchedFiles(e){for(let t=0;t<e.changes.length;t++){const n=e.changes[t];E.URI.parse(n.uri).toString()===this.cache.leoTomlUri&&(await this.cacheService.analyzeWorkspace(this.cache.rootFolderFsPath),this.sendDiagnostics(this.cache.mainFileUri))}}};T=r([o.injectable(),i("design:paramtypes",[Object,v.default,_.default,c.default,l.default,d.default,f.default,u.default,p.default,m.default,g.default,y.default,b.default])],T),t.default=T},3234:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542);let a=class{constructor(e){this.connection=e}log(e){this.connection.console.log(e)}error(e){this.connection.console.error(e)}};a=r([o.injectable(),i("design:paramtypes",[Object])],a),t.default=a},13:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2880),i=n(5513),o=n(4835);class a{static autocompleteMacros(){const e=[],t="The first argument a macro receives is a format string. This must be a string literal.The power of the formatting string is in the {}s contained.Additional parameters passed to a macro replace the {}s within the formatting string in the order given.",n="(message?: string, ...parameters?: any)";return e.push({label:"console.log",detail:"console.log"+n,documentation:"Directly calls the println! macro in rust.."+t,insertText:'console.log(${1|"","{}"\\, |});',insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}),e.push({label:"console.error",detail:"console.error"+n,documentation:"Prints the error to console."+t,insertText:'console.error(${1|"","{}"\\, |});',insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}),e.push({label:"console.assert",detail:"console.assert(expression: any)",documentation:"The expression inside of a console.assert must evaluate to a boolean. The assert function is most commonly used in testing.",insertText:"console.assert($1);",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}),e}static autocompleteConst(){return[{label:"const",detail:"keyword for variable definition",documentation:"Constant variables do not define a variable in the constraint system. Their value is constrained in the circuit on computation with an allocated variable. Constant variables cannot be mutable. They have the same functionality as const variables in other languages.",insertText:"const $1 = $2;",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}]}static autocompleteLet(){return[{label:"let",detail:"keyword for variable definition",documentation:"Allocated variables define private variables in the constraint system. Their value is constrained in the circuit on initialization.",insertText:"let $1 = $2;",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}]}static autocompleteReturn(){return[{label:"return",detail:"statement",documentation:"A return statement is used to end the execution of the function call and “returns” the result (value of the expression following the return keyword) to the caller. The statements after the return statements are not executed.",insertText:"return${1| , ( \\,  )|}",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}]}static autocompleteKeyword(){const e=[];return e.push({label:"true",kind:r.CompletionItemKind.Keyword,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reserverdKeyword+"true"}),e.push({label:"false",kind:r.CompletionItemKind.Keyword,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reserverdKeyword+"false"}),e.push({label:"Self",kind:r.CompletionItemKind.Keyword,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reserverdKeyword+"Self"}),e.push({label:"self",kind:r.CompletionItemKind.Keyword,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reserverdKeyword+"self"}),e}static autocompleteDateType(){const e=[];return e.push({label:"address",detail:"data type",documentation:"Addresses are defined to enable compiler-optimized routines for parsing and operating over addresses. These semantics will be accompanied by a standard library in a future sprint.",kind:r.CompletionItemKind.TypeParameter,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionParameters,i.CompletionScope.functionReturnType,i.CompletionScope.functionBody,i.CompletionScope.methodBody,i.CompletionScope.circuitBody],sortText:o.CompletionSortOrder.reserverdKeyword+"address"}),e.push({label:"bool",detail:"data type",documentation:"A boolean data type is declared with the bool keyword and can only take the values true or false.",kind:r.CompletionItemKind.TypeParameter,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionParameters,i.CompletionScope.functionReturnType,i.CompletionScope.functionBody,i.CompletionScope.methodBody,i.CompletionScope.circuitBody],sortText:o.CompletionSortOrder.reserverdKeyword+"bool"}),e.push({label:"field",detail:"data type",kind:r.CompletionItemKind.TypeParameter,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionParameters,i.CompletionScope.functionReturnType,i.CompletionScope.functionBody,i.CompletionScope.methodBody,i.CompletionScope.circuitBody],sortText:o.CompletionSortOrder.reserverdKeyword+"field"}),e.push({label:"group",detail:"data type",documentation:"An affine point on the elliptic curve passed into the Leo compiler forms a group. Leo supports this set as a primitive data type.",kind:r.CompletionItemKind.TypeParameter,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionParameters,i.CompletionScope.functionReturnType,i.CompletionScope.functionBody,i.CompletionScope.methodBody,i.CompletionScope.circuitBody],sortText:o.CompletionSortOrder.reserverdKeyword+"group"}),["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128"].forEach((t=>{e.push({label:t,detail:"data type",documentation:`The ${t.slice(1)}-bit ${"u"===t.slice(0,1)?"un":""}signed integer type.`,kind:r.CompletionItemKind.TypeParameter,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionParameters,i.CompletionScope.functionReturnType,i.CompletionScope.functionBody,i.CompletionScope.methodBody,i.CompletionScope.circuitBody],sortText:o.CompletionSortOrder.reserverdKeyword+t})})),e}static autocompleteIfStatement(){const e=[];return e.push({label:"Ternary if Expression",filterText:"if",detail:"if [cond] ? [first] : [second];",documentation:"Ternary if [cond] ? [first] : [second]; expressions are the cheapest form of conditional. Since first and second are expressions, we can resolve their values before proceeding execution. In the underlying circuit, this is a single bit multiplexer.",insertText:"if $1 ? $2 : $3;",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reserverdKeyword+"if"}),e.push({label:"Conditional if Statement",filterText:"if",detail:"if [cond] { [first] }",documentation:"Leo supports the traditional if [cond] { [first] } else { [second] } which can be chained using else if. Since first and second are one or more statements, they resolve to separate circuits which will all be evaluated. In the underlying circuit this can be thought of as a demultiplexer.",insertText:"if $1 {\n$2\n}",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reserverdKeyword+"if"}),e.push({label:"Conditional if-else Statement",filterText:"if",detail:"if [cond] { [first] } else { [second] }",documentation:"Leo supports the traditional if [cond] { [first] } else { [second] } which can be chained using else if. Since first and second are one or more statements, they resolve to separate circuits which will all be evaluated. In the underlying circuit this can be thought of as a demultiplexer.",insertText:"if $1 {\n$2\n} else {\n $3 \n}",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reserverdKeyword+"if"}),e}static autocompleteForStatement(){return[{label:"for Statement",filterText:"for",detail:"for [iter] [from]..[to] { [statement] }",documentation:"A for loop is a repetition control structure that allows you to efficiently write a loop that needs to execute a specific number of times.",insertText:"for $1 in $2..$3 {\n$4\n}",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reserverdKeyword+"for"}]}static autocompleteFunctionDefinition(){return[{label:"function definition",filterText:"function",detail:"function [name] ([parameter]) -> [return type] {[expression]}",insertText:"function $1 ($2) -> $3 {\n$4\n}",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file,i.CompletionScope.circuitBody],sortText:o.CompletionSortOrder.reserverdKeyword+"function"}]}static autocompleteTestFunctionDefinition(e){const t=e.match(/@t|@te|@tes|@test/);return[{label:"test function definition",filterText:"test",detail:"@test function [name] () {[expression]}",insertText:`\${TM_CURRENT_LINE/.*//is}${t&&0===t.index?"test":"@test"}\${1|(), |} \nfunction $2 () {\n\t$0\n}`,insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file],sortText:o.CompletionSortOrder.reserverdKeyword+"test_function"}]}static autocompleteCircuitDefinition(){return[{label:"circuit definition",filterText:"circuit",detail:"circuit [name] {[members]}",insertText:"circuit $1 {\n$2\n}",documentation:"Circuits in Leo are similar to classes in object oriented languages. Circuits are defined above functions in a Leo program. Circuits can have one or more members.",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file],sortText:o.CompletionSortOrder.reserverdKeyword+"circuit"}]}static autocompleteImportDefinition(){const e=[];return e.push({label:"import definition",filterText:"import",detail:"import [file/package].[function];",insertText:"import $1.$2;",documentation:"Leo supports importing functions and circuits by name into the current file.",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file],sortText:o.CompletionSortOrder.reserverdKeyword+"import"}),e.push({label:"import alias definition",filterText:"import",detail:"import [file/package].[function] as [alias];",insertText:"import $1.$2 as $3;",documentation:"Leo supports importing functions and circuits by name into the current file.",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file],sortText:o.CompletionSortOrder.reserverdKeyword+"import"}),e.push({label:"import all definition",filterText:"import",detail:"import [file/package].*;",insertText:"import $1.*;",documentation:"Leo supports importing functions and circuits by name into the current file.",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file],sortText:o.CompletionSortOrder.reserverdKeyword+"import"}),e.push({label:"import multiple definition",filterText:"import",detail:"import [file/package].([function]);",insertText:"import $1.(\n\t$2,\n);",documentation:"Leo supports importing functions and circuits by name into the current file.",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file],sortText:o.CompletionSortOrder.reserverdKeyword+"import"}),e}static autocomplete(e){return"@"===e?[]:[...a.autocompleteKeyword(),...a.autocompleteConst(),...a.autocompleteLet(),...a.autocompleteReturn(),...a.autocompleteMacros(),...a.autocompleteDateType(),...a.autocompleteIfStatement(),...a.autocompleteForStatement(),...a.autocompleteFunctionDefinition(),...a.autocompleteTestFunctionDefinition(e),...a.autocompleteCircuitDefinition(),...a.autocompleteImportDefinition()]}static isConsoleFunction(e){return"log"===e.type||"debug"===e.type||"error"===e.type||"assert"===e.type}}t.default=a},9767:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3542);let a=class{constructor(){this.hasConfigurationCapability=!1,this.hasWorkspaceFolderCapability=!1,this.hasDiagnosticRelatedInformationCapability=!1,this.defaultSettings={validate:!0,completion:!0,maxNumberOfProblems:100},this.documentSettings=new Map,this.globalSettings=this.defaultSettings}};a=r([o.injectable(),i("design:paramtypes",[])],a),t.default=a},4862:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticError=void 0;class n extends Error{constructor(e="",t){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,n),this.name="DiagnosticError",this.node=t}}t.DiagnosticError=n},5907:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NODE_TYPES=void 0,t.NODE_TYPES={package:"package",packages:"packages",package_name:"package_name",package_access:"package_access",identifier:"identifier",star:"star",multiple:"multiple",import_symbol:"import_symbol",alias:"alias",access_member:"access_member",access:"access",circuit_declaration:"circuit_declaration",circuit_name:"circuit_name",circuit_variable_definition:"circuit_variable_definition",circuit_variable_expression:"circuit_variable_expression",circuit_member:"circuit_member",function_declaration:"function_declaration",statement:"statement",statement_declaration:"statement_declaration",expression_circuit_inline:"expression_circuit_inline",expression:"expression",expression_term:"expression_term",expression_postfix:"expression_postfix",self_expression_postfix:"self_expression_postfix",keyword_or_identifier:"keyword_or_identifier",identifier_assignee:"identifier_assignee",variable_declaration:"variable_declaration",variables:"variables",self_keyword:"self_keyword"}},6920:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=void 0,t.TYPE={CircuitDiagnostic:Symbol.for("CircuitDiagnostic"),DefinitionDiagnostic:Symbol.for("DefinitionDiagnostic"),FunctionDiagnostic:Symbol.for("FunctionDiagnostic"),ImportDiagnostic:Symbol.for("ImportDiagnostic"),DataTypeDiagnostic:Symbol.for("DataTypeDiagnostic"),ArrayTypeDiagnostic:Symbol.for("ArrayTypeDiagnostic"),GroupDiagnostic:Symbol.for("GroupDiagnostic"),FieldDiagnostic:Symbol.for("FieldDiagnostic"),ExpressionDiagnostic:Symbol.for("ExpressionDiagnostic"),SelfDiagnostic:Symbol.for("SelfDiagnostic"),InputDiagnostic:Symbol.for("InputDiagnostic"),AnnotationParser:Symbol.for("AnnotationParser"),CircuitParser:Symbol.for("CircuitParser"),DataTypeParser:Symbol.for("DataTypeParser"),FunctionParser:Symbol.for("FunctionParser"),ImportParser:Symbol.for("ImportParser"),StatementDeclarationParser:Symbol.for("StatementDeclarationParser"),InputParser:Symbol.for("InputParser"),LeoTomlParser:Symbol.for("LeoTomlParser"),CacheService:Symbol.for("CacheService"),CircuitService:Symbol.for("CircuitService"),ColoringService:Symbol.for("ColoringService"),DiagnosticService:Symbol.for("DiagnosticService"),InputDiagnosticService:Symbol.for("InputDiagnosticService"),FunctionsService:Symbol.for("FunctionsService"),ReservedKeywordsService:Symbol.for("ReservedKeywordsService"),CompletionService:Symbol.for("CompletionService"),DefinitionService:Symbol.for("DefinitionService"),HoverService:Symbol.for("HoverService"),Cache:Symbol.for("Cache"),TreeSitterLeo:Symbol.for("TreeSitterLeo"),TreeSitterInput:Symbol.for("TreeSitterInput"),SettingsService:Symbol.for("SettingsService"),LoggerService:Symbol.for("LoggerService"),LeoWasmApi:Symbol.for("LeoWasmApi"),CompletionScopeService:Symbol.for("CompletionScopeService"),CompletionScopeServiceFactory:Symbol.for("CompletionScopeServiceFactory"),ImportService:Symbol.for("ImportService"),ImportServiceFactory:Symbol.for("ImportServiceFactory")}},6014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqObjectsList=t.uniq=void 0,t.uniq=function(e){return Array.from(new Set(e))},t.uniqObjectsList=function(e,t){return e.filter(((e,n,r)=>r.findIndex((n=>n[t]===e[t]))===n))}},8151:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3542),o=n(6630),a=n(3359),s=n(5944),c=n(7414),u=n(6014);let l=class{constructor(){this.leoCacheData={},this.inputsCacheData={},this.leoTomlCacheData={},this.cacheInProgress=!1}set(e,t){const n=o.URI.parse(e).toString();this.leoCacheData[n]=t}get(e){return this.leoCacheData[e]||this.leoCacheData[o.URI.parse(e).toString()]}setInputs(e,t){const n=o.URI.parse(e).toString();this.inputsCacheData[n]=t}getInputs(e){return this.inputsCacheData[e]||this.inputsCacheData[o.URI.parse(e).toString()]}getAfterCached(e){return new Promise((t=>{if(this.cacheInProgress){const n=setInterval((()=>{this.cacheInProgress||(clearInterval(n),t(this.leoCacheData[o.URI.parse(e).toString()]))}),50)}else t(this.leoCacheData[o.URI.parse(e).toString()])}))}changeInProgress(e){this.cacheInProgress=e}getAllImportedItemsByType(e,t){return this.get(t).imports.reduce(((t,n)=>{const r=n.items.filter((t=>{var n;return(null===(n=t.node)||void 0===n?void 0:n.type)===e}));return t.push(...r),t}),[])}findAny(e,t=""){let n=[];return(t?[t]:Object.keys(this.leoCacheData)).forEach((t=>{const r=c.default.getImportedItemsByType(this.get(t),"circuit_declaration"),i=c.default.getImportedItemsByType(this.get(t),"function_declaration"),o=a.default.findAllByName([...this.get(t).circuits,...r],e),u=s.default.findAllByName([...this.get(t).functions,...i],e);n.push(...o,...u)})),n=u.uniqObjectsList(n,"node"),n}};l=r([i.injectable()],l),t.default=l},8318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchEntriesByName=t.getAllFileNamesByExtension=t.getAllDirectoriesInPath=t.getAllFilesInPath=t.readFileAsync=t.readFile=t.checkPathExists=t.fileNameFromUri=t.dirPathFromFileUri=t.uriToPath=t.getFilePaths=void 0;const r=n(5400),i=n(6630),o=n(5747),a=n(5622);function s(e){const t=i.URI.parse(e);if("file"===t.scheme)return t.fsPath}function c(e){try{return o.readdirSync(e,{withFileTypes:!0}).filter((e=>!e.isDirectory()))}catch(e){return[]}}function u(e){try{return o.readdirSync(e,{withFileTypes:!0}).filter((e=>e.isDirectory()))}catch(e){return[]}}function l(e,t){const n=c(e),r=new RegExp(`\\.${t}$`);return n.filter((e=>e.name.match(r))).map((e=>e.name.replace(r,"")))}t.getFilePaths=async function(e,t){return new Promise(((n,i)=>{r(e,{cwd:t,nodir:!0,absolute:!0,strict:!1},(function(e,t){if(e)return i(e);n(t)}))}))},t.uriToPath=s,t.dirPathFromFileUri=function(e){const t=s(e);return(t||e).split(a.sep).slice(0,-1).join(a.sep)||""},t.fileNameFromUri=function(e){const t=s(e),n=(t||e).split(a.sep);return n[n.length-1].replace(".leo","")},t.checkPathExists=function(e){try{if(o.existsSync(e))return!0}catch(e){}return!1},t.readFile=function(e){try{return o.readFileSync(a.resolve(e)).toString()}catch(e){}return""},t.readFileAsync=async function(e){return new Promise((t=>{o.readFile(a.resolve(e),"utf8",((e,n)=>{if(e)return t("");t(n.toString())}))}))},t.getAllFilesInPath=c,t.getAllDirectoriesInPath=u,t.getAllFileNamesByExtension=l,t.searchEntriesByName=function(e,t,n="",r="",i=!1){let o=[];return o=n?l(e,n):u(e).map((e=>e.name)),o.filter((e=>i?e===t&&e!==r:e.match(t)&&e!==r))}},2159:(e,t,n)=>{var r,i=void 0!==i?i:{},o={};for(r in i)i.hasOwnProperty(r)&&(o[r]=i[r]);var a,s,c,u,l=[],d="./this.program";if(a="object"==typeof window,s="function"==typeof importScripts,c="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,u=!a&&!c&&!s,i.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var f,p,h,m,g="";if(c)g=s?n(5622).dirname(g)+"/":__dirname+"/",f=function(e,t){return h||(h=n(5747)),m||(m=n(5622)),e=m.normalize(e),h.readFileSync(e,t?null:"utf8")},p=function(e){var t=f(e,!0);return t.buffer||(t=new Uint8Array(t)),P(t.buffer),t},process.argv.length>1&&(d=process.argv[1].replace(/\\/g,"/")),l=process.argv.slice(2),e.exports=i,process.on("uncaughtException",(function(e){if(!(e instanceof ft))throw e})),process.on("unhandledRejection",le),function(e){process.exit(e)},i.inspect=function(){return"[Emscripten Module object]"};else if(u)"undefined"!=typeof read&&(f=function(e){return read(e)}),p=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(P("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?l=scriptArgs:"undefined"!=typeof arguments&&(l=arguments),"function"==typeof quit&&function(e){quit(e)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print);else{if(!a&&!s)throw new Error("environment detection error");s?g=self.location.href:document.currentScript&&(g=document.currentScript.src),g=0!==g.indexOf("blob:")?g.substr(0,g.lastIndexOf("/")+1):"",f=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},s&&(p=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},function(e){document.title=e}}var y=i.print||console.log.bind(console),_=i.printErr||console.warn.bind(console);for(r in o)o.hasOwnProperty(r)&&(i[r]=o[r]);o=null,i.arguments&&(l=i.arguments),Object.getOwnPropertyDescriptor(i,"arguments")||Object.defineProperty(i,"arguments",{configurable:!0,get:function(){le("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),i.thisProgram&&(d=i.thisProgram),Object.getOwnPropertyDescriptor(i,"thisProgram")||Object.defineProperty(i,"thisProgram",{configurable:!0,get:function(){le("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),i.quit&&i.quit,Object.getOwnPropertyDescriptor(i,"quit")||Object.defineProperty(i,"quit",{configurable:!0,get:function(){le("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),P(void 0===i.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),P(void 0===i.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),P(void 0===i.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),P(void 0===i.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),P(void 0===i.read,"Module.read option was removed (modify read_ in JS)"),P(void 0===i.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),P(void 0===i.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),P(void 0===i.setWindowTitle,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),P(void 0===i.TOTAL_MEMORY,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Object.getOwnPropertyDescriptor(i,"read")||Object.defineProperty(i,"read",{configurable:!0,get:function(){le("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(i,"readAsync")||Object.defineProperty(i,"readAsync",{configurable:!0,get:function(){le("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(i,"readBinary")||Object.defineProperty(i,"readBinary",{configurable:!0,get:function(){le("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(i,"setWindowTitle")||Object.defineProperty(i,"setWindowTitle",{configurable:!0,get:function(){le("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}});function v(e){v.shown||(v.shown={}),v.shown[e]||(v.shown[e]=1,_(e))}var b,E,T=0,w=function(e){T=e};i.wasmBinary&&(b=i.wasmBinary),Object.getOwnPropertyDescriptor(i,"wasmBinary")||Object.defineProperty(i,"wasmBinary",{configurable:!0,get:function(){le("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),i.noExitRuntime&&i.noExitRuntime,Object.getOwnPropertyDescriptor(i,"noExitRuntime")||Object.defineProperty(i,"noExitRuntime",{configurable:!0,get:function(){le("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),"object"!=typeof WebAssembly&&le("no native wasm support detected");var S=new WebAssembly.Table({initial:216,maximum:216,element:"anyfunc"}),R=!1;function P(e,t){e||le("Assertion failed: "+t)}function N(e,t,n,r,o){var a={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);A(e,t=Ge(n),n)}return t},array:function(e){var t=Ge(e.length);return function(e,t){P(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),M.set(e,t)}(e,t),t}};var s=function(e){var t=i["_"+e];return P(t,"Cannot call unknown function "+e+", make sure it is exported"),t}(e),c=[],u=0;if(P("array"!==t,'Return type should not be "array".'),r)for(var l=0;l<r.length;l++){var d=a[n[l]];d?(0===u&&(u=ze()),c[l]=d(r[l])):c[l]=r[l]}var f=s.apply(null,c);return f=function(e){return"string"===t?D(e):"boolean"===t?Boolean(e):e}(f),0!==u&&Ye(u),f}var O="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&O)return O.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if(224==(240&a)?a=(15&a)<<12|s<<6|c:(240!=(248&a)&&v("Invalid UTF-8 leading byte 0x"+a.toString(16)+" encountered when deserializing a UTF-8 string on the asm.js/wasm heap to a JS string!"),a=(7&a)<<18|s<<12|c<<6|63&e[t++]),a<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function D(e,t){return e?C(F,e,t):""}function x(e,t,n,r){if(!(r>0))return 0;for(var i=n,o=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(s<=127){if(n>=o)break;t[n++]=s}else if(s<=2047){if(n+1>=o)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=o)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=o)break;s>=2097152&&v("Invalid Unicode code point 0x"+s.toString(16)+" encountered when serializing a JS string to an UTF-8 string on the asm.js/wasm heap! (Valid unicode code points should be in range 0-0x1FFFFF)."),t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function A(e,t,n){return P("number"==typeof n,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),x(e,F,t,n)}function I(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var k,M,F,j,B,L=65536;var q=5262704,U=19648;P(!0,"stack must start aligned"),P(!0,"heap must start aligned");var H=5242880;i.TOTAL_STACK&&P(H===i.TOTAL_STACK,"the stack size can no longer be determined at runtime");var W,$=i.INITIAL_MEMORY||16777216;function z(){P(!0),B[4957]=34821223,B[4958]=2310721022,j[0]=1668509029}function Y(){var e=B[4957],t=B[4958];34821223==e&&2310721022==t||le("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+t.toString(16)+" "+e.toString(16)),1668509029!==j[0]&&le("Runtime error: The application has corrupted its heap memory area (address zero)!")}function G(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?i.dynCall_v(n):i.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}else t(i)}}Object.getOwnPropertyDescriptor(i,"INITIAL_MEMORY")||Object.defineProperty(i,"INITIAL_MEMORY",{configurable:!0,get:function(){le("Module.INITIAL_MEMORY has been replaced with plain INITIAL_INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),P($>=H,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+$+"! (TOTAL_STACK="+"5242880)"),P("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&void 0!==Int32Array.prototype.subarray&&void 0!==Int32Array.prototype.set,"JS engine does not provide full typed array support"),(E=i.wasmMemory?i.wasmMemory:new WebAssembly.Memory({initial:$/L,maximum:$/L}))&&(k=E.buffer),P(($=k.byteLength)%L==0),k=W=k,i.HEAP8=M=new Int8Array(W),i.HEAP16=new Int16Array(W),i.HEAP32=j=new Int32Array(W),i.HEAPU8=F=new Uint8Array(W),i.HEAPU16=new Uint16Array(W),i.HEAPU32=B=new Uint32Array(W),i.HEAPF32=new Float32Array(W),i.HEAPF64=new Float64Array(W),j[U>>2]=q,function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian!"}();var X=[],K=[],V=[],Q=[],J=!1,Z=!1;P(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var ee=Math.abs,te=Math.ceil,ne=Math.floor,re=Math.min,ie=0,oe=null,ae=null,se={};function ce(e){ie++,i.monitorRunDependencies&&i.monitorRunDependencies(ie),e?(P(!se[e]),se[e]=1,null===oe&&"undefined"!=typeof setInterval&&(oe=setInterval((function(){if(R)return clearInterval(oe),void(oe=null);var e=!1;for(var t in se)e||(e=!0,_("still waiting on run dependencies:")),_("dependency: "+t);e&&_("(end of list)")}),1e4))):_("warning: run dependency added without ID")}function ue(e){if(ie--,i.monitorRunDependencies&&i.monitorRunDependencies(ie),e?(P(se[e]),delete se[e]):_("warning: run dependency removed without ID"),0==ie&&(null!==oe&&(clearInterval(oe),oe=null),ae)){var t=ae;ae=null,t()}}function le(e){throw i.onAbort&&i.onAbort(e),_(e+=""),R=!0,1,e="abort("+e+") at "+Ee(),new WebAssembly.RuntimeError(e)}function de(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}i.preloadedImages={},i.preloadedAudios={};function fe(e){return de(e,"data:application/octet-stream;base64,")}function pe(e){return de(e,"file://")}function he(e,t){return function(){var n=e,r=t;return t||(r=i.asm),P(J,"native function `"+n+"` called before runtime initialization"),P(!Z,"native function `"+n+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),r[e]||P(r[e],"exported native function `"+n+"` not found"),r[e].apply(null,arguments)}}var me,ge,ye,_e="leo_diagnostics_wasm_api.wasm";function ve(){try{if(b)return new Uint8Array(b);if(p)return p(_e);throw"both async and sync fetching of the wasm failed"}catch(e){le(e)}}function be(e){return e.replace(/\b_Z[\w\d_]+/g,(function(e){var t,n=(t=e,v("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),t);return e===n?e:n+" ["+e+"]"}))}function Ee(){var e=function(){var e=new Error;if(!e.stack){try{throw new Error}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}();return i.extraStackTrace&&(e+="\n"+i.extraStackTrace()),be(e)}fe(_e)||(me=_e,_e=i.locateFile?i.locateFile(me,g):g+me),K.push({func:function(){Ue()}});var Te={},we=0;var Se={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=Se.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Se.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return Se.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Se.normalize(e.join("/"))},join2:function(e,t){return Se.normalize(e+"/"+t)}};function Re(e){return j[He()>>2]=e,e}var Pe={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:xe.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return(t?"/":"")+(e=Se.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=Pe.resolve(e).substr(1),t=Pe.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}var c=[];for(s=a;s<r.length;s++)c.push("..");return(c=c.concat(i.slice(a))).join("/")}},Ne={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Ne.ttys[e]={input:[],output:[],ops:t},xe.registerDevice(e,Ne.stream_ops)},stream_ops:{open:function(e){var t=Ne.ttys[e.node.rdev];if(!t)throw new xe.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new xe.ErrnoError(60);for(var o=0,a=0;a<r;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new xe.ErrnoError(29)}if(void 0===s&&0===o)throw new xe.ErrnoError(6);if(null==s)break;o++,t[n+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new xe.ErrnoError(60);try{for(var o=0;o<r;o++)e.tty.ops.put_char(e.tty,t[n+o])}catch(e){throw new xe.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(c){var n=Buffer.alloc?Buffer.alloc(256):new Buffer(256),r=0;try{r=h.readSync(process.stdin.fd,n,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;r=0}t=r>0?n.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=Be(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(y(C(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(y(C(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(_(C(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(_(C(e.output,0)),e.output=[])}}},Oe={ops_table:null,mount:function(e){return Oe.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(xe.isBlkdev(n)||xe.isFIFO(n))throw new xe.ErrnoError(63);Oe.ops_table||(Oe.ops_table={dir:{node:{getattr:Oe.node_ops.getattr,setattr:Oe.node_ops.setattr,lookup:Oe.node_ops.lookup,mknod:Oe.node_ops.mknod,rename:Oe.node_ops.rename,unlink:Oe.node_ops.unlink,rmdir:Oe.node_ops.rmdir,readdir:Oe.node_ops.readdir,symlink:Oe.node_ops.symlink},stream:{llseek:Oe.stream_ops.llseek}},file:{node:{getattr:Oe.node_ops.getattr,setattr:Oe.node_ops.setattr},stream:{llseek:Oe.stream_ops.llseek,read:Oe.stream_ops.read,write:Oe.stream_ops.write,allocate:Oe.stream_ops.allocate,mmap:Oe.stream_ops.mmap,msync:Oe.stream_ops.msync}},link:{node:{getattr:Oe.node_ops.getattr,setattr:Oe.node_ops.setattr,readlink:Oe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Oe.node_ops.getattr,setattr:Oe.node_ops.setattr},stream:xe.chrdev_stream_ops}});var i=xe.createNode(e,t,n,r);return xe.isDir(i.mode)?(i.node_ops=Oe.ops_table.dir.node,i.stream_ops=Oe.ops_table.dir.stream,i.contents={}):xe.isFile(i.mode)?(i.node_ops=Oe.ops_table.file.node,i.stream_ops=Oe.ops_table.file.stream,i.usedBytes=0,i.contents=null):xe.isLink(i.mode)?(i.node_ops=Oe.ops_table.link.node,i.stream_ops=Oe.ops_table.link.stream):xe.isChrdev(i.mode)&&(i.node_ops=Oe.ops_table.chrdev.node,i.stream_ops=Oe.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)>>>0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=xe.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,xe.isDir(e.mode)?t.size=4096:xe.isFile(e.mode)?t.size=e.usedBytes:xe.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Oe.resizeFileStorage(e,t.size)},lookup:function(e,t){throw xe.genericErrors[44]},mknod:function(e,t,n,r){return Oe.createNode(e,t,n,r)},rename:function(e,t,n){if(xe.isDir(e.mode)){var r;try{r=xe.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new xe.ErrnoError(55)}delete e.parent.contents[e.name],e.name=n,t.contents[n]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var n=xe.lookupNode(e,t);for(var r in n.contents)throw new xe.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=Oe.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!xe.isLink(e.mode))throw new xe.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-i,r);if(P(a>=0),a>8&&o.subarray)t.set(o.subarray(i,i+a),n);else for(var s=0;s<a;s++)t[n+s]=o[i+s];return a},write:function(e,t,n,r,i,o){if(P(!(t instanceof ArrayBuffer)),!r)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(o)return P(0===i,"canOwn must imply no weird position inside the file"),a.contents=t.subarray(n,n+r),a.usedBytes=r,r;if(0===a.usedBytes&&0===i)return a.contents=t.slice(n,n+r),a.usedBytes=r,r;if(i+r<=a.usedBytes)return a.contents.set(t.subarray(n,n+r),i),r}if(Oe.expandFileStorage(a,i+r),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)a.contents[i+s]=t[n+s];return a.usedBytes=Math.max(a.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&xe.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new xe.ErrnoError(28);return r},allocate:function(e,t,n){Oe.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i,o){if(P(0===t),!xe.isFile(e.node.mode))throw new xe.ErrnoError(43);var a,s,c=e.node.contents;if(2&o||c.buffer!==k){if((r>0||r+n<c.length)&&(c=c.subarray?c.subarray(r,r+n):Array.prototype.slice.call(c,r,r+n)),s=!0,!(a=xe.mmapAlloc(n)))throw new xe.ErrnoError(48);M.set(c,a)}else s=!1,a=c.byteOffset;return{ptr:a,allocated:s}},msync:function(e,t,n,r,i){if(!xe.isFile(e.node.mode))throw new xe.ErrnoError(43);if(2&i)return 0;Oe.stream_ops.write(e,t,0,r,n,!1);return 0}}},Ce={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},De={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},xe={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof xe.ErrnoError))throw e+" : "+Ee();return Re(e.errno)},lookupPath:function(e,t){if(t=t||{},!(e=Pe.resolve(xe.cwd(),e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new xe.ErrnoError(32);for(var i=Se.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),o=xe.root,a="/",s=0;s<i.length;s++){var c=s===i.length-1;if(c&&t.parent)break;if(o=xe.lookupNode(o,i[s]),a=Se.join2(a,i[s]),xe.isMountpoint(o)&&(!c||c&&t.follow_mount)&&(o=o.mounted.root),!c||t.follow)for(var u=0;xe.isLink(o.mode);){var l=xe.readlink(a);if(a=Pe.resolve(Se.dirname(a),l),o=xe.lookupPath(a,{recurse_count:t.recurse_count}).node,u++>40)throw new xe.ErrnoError(32)}}return{path:a,node:o}},getPath:function(e){for(var t;;){if(xe.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%xe.nameTable.length},hashAddNode:function(e){var t=xe.hashName(e.parent.id,e.name);e.name_next=xe.nameTable[t],xe.nameTable[t]=e},hashRemoveNode:function(e){var t=xe.hashName(e.parent.id,e.name);if(xe.nameTable[t]===e)xe.nameTable[t]=e.name_next;else for(var n=xe.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=xe.mayLookup(e);if(n)throw new xe.ErrnoError(n,e);for(var r=xe.hashName(e.id,t),i=xe.nameTable[r];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===t)return i}return xe.lookup(e,t)},createNode:function(e,t,n,r){var i=new xe.FSNode(e,t,n,r);return xe.hashAddNode(i),i},destroyNode:function(e){xe.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=xe.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return xe.ignorePermissions||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var t=xe.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{xe.lookupNode(e,t);return 20}catch(e){}return xe.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=xe.lookupNode(e,t)}catch(e){return e.errno}var i=xe.nodePermissions(e,"wx");if(i)return i;if(n){if(!xe.isDir(r.mode))return 54;if(xe.isRoot(r)||xe.getPath(r)===xe.cwd())return 10}else if(xe.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?xe.isLink(e.mode)?32:xe.isDir(e.mode)&&("r"!==xe.flagsToPermissionString(t)||512&t)?31:xe.nodePermissions(e,xe.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||xe.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!xe.streams[n])return n;throw new xe.ErrnoError(33)},getStream:function(e){return xe.streams[e]},createStream:function(e,t,n){xe.FSStream||(xe.FSStream=function(){},xe.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var r=new xe.FSStream;for(var i in e)r[i]=e[i];e=r;var o=xe.nextfd(t,n);return e.fd=o,xe.streams[o]=e,e},closeStream:function(e){xe.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=xe.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new xe.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){xe.devices[e]={stream_ops:t}},getDevice:function(e){return xe.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),xe.syncFSRequests++,xe.syncFSRequests>1&&_("warning: "+xe.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=xe.getMounts(xe.root.mount),r=0;function i(e){return P(xe.syncFSRequests>0),xe.syncFSRequests--,t(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,i(e));++r>=n.length&&i(null)}n.forEach((function(t){if(!t.type.syncfs)return o(null);t.type.syncfs(t,e,o)}))},mount:function(e,t,n){if("string"==typeof e)throw e;var r,i="/"===n,o=!n;if(i&&xe.root)throw new xe.ErrnoError(10);if(!i&&!o){var a=xe.lookupPath(n,{follow_mount:!1});if(n=a.path,r=a.node,xe.isMountpoint(r))throw new xe.ErrnoError(10);if(!xe.isDir(r.mode))throw new xe.ErrnoError(54)}var s={type:e,opts:t,mountpoint:n,mounts:[]},c=e.mount(s);return c.mount=s,s.root=c,i?xe.root=c:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),c},unmount:function(e){var t=xe.lookupPath(e,{follow_mount:!1});if(!xe.isMountpoint(t.node))throw new xe.ErrnoError(28);var n=t.node,r=n.mounted,i=xe.getMounts(r);Object.keys(xe.nameTable).forEach((function(e){for(var t=xe.nameTable[e];t;){var n=t.name_next;-1!==i.indexOf(t.mount)&&xe.destroyNode(t),t=n}})),n.mounted=null;var o=n.mount.mounts.indexOf(r);P(-1!==o),n.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=xe.lookupPath(e,{parent:!0}).node,i=Se.basename(e);if(!i||"."===i||".."===i)throw new xe.ErrnoError(28);var o=xe.mayCreate(r,i);if(o)throw new xe.ErrnoError(o);if(!r.node_ops.mknod)throw new xe.ErrnoError(63);return r.node_ops.mknod(r,i,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,xe.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,xe.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{xe.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,xe.mknod(e,t,n)},symlink:function(e,t){if(!Pe.resolve(e))throw new xe.ErrnoError(44);var n=xe.lookupPath(t,{parent:!0}).node;if(!n)throw new xe.ErrnoError(44);var r=Se.basename(t),i=xe.mayCreate(n,r);if(i)throw new xe.ErrnoError(i);if(!n.node_ops.symlink)throw new xe.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:function(e,t){var n,r,i=Se.dirname(e),o=Se.dirname(t),a=Se.basename(e),s=Se.basename(t);try{n=xe.lookupPath(e,{parent:!0}).node,r=xe.lookupPath(t,{parent:!0}).node}catch(e){throw new xe.ErrnoError(10)}if(!n||!r)throw new xe.ErrnoError(44);if(n.mount!==r.mount)throw new xe.ErrnoError(75);var c,u=xe.lookupNode(n,a),l=Pe.relative(e,o);if("."!==l.charAt(0))throw new xe.ErrnoError(28);if("."!==(l=Pe.relative(t,i)).charAt(0))throw new xe.ErrnoError(55);try{c=xe.lookupNode(r,s)}catch(e){}if(u!==c){var d=xe.isDir(u.mode),f=xe.mayDelete(n,a,d);if(f)throw new xe.ErrnoError(f);if(f=c?xe.mayDelete(r,s,d):xe.mayCreate(r,s))throw new xe.ErrnoError(f);if(!n.node_ops.rename)throw new xe.ErrnoError(63);if(xe.isMountpoint(u)||c&&xe.isMountpoint(c))throw new xe.ErrnoError(10);if(r!==n&&(f=xe.nodePermissions(n,"w")))throw new xe.ErrnoError(f);try{xe.trackingDelegate.willMovePath&&xe.trackingDelegate.willMovePath(e,t)}catch(n){_("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}xe.hashRemoveNode(u);try{n.node_ops.rename(u,r,s)}catch(e){throw e}finally{xe.hashAddNode(u)}try{xe.trackingDelegate.onMovePath&&xe.trackingDelegate.onMovePath(e,t)}catch(n){_("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}}},rmdir:function(e){var t=xe.lookupPath(e,{parent:!0}).node,n=Se.basename(e),r=xe.lookupNode(t,n),i=xe.mayDelete(t,n,!0);if(i)throw new xe.ErrnoError(i);if(!t.node_ops.rmdir)throw new xe.ErrnoError(63);if(xe.isMountpoint(r))throw new xe.ErrnoError(10);try{xe.trackingDelegate.willDeletePath&&xe.trackingDelegate.willDeletePath(e)}catch(t){_("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,n),xe.destroyNode(r);try{xe.trackingDelegate.onDeletePath&&xe.trackingDelegate.onDeletePath(e)}catch(t){_("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=xe.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new xe.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=xe.lookupPath(e,{parent:!0}).node,n=Se.basename(e),r=xe.lookupNode(t,n),i=xe.mayDelete(t,n,!1);if(i)throw new xe.ErrnoError(i);if(!t.node_ops.unlink)throw new xe.ErrnoError(63);if(xe.isMountpoint(r))throw new xe.ErrnoError(10);try{xe.trackingDelegate.willDeletePath&&xe.trackingDelegate.willDeletePath(e)}catch(t){_("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,n),xe.destroyNode(r);try{xe.trackingDelegate.onDeletePath&&xe.trackingDelegate.onDeletePath(e)}catch(t){_("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=xe.lookupPath(e).node;if(!t)throw new xe.ErrnoError(44);if(!t.node_ops.readlink)throw new xe.ErrnoError(28);return Pe.resolve(xe.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=xe.lookupPath(e,{follow:!t}).node;if(!n)throw new xe.ErrnoError(44);if(!n.node_ops.getattr)throw new xe.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return xe.stat(e,!0)},chmod:function(e,t,n){var r;"string"==typeof e?r=xe.lookupPath(e,{follow:!n}).node:r=e;if(!r.node_ops.setattr)throw new xe.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){xe.chmod(e,t,!0)},fchmod:function(e,t){var n=xe.getStream(e);if(!n)throw new xe.ErrnoError(8);xe.chmod(n.node,t)},chown:function(e,t,n,r){var i;"string"==typeof e?i=xe.lookupPath(e,{follow:!r}).node:i=e;if(!i.node_ops.setattr)throw new xe.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){xe.chown(e,t,n,!0)},fchown:function(e,t,n){var r=xe.getStream(e);if(!r)throw new xe.ErrnoError(8);xe.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new xe.ErrnoError(28);var n;"string"==typeof e?n=xe.lookupPath(e,{follow:!0}).node:n=e;if(!n.node_ops.setattr)throw new xe.ErrnoError(63);if(xe.isDir(n.mode))throw new xe.ErrnoError(31);if(!xe.isFile(n.mode))throw new xe.ErrnoError(28);var r=xe.nodePermissions(n,"w");if(r)throw new xe.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=xe.getStream(e);if(!n)throw new xe.ErrnoError(8);if(0==(2097155&n.flags))throw new xe.ErrnoError(28);xe.truncate(n.node,t)},utime:function(e,t,n){var r=xe.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,t,n,r,o){if(""===e)throw new xe.ErrnoError(44);var a;if(n=void 0===n?438:n,n=64&(t="string"==typeof t?xe.modeStringToFlags(t):t)?4095&n|32768:0,"object"==typeof e)a=e;else{e=Se.normalize(e);try{a=xe.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var s=!1;if(64&t)if(a){if(128&t)throw new xe.ErrnoError(20)}else a=xe.mknod(e,n,0),s=!0;if(!a)throw new xe.ErrnoError(44);if(xe.isChrdev(a.mode)&&(t&=-513),65536&t&&!xe.isDir(a.mode))throw new xe.ErrnoError(54);if(!s){var c=xe.mayOpen(a,t);if(c)throw new xe.ErrnoError(c)}512&t&&xe.truncate(a,0),t&=-131713;var u=xe.createStream({node:a,path:xe.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},r,o);u.stream_ops.open&&u.stream_ops.open(u),!i.logReadFiles||1&t||(xe.readFiles||(xe.readFiles={}),e in xe.readFiles||(xe.readFiles[e]=1,_("FS.trackingDelegate error on read file: "+e)));try{if(xe.trackingDelegate.onOpenFile){var l=0;1!=(2097155&t)&&(l|=xe.tracking.openFlags.READ),0!=(2097155&t)&&(l|=xe.tracking.openFlags.WRITE),xe.trackingDelegate.onOpenFile(e,l)}}catch(t){_("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return u},close:function(e){if(xe.isClosed(e))throw new xe.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{xe.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(xe.isClosed(e))throw new xe.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new xe.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new xe.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new xe.ErrnoError(28);if(xe.isClosed(e))throw new xe.ErrnoError(8);if(1==(2097155&e.flags))throw new xe.ErrnoError(8);if(xe.isDir(e.node.mode))throw new xe.ErrnoError(31);if(!e.stream_ops.read)throw new xe.ErrnoError(28);var o=void 0!==i;if(o){if(!e.seekable)throw new xe.ErrnoError(70)}else i=e.position;var a=e.stream_ops.read(e,t,n,r,i);return o||(e.position+=a),a},write:function(e,t,n,r,i,o){if(r<0||i<0)throw new xe.ErrnoError(28);if(xe.isClosed(e))throw new xe.ErrnoError(8);if(0==(2097155&e.flags))throw new xe.ErrnoError(8);if(xe.isDir(e.node.mode))throw new xe.ErrnoError(31);if(!e.stream_ops.write)throw new xe.ErrnoError(28);e.seekable&&1024&e.flags&&xe.llseek(e,0,2);var a=void 0!==i;if(a){if(!e.seekable)throw new xe.ErrnoError(70)}else i=e.position;var s=e.stream_ops.write(e,t,n,r,i,o);a||(e.position+=s);try{e.path&&xe.trackingDelegate.onWriteToFile&&xe.trackingDelegate.onWriteToFile(e.path)}catch(t){_("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return s},allocate:function(e,t,n){if(xe.isClosed(e))throw new xe.ErrnoError(8);if(t<0||n<=0)throw new xe.ErrnoError(28);if(0==(2097155&e.flags))throw new xe.ErrnoError(8);if(!xe.isFile(e.node.mode)&&!xe.isDir(e.node.mode))throw new xe.ErrnoError(43);if(!e.stream_ops.allocate)throw new xe.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i,o){if(0!=(2&i)&&0==(2&o)&&2!=(2097155&e.flags))throw new xe.ErrnoError(2);if(1==(2097155&e.flags))throw new xe.ErrnoError(2);if(!e.stream_ops.mmap)throw new xe.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,i,o)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new xe.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=xe.open(e,t.flags),i=xe.stat(e).size,o=new Uint8Array(i);return xe.read(r,o,0,i,0),"utf8"===t.encoding?n=C(o,0):"binary"===t.encoding&&(n=o),xe.close(r),n},writeFile:function(e,t,n){(n=n||{}).flags=n.flags||"w";var r=xe.open(e,n.flags,n.mode);if("string"==typeof t){var i=new Uint8Array(I(t)+1),o=x(t,i,0,i.length);xe.write(r,i,0,o,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");xe.write(r,t,0,t.byteLength,void 0,n.canOwn)}xe.close(r)},cwd:function(){return xe.currentPath},chdir:function(e){var t=xe.lookupPath(e,{follow:!0});if(null===t.node)throw new xe.ErrnoError(44);if(!xe.isDir(t.node.mode))throw new xe.ErrnoError(54);var n=xe.nodePermissions(t.node,"x");if(n)throw new xe.ErrnoError(n);xe.currentPath=t.path},createDefaultDirectories:function(){xe.mkdir("/tmp"),xe.mkdir("/home"),xe.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(xe.mkdir("/dev"),xe.registerDevice(xe.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),xe.mkdev("/dev/null",xe.makedev(1,3)),Ne.register(xe.makedev(5,0),Ne.default_tty_ops),Ne.register(xe.makedev(6,0),Ne.default_tty1_ops),xe.mkdev("/dev/tty",xe.makedev(5,0)),xe.mkdev("/dev/tty1",xe.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else if(c)try{var r=n(6417);e=function(){return r.randomBytes(1)[0]}}catch(e){}e||(e=function(){le("no cryptographic support found for random_device. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}),xe.createDevice("/dev","random",e),xe.createDevice("/dev","urandom",e),xe.mkdir("/dev/shm"),xe.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){xe.mkdir("/proc"),xe.mkdir("/proc/self"),xe.mkdir("/proc/self/fd"),xe.mount({mount:function(){var e=xe.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=+t,r=xe.getStream(n);if(!r)throw new xe.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){i.stdin?xe.createDevice("/dev","stdin",i.stdin):xe.symlink("/dev/tty","/dev/stdin"),i.stdout?xe.createDevice("/dev","stdout",null,i.stdout):xe.symlink("/dev/tty","/dev/stdout"),i.stderr?xe.createDevice("/dev","stderr",null,i.stderr):xe.symlink("/dev/tty1","/dev/stderr");var e=xe.open("/dev/stdin","r"),t=xe.open("/dev/stdout","w"),n=xe.open("/dev/stderr","w");P(0===e.fd,"invalid handle for stdin ("+e.fd+")"),P(1===t.fd,"invalid handle for stdout ("+t.fd+")"),P(2===n.fd,"invalid handle for stderr ("+n.fd+")")},ensureErrnoError:function(){xe.ErrnoError||(xe.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){for(var t in this.errno=e,De)if(De[t]===e){this.code=t;break}},this.setErrno(e),this.message=Ce[e],this.stack&&(Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0}),this.stack=be(this.stack))},xe.ErrnoError.prototype=new Error,xe.ErrnoError.prototype.constructor=xe.ErrnoError,[44].forEach((function(e){xe.genericErrors[e]=new xe.ErrnoError(e),xe.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){xe.ensureErrnoError(),xe.nameTable=new Array(4096),xe.mount(Oe,{},"/"),xe.createDefaultDirectories(),xe.createDefaultDevices(),xe.createSpecialDirectories(),xe.filesystems={MEMFS:Oe}},init:function(e,t,n){P(!xe.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),xe.init.initialized=!0,xe.ensureErrnoError(),i.stdin=e||i.stdin,i.stdout=t||i.stdout,i.stderr=n||i.stderr,xe.createStandardStreams()},quit:function(){xe.init.initialized=!1;var e=i._fflush;e&&e(0);for(var t=0;t<xe.streams.length;t++){var n=xe.streams[t];n&&xe.close(n)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){var n=Se.join.apply(null,e);return t&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,t){return Pe.resolve(t,e)},standardizePath:function(e){return Se.normalize(e)},findObject:function(e,t){var n=xe.analyzePath(e,t);return n.exists?n.object:(Re(n.error),null)},analyzePath:function(e,t){try{e=(r=xe.lookupPath(e,{follow:!t})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=xe.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=Se.basename(e),r=xe.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(e){n.error=e.errno}return n},createFolder:function(e,t,n,r){var i=Se.join2("string"==typeof e?e:xe.getPath(e),t),o=xe.getMode(n,r);return xe.mkdir(i,o)},createPath:function(e,t,n,r){e="string"==typeof e?e:xe.getPath(e);for(var i=t.split("/").reverse();i.length;){var o=i.pop();if(o){var a=Se.join2(e,o);try{xe.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,n,r,i){var o=Se.join2("string"==typeof e?e:xe.getPath(e),t),a=xe.getMode(r,i);return xe.create(o,a)},createDataFile:function(e,t,n,r,i,o){var a=t?Se.join2("string"==typeof e?e:xe.getPath(e),t):e,s=xe.getMode(r,i),c=xe.create(a,s);if(n){if("string"==typeof n){for(var u=new Array(n.length),l=0,d=n.length;l<d;++l)u[l]=n.charCodeAt(l);n=u}xe.chmod(c,146|s);var f=xe.open(c,"w");xe.write(f,n,0,n.length,0,o),xe.close(f),xe.chmod(c,s)}return c},createDevice:function(e,t,n,r){var i=Se.join2("string"==typeof e?e:xe.getPath(e),t),o=xe.getMode(!!n,!!r);xe.createDevice.major||(xe.createDevice.major=64);var a=xe.makedev(xe.createDevice.major++,0);return xe.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,o){for(var a=0,s=0;s<i;s++){var c;try{c=n()}catch(e){throw new xe.ErrnoError(29)}if(void 0===c&&0===a)throw new xe.ErrnoError(6);if(null==c)break;a++,t[r+s]=c}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,i,o){for(var a=0;a<i;a++)try{r(t[n+a])}catch(e){throw new xe.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),a}}),xe.mkdev(i,o,a)},createLink:function(e,t,n,r,i){var o=Se.join2("string"==typeof e?e:xe.getPath(e),t);return xe.symlink(n,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!f)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Be(f(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||Re(29),t},createLazyFile:function(e,t,n,r,i){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;i||(a=r);var s=this;s.setDataGetter((function(e){var t=e*a,i=(e+1)*a-1;if(i=Math.min(i,r-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),r!==a&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):Be(i.responseText||"",!0)}(t,i)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!o&&r||(a=r=1,r=this.getter(0).length,a=r,y("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!s)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var c={isDevice:!1,contents:a}}else c={isDevice:!1,url:n};var u=xe.createFile(e,t,c,r,i);c.contents?u.contents=c.contents:c.url&&(u.contents=null,u.url=c.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var l={};return Object.keys(u.stream_ops).forEach((function(e){var t=u.stream_ops[e];l[e]=function(){if(!xe.forceLoadFile(u))throw new xe.ErrnoError(29);return t.apply(null,arguments)}})),l.read=function(e,t,n,r,i){if(!xe.forceLoadFile(u))throw new xe.ErrnoError(29);var o=e.node.contents;if(i>=o.length)return 0;var a=Math.min(o.length-i,r);if(P(a>=0),o.slice)for(var s=0;s<a;s++)t[n+s]=o[i+s];else for(s=0;s<a;s++)t[n+s]=o.get(i+s);return a},u.stream_ops=l,u},createPreloadedFile:function(e,t,n,r,o,a,s,c,u,l){Browser.init();var d=t?Pe.resolve(Se.join2(e,t)):e,f=function(e){for(var t=e;;){if(!se[e])return e;e=t+Math.random()}}("cp "+d);function p(n){function p(n){l&&l(),c||xe.createDataFile(e,t,n,r,o,u),a&&a(),ue(f)}var h=!1;i.preloadPlugins.forEach((function(e){h||e.canHandle(d)&&(e.handle(n,d,p,(function(){s&&s(),ue(f)})),h=!0)})),h||p(n)}ce(f),"string"==typeof n?Browser.asyncLoad(n,(function(e){p(e)}),s):p(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=xe.indexedDB();try{var i=r.open(xe.DB_NAME(),xe.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=function(){y("creating db"),i.result.createObjectStore(xe.DB_STORE_NAME)},i.onsuccess=function(){var r=i.result.transaction([xe.DB_STORE_NAME],"readwrite"),o=r.objectStore(xe.DB_STORE_NAME),a=0,s=0,c=e.length;function u(){0==s?t():n()}e.forEach((function(e){var t=o.put(xe.analyzePath(e).object.contents,e);t.onsuccess=function(){++a+s==c&&u()},t.onerror=function(){s++,a+s==c&&u()}})),r.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=xe.indexedDB();try{var i=r.open(xe.DB_NAME(),xe.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=function(){var r=i.result;try{var o=r.transaction([xe.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var a=o.objectStore(xe.DB_STORE_NAME),s=0,c=0,u=e.length;function l(){0==c?t():n()}e.forEach((function(e){var t=a.get(e);t.onsuccess=function(){xe.analyzePath(e).exists&&xe.unlink(e),xe.createDataFile(Se.dirname(e),Se.basename(e),t.result,!0,!0,!0),++s+c==u&&l()},t.onerror=function(){c++,s+c==u&&l()}})),o.onerror=n},i.onerror=n},mmapAlloc:function(e){for(var t=function(e,t){return t||(t=16),Math.ceil(e/t)*t}(e,16384),n=We(t);e<t;)M[n+e++]=0;return n}},Ae={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,t){if("/"!==t[0]){var n;if(-100===e)n=xe.cwd();else{var r=xe.getStream(e);if(!r)throw new xe.ErrnoError(8);n=r.path}t=Se.join2(n,t)}return t},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&Se.normalize(t)!==Se.normalize(xe.getPath(e.node)))return-54;throw e}return j[n>>2]=r.dev,j[n+4>>2]=0,j[n+8>>2]=r.ino,j[n+12>>2]=r.mode,j[n+16>>2]=r.nlink,j[n+20>>2]=r.uid,j[n+24>>2]=r.gid,j[n+28>>2]=r.rdev,j[n+32>>2]=0,ye=[r.size>>>0,(ge=r.size,+ee(ge)>=1?ge>0?(0|re(+ne(ge/4294967296),4294967295))>>>0:~~+te((ge-+(~~ge>>>0))/4294967296)>>>0:0)],j[n+40>>2]=ye[0],j[n+44>>2]=ye[1],j[n+48>>2]=4096,j[n+52>>2]=r.blocks,j[n+56>>2]=r.atime.getTime()/1e3|0,j[n+60>>2]=0,j[n+64>>2]=r.mtime.getTime()/1e3|0,j[n+68>>2]=0,j[n+72>>2]=r.ctime.getTime()/1e3|0,j[n+76>>2]=0,ye=[r.ino>>>0,(ge=r.ino,+ee(ge)>=1?ge>0?(0|re(+ne(ge/4294967296),4294967295))>>>0:~~+te((ge-+(~~ge>>>0))/4294967296)>>>0:0)],j[n+80>>2]=ye[0],j[n+84>>2]=ye[1],0},doMsync:function(e,t,n,r,i){var o=F.slice(e,e+n);xe.msync(t,o,i,n,r)},doMkdir:function(e,t){return"/"===(e=Se.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),xe.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return xe.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-28;var r=xe.readlink(e),i=Math.min(n,I(r)),o=M[t+i];return A(r,t,n+1),M[t+i]=o,i},doAccess:function(e,t){if(-8&t)return-28;var n;if(!(n=xe.lookupPath(e,{follow:!0}).node))return-44;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&xe.nodePermissions(n,r)?-2:0},doDup:function(e,t,n){var r=xe.getStream(n);return r&&xe.close(r),xe.open(e,t,0,n,n).fd},doReadv:function(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=j[t+8*o>>2],s=j[t+(8*o+4)>>2],c=xe.read(e,M,a,s,r);if(c<0)return-1;if(i+=c,c<s)break}return i},doWritev:function(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=j[t+8*o>>2],s=j[t+(8*o+4)>>2],c=xe.write(e,M,a,s,r);if(c<0)return-1;i+=c}return i},varargs:void 0,get:function(){return P(null!=Ae.varargs),Ae.varargs+=4,j[Ae.varargs-4>>2]},getStr:function(e){return D(e)},getStreamFromFD:function(e){var t=xe.getStream(e);if(!t)throw new xe.ErrnoError(8);return t},get64:function(e,t){return P(e>=0?0===t:-1===t),e}};var Ie={};function ke(){if(!ke.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"};for(var t in Ie)e[t]=Ie[t];var n=[];for(var t in e)n.push(t+"="+e[t]);ke.strings=n}return ke.strings}var Me=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=xe.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},Fe=365,je=146;Object.defineProperties(Me.prototype,{read:{get:function(){return(this.mode&Fe)===Fe},set:function(e){e?this.mode|=Fe:this.mode&=-366}},write:{get:function(){return(this.mode&je)===je},set:function(e){e?this.mode|=je:this.mode&=-147}},isFolder:{get:function(){return xe.isDir(this.mode)}},isDevice:{get:function(){return xe.isChrdev(this.mode)}}}),xe.FSNode=Me,xe.staticInit();function Be(e,t,n){var r=n>0?n:I(e)+1,i=new Array(r),o=x(e,i,0,i.length);return t&&(i.length=o),i}var Le,qe={__cxa_allocate_exception:function(e){return We(e)},__cxa_find_matching_catch_2:function(){var e=we;if(!e)return 0|(w(0),0);var t=Te[e],n=t.type;if(!n)return 0|(w(0),e);var r=Array.prototype.slice.call(arguments),i=(Ve(n),19808);j[i>>2]=e,e=i;for(var o=0;o<r.length;o++)if(r[o]&&Ke(r[o],n,e))return e=j[e>>2],t.adjusted.push(e),0|(w(r[o]),e);return e=j[e>>2],0|(w(n),e)},__cxa_throw:function(e,t,n){throw Te[e]={ptr:e,adjusted:[e],type:t,destructor:n,refcount:0,caught:!1,rethrown:!1},we=e,"uncaught_exception"in Xe?Xe.uncaught_exceptions++:Xe.uncaught_exceptions=1,e},__cxa_uncaught_exceptions:function(){return Xe.uncaught_exceptions},__handle_stack_overflow:function(){le("stack overflow")},__resumeException:function(e){throw we||(we=e),e},__sys_getcwd:function(e,t){try{if(0===t)return-28;var n=xe.cwd();return t<I(n)+1?-68:(A(n,e,t),e)}catch(e){return void 0!==xe&&e instanceof xe.ErrnoError||le(e),-e.errno}},abort:function(){le()},emscripten_get_sbrk_ptr:function(){return 19648},emscripten_memcpy_big:function(e,t,n){F.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){return 0,!1},environ_get:function(e,t){var n=0;return ke().forEach((function(r,i){var o=t+n;j[e+4*i>>2]=o,function(e,t,n){for(var r=0;r<e.length;++r)P(e.charCodeAt(r)==e.charCodeAt(r)&255),M[t++>>0]=e.charCodeAt(r);n||(M[t>>0]=0)}(r,o),n+=r.length+1})),0},environ_sizes_get:function(e,t){var n=ke();j[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),j[t>>2]=r,0},fd_write:function(e,t,n,r){try{var i=Ae.getStreamFromFD(e),o=Ae.doWritev(i,t,n);return j[r>>2]=o,0}catch(e){return void 0!==xe&&e instanceof xe.ErrnoError||le(e),e.errno}},getTempRet0:function(){return 0|T},invoke_i:function(e){var t=ze();try{return ut(e)}catch(e){if(Ye(t),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_ii:function(e,t){var n=ze();try{return nt(e,t)}catch(e){if(Ye(n),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_iii:function(e,t,n){var r=ze();try{return Je(e,t,n)}catch(e){if(Ye(r),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_iiii:function(e,t,n,r){var i=ze();try{return rt(e,t,n,r)}catch(e){if(Ye(i),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_iiiii:function(e,t,n,r,i){var o=ze();try{return it(e,t,n,r,i)}catch(e){if(Ye(o),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_iiiiii:function(e,t,n,r,i,o){var a=ze();try{return ct(e,t,n,r,i,o)}catch(e){if(Ye(a),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_iiiiiii:function(e,t,n,r,i,o,a){var s=ze();try{return st(e,t,n,r,i,o,a)}catch(e){if(Ye(s),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_j:function(e){var t=ze();try{return lt(e)}catch(e){if(Ye(t),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_jii:function(e,t,n){var r=ze();try{return dt(e,t,n)}catch(e){if(Ye(r),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_v:function(e){var t=ze();try{ot(e)}catch(e){if(Ye(t),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_vi:function(e,t){var n=ze();try{et(e,t)}catch(e){if(Ye(n),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_vii:function(e,t,n){var r=ze();try{Ze(e,t,n)}catch(e){if(Ye(r),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_viii:function(e,t,n,r){var i=ze();try{Qe(e,t,n,r)}catch(e){if(Ye(i),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_viiii:function(e,t,n,r,i){var o=ze();try{at(e,t,n,r,i)}catch(e){if(Ye(o),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_viiiii:function(e,t,n,r,i,o){var a=ze();try{tt(e,t,n,r,i,o)}catch(e){if(Ye(a),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},memory:E,pthread_condattr_destroy:function(){return 0},pthread_condattr_init:function(){return 0},pthread_condattr_setclock:function(){return 0},pthread_mutexattr_destroy:function(){},pthread_mutexattr_init:function(){},pthread_mutexattr_settype:function(){},pthread_rwlock_rdlock:function(){return 0},pthread_rwlock_unlock:function(){return 0},setTempRet0:function(e){w(0|e)},table:S},Ue=(function(){var e={env:qe,wasi_snapshot_preview1:qe};function t(e,t){var n=e.exports;i.asm=n,ue("wasm-instantiate")}ce("wasm-instantiate");var n=i;function r(e){P(i===n,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),n=null,t(e.instance)}function o(t){return(b||!a&&!s||"function"!=typeof fetch||pe(_e)?new Promise((function(e,t){e(ve())})):fetch(_e,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+_e+"'";return e.arrayBuffer()})).catch((function(){return ve()}))).then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){_("failed to asynchronously prepare wasm: "+e),le(e)}))}if(i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}(function(){if(b||"function"!=typeof WebAssembly.instantiateStreaming||fe(_e)||pe(_e)||"function"!=typeof fetch)return o(r);fetch(_e,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),o(r)}))}))})()}(),i.___wasm_call_ctors=he("__wasm_call_ctors")),He=(i._validate_field=he("validate_field"),i._validate_group_tuple=he("validate_group_tuple"),i._validate_group_single=he("validate_group_single"),i.___errno_location=he("__errno_location")),We=i._malloc=he("malloc"),$e=(i._free=he("free"),i._ntohs=he("ntohs"),i._htons=he("htons"),i._htonl=he("htonl"),i._fflush=he("fflush"),i._setThrew=he("setThrew")),ze=i.stackSave=he("stackSave"),Ye=i.stackRestore=he("stackRestore"),Ge=i.stackAlloc=he("stackAlloc"),Xe=i.__ZSt18uncaught_exceptionv=he("_ZSt18uncaught_exceptionv"),Ke=i.___cxa_can_catch=he("__cxa_can_catch"),Ve=i.___cxa_is_pointer_type=he("__cxa_is_pointer_type"),Qe=(i._emscripten_main_thread_process_queued_calls=he("emscripten_main_thread_process_queued_calls"),i.___set_stack_limit=he("__set_stack_limit"),i.__growWasmMemory=he("__growWasmMemory"),i.dynCall_viii=he("dynCall_viii")),Je=i.dynCall_iii=he("dynCall_iii"),Ze=i.dynCall_vii=he("dynCall_vii"),et=i.dynCall_vi=he("dynCall_vi"),tt=i.dynCall_viiiii=he("dynCall_viiiii"),nt=i.dynCall_ii=he("dynCall_ii"),rt=i.dynCall_iiii=he("dynCall_iiii"),it=i.dynCall_iiiii=he("dynCall_iiiii"),ot=i.dynCall_v=he("dynCall_v"),at=i.dynCall_viiii=he("dynCall_viiii"),st=i.dynCall_iiiiiii=he("dynCall_iiiiiii"),ct=i.dynCall_iiiiii=he("dynCall_iiiiii"),ut=i.dynCall_i=he("dynCall_i"),lt=i.dynCall_j=he("dynCall_j"),dt=(i.dynCall_ji=he("dynCall_ji"),i.dynCall_jiii=he("dynCall_jiii"),i.dynCall_jii=he("dynCall_jii"));i.dynCall_viiiiii=he("dynCall_viiiiii");function ft(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function pt(e){function t(){Le||(Le=!0,i.calledRun=!0,R||(Y(),P(!J),J=!0,i.noFSInit||xe.init.initialized||xe.init(),Ne.init(),G(K),Y(),xe.ignorePermissions=!1,G(V),i.onRuntimeInitialized&&i.onRuntimeInitialized(),P(!i._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),function(){if(Y(),i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),Q.unshift(e);var e;G(Q)}()))}e=e||l,ie>0||(z(),function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),X.unshift(e);var e;G(X)}(),ie>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t(),Y()))}if(Object.getOwnPropertyDescriptor(i,"intArrayFromString")||(i.intArrayFromString=function(){le("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"intArrayToString")||(i.intArrayToString=function(){le("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ccall")||(i.ccall=function(){le("'ccall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.cwrap=function(e,t,n,r){return function(){return N(e,t,n,arguments)}},Object.getOwnPropertyDescriptor(i,"setValue")||(i.setValue=function(){le("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getValue")||(i.getValue=function(){le("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"allocate")||(i.allocate=function(){le("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getMemory")||(i.getMemory=function(){le("'getMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"UTF8ArrayToString")||(i.UTF8ArrayToString=function(){le("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"UTF8ToString")||(i.UTF8ToString=function(){le("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToUTF8Array")||(i.stringToUTF8Array=function(){le("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToUTF8")||(i.stringToUTF8=function(){le("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"lengthBytesUTF8")||(i.lengthBytesUTF8=function(){le("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackTrace")||(i.stackTrace=function(){le("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addOnPreRun")||(i.addOnPreRun=function(){le("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.addOnInit=function(e){K.unshift(e)},Object.getOwnPropertyDescriptor(i,"addOnPreMain")||(i.addOnPreMain=function(){le("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addOnExit")||(i.addOnExit=function(){le("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addOnPostRun")||(i.addOnPostRun=function(){le("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeStringToMemory")||(i.writeStringToMemory=function(){le("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeArrayToMemory")||(i.writeArrayToMemory=function(){le("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeAsciiToMemory")||(i.writeAsciiToMemory=function(){le("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addRunDependency")||(i.addRunDependency=function(){le("'addRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"removeRunDependency")||(i.removeRunDependency=function(){le("'removeRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createFolder")||(i.FS_createFolder=function(){le("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createPath")||(i.FS_createPath=function(){le("'FS_createPath' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createDataFile")||(i.FS_createDataFile=function(){le("'FS_createDataFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createPreloadedFile")||(i.FS_createPreloadedFile=function(){le("'FS_createPreloadedFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createLazyFile")||(i.FS_createLazyFile=function(){le("'FS_createLazyFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createLink")||(i.FS_createLink=function(){le("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createDevice")||(i.FS_createDevice=function(){le("'FS_createDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_unlink")||(i.FS_unlink=function(){le("'FS_unlink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"dynamicAlloc")||(i.dynamicAlloc=function(){le("'dynamicAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"loadDynamicLibrary")||(i.loadDynamicLibrary=function(){le("'loadDynamicLibrary' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"loadWebAssemblyModule")||(i.loadWebAssemblyModule=function(){le("'loadWebAssemblyModule' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getLEB")||(i.getLEB=function(){le("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getFunctionTables")||(i.getFunctionTables=function(){le("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"alignFunctionTables")||(i.alignFunctionTables=function(){le("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"registerFunctions")||(i.registerFunctions=function(){le("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addFunction")||(i.addFunction=function(){le("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"removeFunction")||(i.removeFunction=function(){le("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getFuncWrapper")||(i.getFuncWrapper=function(){le("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"prettyPrint")||(i.prettyPrint=function(){le("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"makeBigInt")||(i.makeBigInt=function(){le("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"dynCall")||(i.dynCall=function(){le("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getCompilerSetting")||(i.getCompilerSetting=function(){le("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"print")||(i.print=function(){le("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"printErr")||(i.printErr=function(){le("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getTempRet0")||(i.getTempRet0=function(){le("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"setTempRet0")||(i.setTempRet0=function(){le("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"callMain")||(i.callMain=function(){le("'callMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"abort")||(i.abort=function(){le("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToNewUTF8")||(i.stringToNewUTF8=function(){le("'stringToNewUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscripten_realloc_buffer")||(i.emscripten_realloc_buffer=function(){le("'emscripten_realloc_buffer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ENV")||(i.ENV=function(){le("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ERRNO_CODES")||(i.ERRNO_CODES=function(){le("'ERRNO_CODES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ERRNO_MESSAGES")||(i.ERRNO_MESSAGES=function(){le("'ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"setErrNo")||(i.setErrNo=function(){le("'setErrNo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"DNS")||(i.DNS=function(){le("'DNS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GAI_ERRNO_MESSAGES")||(i.GAI_ERRNO_MESSAGES=function(){le("'GAI_ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"Protocols")||(i.Protocols=function(){le("'Protocols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"Sockets")||(i.Sockets=function(){le("'Sockets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"UNWIND_CACHE")||(i.UNWIND_CACHE=function(){le("'UNWIND_CACHE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"readAsmConstArgs")||(i.readAsmConstArgs=function(){le("'readAsmConstArgs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"jstoi_q")||(i.jstoi_q=function(){le("'jstoi_q' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"jstoi_s")||(i.jstoi_s=function(){le("'jstoi_s' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"listenOnce")||(i.listenOnce=function(){le("'listenOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"autoResumeAudioContext")||(i.autoResumeAudioContext=function(){le("'autoResumeAudioContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"abortStackOverflow")||(i.abortStackOverflow=function(){le("'abortStackOverflow' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"reallyNegative")||(i.reallyNegative=function(){le("'reallyNegative' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"formatString")||(i.formatString=function(){le("'formatString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"PATH")||(i.PATH=function(){le("'PATH' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"PATH_FS")||(i.PATH_FS=function(){le("'PATH_FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SYSCALLS")||(i.SYSCALLS=function(){le("'SYSCALLS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"syscallMmap2")||(i.syscallMmap2=function(){le("'syscallMmap2' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"syscallMunmap")||(i.syscallMunmap=function(){le("'syscallMunmap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"JSEvents")||(i.JSEvents=function(){le("'JSEvents' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"specialHTMLTargets")||(i.specialHTMLTargets=function(){le("'specialHTMLTargets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"demangle")||(i.demangle=function(){le("'demangle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"demangleAll")||(i.demangleAll=function(){le("'demangleAll' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"jsStackTrace")||(i.jsStackTrace=function(){le("'jsStackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackTrace")||(i.stackTrace=function(){le("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getEnvStrings")||(i.getEnvStrings=function(){le("'getEnvStrings' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"checkWasiClock")||(i.checkWasiClock=function(){le("'checkWasiClock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToI64")||(i.writeI53ToI64=function(){le("'writeI53ToI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToI64Clamped")||(i.writeI53ToI64Clamped=function(){le("'writeI53ToI64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToI64Signaling")||(i.writeI53ToI64Signaling=function(){le("'writeI53ToI64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToU64Clamped")||(i.writeI53ToU64Clamped=function(){le("'writeI53ToU64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToU64Signaling")||(i.writeI53ToU64Signaling=function(){le("'writeI53ToU64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"readI53FromI64")||(i.readI53FromI64=function(){le("'readI53FromI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"readI53FromU64")||(i.readI53FromU64=function(){le("'readI53FromU64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"convertI32PairToI53")||(i.convertI32PairToI53=function(){le("'convertI32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"convertU32PairToI53")||(i.convertU32PairToI53=function(){le("'convertU32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"Browser")||(i.Browser=function(){le("'Browser' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"FS")||(i.FS=function(){le("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"MEMFS")||(i.MEMFS=function(){le("'MEMFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"TTY")||(i.TTY=function(){le("'TTY' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"PIPEFS")||(i.PIPEFS=function(){le("'PIPEFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SOCKFS")||(i.SOCKFS=function(){le("'SOCKFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GL")||(i.GL=function(){le("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscriptenWebGLGet")||(i.emscriptenWebGLGet=function(){le("'emscriptenWebGLGet' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscriptenWebGLGetTexPixelData")||(i.emscriptenWebGLGetTexPixelData=function(){le("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscriptenWebGLGetUniform")||(i.emscriptenWebGLGetUniform=function(){le("'emscriptenWebGLGetUniform' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscriptenWebGLGetVertexAttrib")||(i.emscriptenWebGLGetVertexAttrib=function(){le("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeGLArray")||(i.writeGLArray=function(){le("'writeGLArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"AL")||(i.AL=function(){le("'AL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL_unicode")||(i.SDL_unicode=function(){le("'SDL_unicode' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL_ttfContext")||(i.SDL_ttfContext=function(){le("'SDL_ttfContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL_audio")||(i.SDL_audio=function(){le("'SDL_audio' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL")||(i.SDL=function(){le("'SDL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL_gfx")||(i.SDL_gfx=function(){le("'SDL_gfx' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GLUT")||(i.GLUT=function(){le("'GLUT' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"EGL")||(i.EGL=function(){le("'EGL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GLFW_Window")||(i.GLFW_Window=function(){le("'GLFW_Window' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GLFW")||(i.GLFW=function(){le("'GLFW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GLEW")||(i.GLEW=function(){le("'GLEW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"IDBStore")||(i.IDBStore=function(){le("'IDBStore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"runAndAbortIfError")||(i.runAndAbortIfError=function(){le("'runAndAbortIfError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"warnOnce")||(i.warnOnce=function(){le("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackSave")||(i.stackSave=function(){le("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackRestore")||(i.stackRestore=function(){le("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackAlloc")||(i.stackAlloc=function(){le("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"AsciiToString")||(i.AsciiToString=function(){le("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToAscii")||(i.stringToAscii=function(){le("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"UTF16ToString")||(i.UTF16ToString=function(){le("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToUTF16")||(i.stringToUTF16=function(){le("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"lengthBytesUTF16")||(i.lengthBytesUTF16=function(){le("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"UTF32ToString")||(i.UTF32ToString=function(){le("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToUTF32")||(i.stringToUTF32=function(){le("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"lengthBytesUTF32")||(i.lengthBytesUTF32=function(){le("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"allocateUTF8")||(i.allocateUTF8=function(){le("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"allocateUTF8OnStack")||(i.allocateUTF8OnStack=function(){le("'allocateUTF8OnStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.writeStackCookie=z,i.checkStackCookie=Y,Object.getOwnPropertyDescriptor(i,"ALLOC_NORMAL")||Object.defineProperty(i,"ALLOC_NORMAL",{configurable:!0,get:function(){le("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(i,"ALLOC_STACK")||Object.defineProperty(i,"ALLOC_STACK",{configurable:!0,get:function(){le("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(i,"ALLOC_DYNAMIC")||Object.defineProperty(i,"ALLOC_DYNAMIC",{configurable:!0,get:function(){le("'ALLOC_DYNAMIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(i,"ALLOC_NONE")||Object.defineProperty(i,"ALLOC_NONE",{configurable:!0,get:function(){le("'ALLOC_NONE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),ae=function e(){Le||pt(),Le||(ae=e)},i.run=pt,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();pt()},5684:(e,t,n)=>{"use strict";const r=n(4236),i=global.Date;class o extends i{constructor(e){super(e),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${r(2,this.getUTCMonth()+1)}-${r(2,this.getUTCDate())}`}}e.exports=e=>{const t=new o(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}},2200:(e,t,n)=>{"use strict";const r=n(4236);class i extends Date{constructor(e){super(e+"Z"),this.isFloating=!0}toISOString(){return`${`${this.getUTCFullYear()}-${r(2,this.getUTCMonth()+1)}-${r(2,this.getUTCDate())}`}T${`${r(2,this.getUTCHours())}:${r(2,this.getUTCMinutes())}:${r(2,this.getUTCSeconds())}.${r(3,this.getUTCMilliseconds())}`}`}}e.exports=e=>{const t=new i(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}},6507:e=>{"use strict";e.exports=e=>{const t=new Date(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}},8569:(e,t,n)=>{"use strict";const r=n(4236);class i extends Date{constructor(e){super(`0000-01-01T${e}Z`),this.isTime=!0}toISOString(){return`${r(2,this.getUTCHours())}:${r(2,this.getUTCMinutes())}:${r(2,this.getUTCSeconds())}.${r(3,this.getUTCMilliseconds())}`}}e.exports=e=>{const t=new i(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}},4236:e=>{"use strict";e.exports=(e,t)=>{for(t=String(t);t.length<e;)t="0"+t;return t}},1721:e=>{"use strict";const t=1114112;class n extends Error{constructor(e,t,r){super("[ParserError] "+e,t,r),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,n)}}class r{constructor(e){this.parser=e,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}class i{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new r(this.parseStart)}parse(e){if(0===e.length||null==e.length)return;let t;for(this._buf=String(e),this.ii=-1,this.char=-1;!1===t||this.nextChar();)t=this.runOne();this._buf=null}nextChar(){return 10===this.char&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){let e;this.char=t;do{e=this.state.parser,this.runOne()}while(this.state.parser!==e);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(e){if("function"!=typeof e)throw new n("Tried to set state to non-existent state: "+JSON.stringify(e));this.state.parser=e}goto(e){return this.next(e),this.runOne()}call(e,t){t&&this.next(t),this.stack.push(this.state),this.state=new r(e)}callNow(e,t){return this.call(e,t),this.runOne()}return(e){if(0===this.stack.length)throw this.error(new n("Stack underflow"));void 0===e&&(e=this.state.buf),this.state=this.stack.pop(),this.state.returned=e}returnNow(e){return this.return(e),this.runOne()}consume(){if(this.char===t)throw this.error(new n("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(e){return e.line=this.line,e.col=this.col,e.pos=this.pos,e}parseStart(){throw new n("Must declare a parseStart method")}}i.END=t,i.Error=n,e.exports=i},7122:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=makeParserClass(__webpack_require__(1721)),module.exports.makeParserClass=makeParserClass;class TomlError extends Error{constructor(e){super(e),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=e=>{const t=new TomlError(e.message);return t.code=e.code,t.wrapped=e,t},module.exports.TomlError=TomlError;const createDateTime=__webpack_require__(6507),createDateTimeFloat=__webpack_require__(2200),createDate=__webpack_require__(5684),createTime=__webpack_require__(8569),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"\t",[CHAR_n]:"\n",[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(e){return e>=CHAR_0&&e<=CHAR_9}function isHexit(e){return e>=CHAR_A&&e<=CHAR_F||e>=CHAR_a&&e<=CHAR_f||e>=CHAR_0&&e<=CHAR_9}function isBit(e){return e===CHAR_1||e===CHAR_0}function isOctit(e){return e>=CHAR_0&&e<=CHAR_7}function isAlphaNumQuoteHyphen(e){return e>=CHAR_A&&e<=CHAR_Z||e>=CHAR_a&&e<=CHAR_z||e>=CHAR_0&&e<=CHAR_9||e===CHAR_APOS||e===CHAR_QUOT||e===CHAR_LOWBAR||e===CHAR_HYPHEN}function isAlphaNumHyphen(e){return e>=CHAR_A&&e<=CHAR_Z||e>=CHAR_a&&e<=CHAR_z||e>=CHAR_0&&e<=CHAR_9||e===CHAR_LOWBAR||e===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(e,t){return!!hasOwnProperty.call(e,t)||("__proto__"===t&&defineProperty(e,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(e){return null!==e&&"object"==typeof e&&e[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(e){return null!==e&&"object"==typeof e&&e[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(e){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:e}})}function isInlineList(e){return null!==e&&"object"==typeof e&&e[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(e){return null!==e&&"object"==typeof e&&e[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(e){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(e){try{this.value=global.BigInt.asIntN(64,e)}catch(e){this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return null===this.value}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer(e){let t=Number(e);return Object.is(t,-0)&&(t=0),global.BigInt&&!Number.isSafeInteger(t)?new BoxedBigInt(e):Object.defineProperties(new Number(t),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${e}]`}})}function isInteger(e){return null!==e&&"object"==typeof e&&e[_type]===INTEGER}const FLOAT=Symbol("float");function Float(e){return Object.defineProperties(new Number(e),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${e}]`}})}function isFloat(e){return null!==e&&"object"==typeof e&&e[_type]===FLOAT}function tomlType(e){const t=typeof e;if("object"===t){if(null===e)return"null";if(e instanceof Date)return"datetime";if(_type in e)switch(e[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return t}function makeParserClass(e){return class extends e{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===e.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===e.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===e.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(e){let t=this.ctx,n=e.key.pop();for(let n of e.key){if(hasKey(t,n)&&(!isTable(t[n])||t[n][_declared]))throw this.error(new TomlError("Can't redefine existing key"));t=t[n]=t[n]||Table()}if(hasKey(t,n))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(e.value)||isFloat(e.value)?t[n]=e.value.valueOf():t[n]=e.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(e){return this.state.resultTable?this.state.resultTable.push(e):this.state.resultTable=[e],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){return this.char===CHAR_PERIOD?this.next(this.parseAssignKeywordPostDot):this.char!==CHAR_SP&&this.char!==CTRL_I?this.goto(this.parseAssignEqual):void 0}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(e){return this.returnNow({key:this.state.resultTable,value:e})}parseComment(){do{if(this.char===e.END||this.char===CTRL_J)return this.return()}while(this.nextChar())}parseTableOrList(){if(this.char!==CHAR_LSQB)return this.goto(this.parseTable);this.next(this.parseList)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(e){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,e)&&(!isTable(this.ctx[e])||this.ctx[e][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[e]=this.ctx[e]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}if(this.char===CHAR_PERIOD){if(hasKey(this.ctx,e))if(isTable(this.ctx[e]))this.ctx=this.ctx[e];else{if(!isList(this.ctx[e]))throw this.error(new TomlError("Can't redefine existing key"));this.ctx=this.ctx[e][this.ctx[e].length-1]}else this.ctx=this.ctx[e]=Table();return this.next(this.parseTableNext)}throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(e){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,e)||(this.ctx[e]=List()),isInlineList(this.ctx[e]))throw this.error(new TomlError("Can't extend an inline array"));if(!isList(this.ctx[e]))throw this.error(new TomlError("Can't redefine an existing key"));{const t=Table();this.ctx[e].push(t),this.ctx=t}return this.next(this.parseListEnd)}if(this.char===CHAR_PERIOD){if(hasKey(this.ctx,e)){if(isInlineList(this.ctx[e]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[e]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[e]))this.ctx=this.ctx[e][this.ctx[e].length-1];else{if(!isTable(this.ctx[e]))throw this.error(new TomlError("Can't redefine an existing key"));this.ctx=this.ctx[e]}}else this.ctx=this.ctx[e]=Table();return this.next(this.parseListNext)}throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(e){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===e.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(e){return this.returnNow(e)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return"-"===this.state.buf?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===e.END)throw this.error(new TomlError("Key ended without value"));if(!isAlphaNumHyphen(this.char)){if(0===this.state.buf.length)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}this.consume()}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===e.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(e){return this.state.buf+=e,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===e.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let e="\\u00";return this.char<16&&(e+="0"),e+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${e} instead`))}recordMultiEscapeReplacement(e){return this.state.buf+=e,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(e){try{const t=parseInt(e,16);if(t>=SURROGATE_FIRST&&t<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(t))}catch(e){throw this.error(TomlError.wrap(e))}}parseSmallUnicode(){if(!isHexit(this.char))throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"));if(this.consume(),this.state.buf.length>=4)return this.return()}parseLargeUnicode(){if(!isHexit(this.char))throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"));if(this.consume(),this.state.buf.length>=8)return this.return()}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(!isDigit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder,this.parseNumberFloat):isDigit(this.char)?void this.consume():this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS)throw this.error(new TomlError("Unexpected character, expected -, + or digit"));this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent)}parseNumberExponent(){if(!isDigit(this.char))return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf));this.consume()}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder,this.parseNumberInteger):isDigit(this.char)?(this.consume(),void(this.state.buf.length>4&&this.next(this.parseNumberInteger))):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(!isHexit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseIntegerOct(){if(!isOctit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseIntegerBin(){if(!isBit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseTimeMin(){if(!(this.state.buf.length<2&&isDigit(this.char))){if(2===this.state.buf.length&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}this.consume()}parseTimeSec(){if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));if(this.consume(),2===this.state.buf.length)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(!(this.state.buf.length<2&&isDigit(this.char))){if(2===this.state.buf.length&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}this.consume()}parseOnlyTimeSec(){if(!isDigit(this.char))throw this.error(new TomlError("Incomplete time"));if(this.consume(),2===this.state.buf.length)return this.next(this.parseOnlyTimeFractionMaybe)}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char!==CHAR_PERIOD)return this.return(createTime(this.state.result));this.state.buf="",this.next(this.parseOnlyTimeFraction)}parseOnlyTimeFraction(){if(!isDigit(this.char)){if(this.atEndOfWord()){if(0===this.state.buf.length)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume()}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else{if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS){if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume(),this.next(this.parseTimeZoneHour)}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(1===this.state.buf.length)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS){if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume(),this.next(this.parseTimeZoneHour)}}parseTimeZoneHour(){if(!isDigit(this.char))throw this.error(new TomlError("Unexpected character in datetime, expected digit"));if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}parseTimeZoneSep(){if(this.char!==CHAR_COLON)throw this.error(new TomlError("Unexpected character in datetime, expected colon"));this.consume(),this.next(this.parseTimeZoneMin)}parseTimeZoneMin(){if(!isDigit(this.char))throw this.error(new TomlError("Unexpected character in datetime, expected digit"));if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}parseBoolean(){return this.char===CHAR_t?(this.consume(),this.next(this.parseTrue_r)):this.char===CHAR_f?(this.consume(),this.next(this.parseFalse_a)):void 0}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===e.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(e){if(this.state.resultArr){const t=this.state.resultArr[_contentType],n=tomlType(e);if(t!==n)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${t} and ${n}`))}else this.state.resultArr=InlineList(tomlType(e));return isFloat(e)||isInteger(e)?this.state.resultArr.push(e.valueOf()):this.state.resultArr.push(e),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(e){let t=this.state.resultTable,n=e.key.pop();for(let n of e.key){if(hasKey(t,n)&&(!isTable(t[n])||t[n][_declared]))throw this.error(new TomlError("Can't redefine existing key"));t=t[n]=t[n]||Table()}if(hasKey(t,n))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(e.value)||isFloat(e.value)?t[n]=e.value.valueOf():t[n]=e.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}}},4143:(e,t,n)=>{"use strict";e.exports=function(e,t){t||(t={});const n=t.blocksize||40960,o=new r;return new Promise(((e,t)=>{setImmediate(a,0,n,e,t)}));function a(t,n,r,s){if(t>=e.length)try{return r(o.finish())}catch(t){return s(i(t,e))}try{o.parse(e.slice(t,t+n)),setImmediate(a,t+n,n,r,s)}catch(t){s(i(t,e))}}};const r=n(7122),i=n(128)},128:e=>{"use strict";e.exports=function(e,t){if(null==e.pos||null==e.line)return e;let n=e.message;if(n+=` at row ${e.line+1}, col ${e.col+1}, pos ${e.pos}:\n`,t&&t.split){const r=t.split(/\n/),i=String(Math.min(r.length,e.line+3)).length;let o=" ";for(;o.length<i;)o+=" ";for(let t=Math.max(0,e.line-1);t<Math.min(r.length,e.line+2);++t){let a=String(t+1);if(a.length<i&&(a=" "+a),e.line===t){n+=a+"> "+r[t]+"\n",n+=o+"  ";for(let t=0;t<e.col;++t)n+=" ";n+="^\n"}else n+=a+": "+r[t]+"\n"}}return e.message=n+"\n",e}},1380:(e,t,n)=>{"use strict";e.exports=function(e){return e?function(e){const t=new i;return e.setEncoding("utf8"),new Promise(((n,r)=>{let i,o=!1,a=!1;function s(){if(o=!0,!i)try{n(t.finish())}catch(e){r(e)}}function c(e){a=!0,r(e)}function u(){let n;for(i=!0;null!==(n=e.read());)try{t.parse(n)}catch(e){return c(e)}if(i=!1,o)return s();a||e.once("readable",u)}e.once("end",s),e.once("error",c),u()}))}(e):function(){const e=new i;return new r.Transform({objectMode:!0,transform(t,n,r){try{e.parse(t.toString(n))}catch(e){this.emit("error",e)}r()},flush(t){try{this.push(e.finish())}catch(e){this.emit("error",e)}t()}})}()};const r=n(2413),i=n(7122)},9681:(e,t,n)=>{"use strict";e.exports=function(e){global.Buffer&&global.Buffer.isBuffer(e)&&(e=e.toString("utf8"));const t=new r;try{return t.parse(e),t.finish()}catch(t){throw i(t,e)}};const r=n(7122),i=n(128)},1035:(e,t,n)=>{"use strict";e.exports=n(9681),e.exports.async=n(4143),e.exports.stream=n(1380),e.exports.prettyError=n(128)},4703:e=>{"use strict";function t(e){return new Error("Can only stringify objects, not "+e)}function n(e){return Object.keys(e).filter((t=>o(e[t])))}function r(e){let t=Array.isArray(e)?[]:Object.prototype.hasOwnProperty.call(e,"__proto__")?{["__proto__"]:void 0}:{};for(let n of Object.keys(e))e[n]&&"function"==typeof e[n].toJSON&&!("toISOString"in e[n])?t[n]=e[n].toJSON():t[n]=e[n];return t}function i(e,c,u){var d,f;d=n(u=r(u)),f=function(e){return Object.keys(e).filter((t=>!o(e[t])))}(u);var h=[],m=c||"";d.forEach((e=>{var t=a(u[e]);"undefined"!==t&&"null"!==t&&h.push(m+s(e)+" = "+l(u[e],!0))})),h.length>0&&h.push("");var g=e&&d.length>0?c+"  ":"";return f.forEach((o=>{h.push(function(e,o,c,u){var l=a(u);if("array"===l)return function(e,n,o,c){p(c=r(c));var u=a(c[0]);if("table"!==u)throw t(u);var l=e+s(o),d="";return c.forEach((e=>{d.length>0&&(d+="\n"),d+=n+"[["+l+"]]\n",d+=i(l+".",n,e)})),d}(e,o,c,u);if("table"===l)return function(e,t,r,o){var a=e+s(r),c="";n(o).length>0&&(c+=t+"["+a+"]\n");return c+i(a+".",t,o)}(e,o,c,u);throw t(l)}(e,g,o,u[o]))})),h.join("\n")}function o(e){switch(a(e)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return 0===e.length||"table"!==a(e[0]);case"table":return 0===Object.keys(e).length;default:return!1}}function a(e){return void 0===e?"undefined":null===e?"null":"bigint"==typeof e||Number.isInteger(e)&&!Object.is(e,-0)?"integer":"number"==typeof e?"float":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"toISOString"in e?isNaN(e)?"undefined":"datetime":Array.isArray(e)?"array":"table"}function s(e){var t=String(e);return/^[-A-Za-z0-9_]+$/.test(t)?t:c(t)}function c(e){return'"'+u(e).replace(/"/g,'\\"')+'"'}function u(e){return e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,(e=>"\\u"+function(e,t){for(;t.length<e;)t="0"+t;return t}(4,e.codePointAt(0).toString(16))))}function l(e,t){let n=a(e);return"string"===n&&(t&&/\n/.test(e)?n="string-multiline":!/[\b\t\n\f\r']/.test(e)&&/"/.test(e)&&(n="string-literal")),d(e,n)}function d(e,n){switch(n||(n=a(e)),n){case"string-multiline":return function(e){let t=e.split(/\n/).map((e=>u(e).replace(/"(?="")/g,'\\"'))).join("\n");return'"'===t.slice(-1)&&(t+="\\\n"),'"""\n'+t+'"""'}(e);case"string":return c(e);case"string-literal":return"'"+e+"'";case"integer":return f(e);case"float":return function(e){if(e===1/0)return"inf";if(e===-1/0)return"-inf";if(Object.is(e,NaN))return"nan";if(Object.is(e,-0))return"-0.0";var t=String(e).split("."),n=t[0],r=t[1]||0;return f(n)+"."+r}(e);case"boolean":return function(e){return String(e)}(e);case"datetime":return function(e){return e.toISOString()}(e);case"array":return function(e){const t=p(e=r(e));var n="[",i=e.map((e=>d(e,t)));i.join(", ").length>60||/\n/.test(i)?n+="\n  "+i.join(",\n  ")+"\n":n+=" "+i.join(", ")+(i.length>0?" ":"");return n+"]"}(e.filter((e=>"null"!==a(e)&&"undefined"!==a(e)&&"nan"!==a(e))));case"table":return function(e){e=r(e);var t=[];return Object.keys(e).forEach((n=>{t.push(s(n)+" = "+l(e[n],!1))})),"{ "+t.join(", ")+(t.length>0?" ":"")+"}"}(e);default:throw t(n)}}function f(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function p(e){const t=function(e){var t=a(e[0]);return e.every((e=>a(e)===t))?t:e.every((e=>{return"float"===(t=a(e))||"integer"===t;var t}))?"float":"mixed"}(e);if("mixed"===t)throw new Error("Array values can't have mixed types");return t}e.exports=function(e){if(null===e)throw t("null");if(void 0===e)throw t("undefined");if("object"!=typeof e)throw t(typeof e);"function"==typeof e.toJSON&&(e=e.toJSON());if(null==e)return null;const n=a(e);if("table"!==n)throw t(n);return i("","",e)},e.exports.value=d},7742:(e,t,n)=>{"use strict";t.parse=n(1035),t.stringify=n(4703)},838:e=>{"use strict";function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var o=r(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,o,a,s,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){if(e===t)return[c,u];for(r=[],o=n.length;l>=0&&!s;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?s=[r.pop(),u]:((i=r.pop())<o&&(o=i,a=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(s=[o,a])}return s}e.exports=t,t.range=r},8786:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={};for(let e=0;e<n.length;e++){const t=n.charAt(e);r[t]=e}function i(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=i(t)^r>>5}t=i(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=i(t)^31&r}return t}function a(e,t,n,r){let i=0,o=0;const a=(1<<n)-1,s=[];for(let r=0;r<e.length;++r)for(i=i<<t|e[r],o+=t;o>=n;)o-=n,s.push(i>>o&a);if(r)o>0&&s.push(i<<n-o&a);else{if(o>=t)return"Excess padding";if(i<<n-o&a)return"Non-zero padding"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,n){if(n=n||90,e.length<8)return e+" too short";if(e.length>n)return"Exceeds length limit";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return"Mixed-case string "+e;const c=(e=a).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return"Data too short";let d=o(u);if("string"==typeof d)return d;const f=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=r[t];if(void 0===n)return"Unknown character "+t;d=i(d)^n,e+6>=l.length||f.push(n)}return d!==t?"Invalid checksum for "+e:{prefix:u,words:f}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const n=a(e,t);if("object"==typeof n)return n},decode:function(e,t){const n=a(e,t);if("object"==typeof n)return n;throw new Error(n)},encode:function(e,r,a){if(a=a||90,e.length+7+r.length>a)throw new TypeError("Exceeds length limit");let s=o(e=e.toLowerCase());if("string"==typeof s)throw new Error(s);let c=e+"1";for(let e=0;e<r.length;++e){const t=r[e];if(t>>5!=0)throw new Error("Non 5-bit word");s=i(s)^t,c+=n.charAt(t)}for(let e=0;e<6;++e)s=i(s);s^=t;for(let e=0;e<6;++e){c+=n.charAt(s>>5*(5-e)&31)}return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.bech32=l("bech32"),t.bech32m=l("bech32m")},1135:(e,t,n)=>{var r;e=n.nmd(e);var i=function(e){"use strict";var t=1e7,n=9007199254740992,r=f(n),o="0123456789abcdefghijklmnopqrstuvwxyz",a="function"==typeof BigInt;function s(e,t,n,r){return void 0===e?s[0]:void 0!==t&&(10!=+t||n)?$(e,t,n,r):K(e)}function c(e,t){this.value=e,this.sign=t,this.isSmall=!1}function u(e){this.value=e,this.sign=e<0,this.isSmall=!0}function l(e){this.value=e}function d(e){return-n<e&&e<n}function f(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function p(e){h(e);var n=e.length;if(n<4&&D(e,r)<0)switch(n){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*t;default:return e[0]+(e[1]+e[2]*t)*t}return e}function h(e){for(var t=e.length;0===e[--t];);e.length=t+1}function m(e){for(var t=new Array(e),n=-1;++n<e;)t[n]=0;return t}function g(e){return e>0?Math.floor(e):Math.ceil(e)}function y(e,n){var r,i,o=e.length,a=n.length,s=new Array(o),c=0,u=t;for(i=0;i<a;i++)c=(r=e[i]+n[i]+c)>=u?1:0,s[i]=r-c*u;for(;i<o;)c=(r=e[i]+c)===u?1:0,s[i++]=r-c*u;return c>0&&s.push(c),s}function _(e,t){return e.length>=t.length?y(e,t):y(t,e)}function v(e,n){var r,i,o=e.length,a=new Array(o),s=t;for(i=0;i<o;i++)r=e[i]-s+n,n=Math.floor(r/s),a[i]=r-n*s,n+=1;for(;n>0;)a[i++]=n%s,n=Math.floor(n/s);return a}function b(e,n){var r,i,o=e.length,a=n.length,s=new Array(o),c=0,u=t;for(r=0;r<a;r++)(i=e[r]-c-n[r])<0?(i+=u,c=1):c=0,s[r]=i;for(r=a;r<o;r++){if(!((i=e[r]-c)<0)){s[r++]=i;break}i+=u,s[r]=i}for(;r<o;r++)s[r]=e[r];return h(s),s}function E(e,n,r){var i,o,a=e.length,s=new Array(a),l=-n,d=t;for(i=0;i<a;i++)o=e[i]+l,l=Math.floor(o/d),o%=d,s[i]=o<0?o+d:o;return"number"==typeof(s=p(s))?(r&&(s=-s),new u(s)):new c(s,r)}function T(e,n){var r,i,o,a,s=e.length,c=n.length,u=m(s+c),l=t;for(o=0;o<s;++o){a=e[o];for(var d=0;d<c;++d)r=a*n[d]+u[o+d],i=Math.floor(r/l),u[o+d]=r-i*l,u[o+d+1]+=i}return h(u),u}function w(e,n){var r,i,o=e.length,a=new Array(o),s=t,c=0;for(i=0;i<o;i++)r=e[i]*n+c,c=Math.floor(r/s),a[i]=r-c*s;for(;c>0;)a[i++]=c%s,c=Math.floor(c/s);return a}function S(e,t){for(var n=[];t-- >0;)n.push(0);return n.concat(e)}function R(e,t){var n=Math.max(e.length,t.length);if(n<=30)return T(e,t);n=Math.ceil(n/2);var r=e.slice(n),i=e.slice(0,n),o=t.slice(n),a=t.slice(0,n),s=R(i,a),c=R(r,o),u=R(_(i,r),_(a,o)),l=_(_(s,S(b(b(u,s),c),n)),S(c,2*n));return h(l),l}function P(e,n,r){return new c(e<t?w(n,e):T(n,f(e)),r)}function N(e){var n,r,i,o,a=e.length,s=m(a+a),c=t;for(i=0;i<a;i++){r=0-(o=e[i])*o;for(var u=i;u<a;u++)n=o*e[u]*2+s[i+u]+r,r=Math.floor(n/c),s[i+u]=n-r*c;s[i+a]=r}return h(s),s}function O(e,t){var n,r,i,o,a=e.length,s=m(a);for(i=0,n=a-1;n>=0;--n)i=(o=1e7*i+e[n])-(r=g(o/t))*t,s[n]=0|r;return[s,0|i]}function C(e,n){var r,i=K(n);if(a)return[new l(e.value/i.value),new l(e.value%i.value)];var o,d=e.value,y=i.value;if(0===y)throw new Error("Cannot divide by zero");if(e.isSmall)return i.isSmall?[new u(g(d/y)),new u(d%y)]:[s[0],e];if(i.isSmall){if(1===y)return[e,s[0]];if(-1==y)return[e.negate(),s[0]];var _=Math.abs(y);if(_<t){o=p((r=O(d,_))[0]);var v=r[1];return e.sign&&(v=-v),"number"==typeof o?(e.sign!==i.sign&&(o=-o),[new u(o),new u(v)]):[new c(o,e.sign!==i.sign),new u(v)]}y=f(_)}var E=D(d,y);if(-1===E)return[s[0],e];if(0===E)return[s[e.sign===i.sign?1:-1],s[0]];o=(r=d.length+y.length<=200?function(e,n){var r,i,o,a,s,c,u,l=e.length,d=n.length,f=t,h=m(n.length),g=n[d-1],y=Math.ceil(f/(2*g)),_=w(e,y),v=w(n,y);for(_.length<=l&&_.push(0),v.push(0),g=v[d-1],i=l-d;i>=0;i--){for(r=f-1,_[i+d]!==g&&(r=Math.floor((_[i+d]*f+_[i+d-1])/g)),o=0,a=0,c=v.length,s=0;s<c;s++)o+=r*v[s],u=Math.floor(o/f),a+=_[i+s]-(o-u*f),o=u,a<0?(_[i+s]=a+f,a=-1):(_[i+s]=a,a=0);for(;0!==a;){for(r-=1,o=0,s=0;s<c;s++)(o+=_[i+s]-f+v[s])<0?(_[i+s]=o+f,o=0):(_[i+s]=o,o=1);a+=o}h[i]=r}return _=O(_,y)[0],[p(h),p(_)]}(d,y):function(e,n){for(var r,i,o,a,s,c=e.length,u=n.length,l=[],d=[],f=t;c;)if(d.unshift(e[--c]),h(d),D(d,n)<0)l.push(0);else{o=d[(i=d.length)-1]*f+d[i-2],a=n[u-1]*f+n[u-2],i>u&&(o=(o+1)*f),r=Math.ceil(o/a);do{if(D(s=w(n,r),d)<=0)break;r--}while(r);l.push(r),d=b(d,s)}return l.reverse(),[p(l),p(d)]}(d,y))[0];var T=e.sign!==i.sign,S=r[1],R=e.sign;return"number"==typeof o?(T&&(o=-o),o=new u(o)):o=new c(o,T),"number"==typeof S?(R&&(S=-S),S=new u(S)):S=new c(S,R),[o,S]}function D(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var n=e.length-1;n>=0;n--)if(e[n]!==t[n])return e[n]>t[n]?1:-1;return 0}function x(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function A(e,t){for(var n,r,o,a=e.prev(),s=a,c=0;s.isEven();)s=s.divide(2),c++;e:for(r=0;r<t.length;r++)if(!e.lesser(t[r])&&!(o=i(t[r]).modPow(s,e)).isUnit()&&!o.equals(a)){for(n=c-1;0!=n;n--){if((o=o.square().mod(e)).isUnit())return!1;if(o.equals(a))continue e}return!1}return!0}c.prototype=Object.create(s.prototype),u.prototype=Object.create(s.prototype),l.prototype=Object.create(s.prototype),c.prototype.add=function(e){var t=K(e);if(this.sign!==t.sign)return this.subtract(t.negate());var n=this.value,r=t.value;return t.isSmall?new c(v(n,Math.abs(r)),this.sign):new c(_(n,r),this.sign)},c.prototype.plus=c.prototype.add,u.prototype.add=function(e){var t=K(e),n=this.value;if(n<0!==t.sign)return this.subtract(t.negate());var r=t.value;if(t.isSmall){if(d(n+r))return new u(n+r);r=f(Math.abs(r))}return new c(v(r,Math.abs(n)),n<0)},u.prototype.plus=u.prototype.add,l.prototype.add=function(e){return new l(this.value+K(e).value)},l.prototype.plus=l.prototype.add,c.prototype.subtract=function(e){var t=K(e);if(this.sign!==t.sign)return this.add(t.negate());var n=this.value,r=t.value;return t.isSmall?E(n,Math.abs(r),this.sign):function(e,t,n){var r;return D(e,t)>=0?r=b(e,t):(r=b(t,e),n=!n),"number"==typeof(r=p(r))?(n&&(r=-r),new u(r)):new c(r,n)}(n,r,this.sign)},c.prototype.minus=c.prototype.subtract,u.prototype.subtract=function(e){var t=K(e),n=this.value;if(n<0!==t.sign)return this.add(t.negate());var r=t.value;return t.isSmall?new u(n-r):E(r,Math.abs(n),n>=0)},u.prototype.minus=u.prototype.subtract,l.prototype.subtract=function(e){return new l(this.value-K(e).value)},l.prototype.minus=l.prototype.subtract,c.prototype.negate=function(){return new c(this.value,!this.sign)},u.prototype.negate=function(){var e=this.sign,t=new u(-this.value);return t.sign=!e,t},l.prototype.negate=function(){return new l(-this.value)},c.prototype.abs=function(){return new c(this.value,!1)},u.prototype.abs=function(){return new u(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)},c.prototype.multiply=function(e){var n,r,i,o=K(e),a=this.value,u=o.value,l=this.sign!==o.sign;if(o.isSmall){if(0===u)return s[0];if(1===u)return this;if(-1===u)return this.negate();if((n=Math.abs(u))<t)return new c(w(a,n),l);u=f(n)}return r=a.length,i=u.length,new c(-.012*r-.012*i+15e-6*r*i>0?R(a,u):T(a,u),l)},c.prototype.times=c.prototype.multiply,u.prototype._multiplyBySmall=function(e){return d(e.value*this.value)?new u(e.value*this.value):P(Math.abs(e.value),f(Math.abs(this.value)),this.sign!==e.sign)},c.prototype._multiplyBySmall=function(e){return 0===e.value?s[0]:1===e.value?this:-1===e.value?this.negate():P(Math.abs(e.value),this.value,this.sign!==e.sign)},u.prototype.multiply=function(e){return K(e)._multiplyBySmall(this)},u.prototype.times=u.prototype.multiply,l.prototype.multiply=function(e){return new l(this.value*K(e).value)},l.prototype.times=l.prototype.multiply,c.prototype.square=function(){return new c(N(this.value),!1)},u.prototype.square=function(){var e=this.value*this.value;return d(e)?new u(e):new c(N(f(Math.abs(this.value))),!1)},l.prototype.square=function(e){return new l(this.value*this.value)},c.prototype.divmod=function(e){var t=C(this,e);return{quotient:t[0],remainder:t[1]}},l.prototype.divmod=u.prototype.divmod=c.prototype.divmod,c.prototype.divide=function(e){return C(this,e)[0]},l.prototype.over=l.prototype.divide=function(e){return new l(this.value/K(e).value)},u.prototype.over=u.prototype.divide=c.prototype.over=c.prototype.divide,c.prototype.mod=function(e){return C(this,e)[1]},l.prototype.mod=l.prototype.remainder=function(e){return new l(this.value%K(e).value)},u.prototype.remainder=u.prototype.mod=c.prototype.remainder=c.prototype.mod,c.prototype.pow=function(e){var t,n,r,i=K(e),o=this.value,a=i.value;if(0===a)return s[1];if(0===o)return s[0];if(1===o)return s[1];if(-1===o)return i.isEven()?s[1]:s[-1];if(i.sign)return s[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&d(t=Math.pow(o,a)))return new u(g(t));for(n=this,r=s[1];!0&a&&(r=r.times(n),--a),0!==a;)a/=2,n=n.square();return r},u.prototype.pow=c.prototype.pow,l.prototype.pow=function(e){var t=K(e),n=this.value,r=t.value,i=BigInt(0),o=BigInt(1),a=BigInt(2);if(r===i)return s[1];if(n===i)return s[0];if(n===o)return s[1];if(n===BigInt(-1))return t.isEven()?s[1]:s[-1];if(t.isNegative())return new l(i);for(var c=this,u=s[1];(r&o)===o&&(u=u.times(c),--r),r!==i;)r/=a,c=c.square();return u},c.prototype.modPow=function(e,t){if(e=K(e),(t=K(t)).isZero())throw new Error("Cannot take modPow with modulus 0");var n=s[1],r=this.mod(t);for(e.isNegative()&&(e=e.multiply(s[-1]),r=r.modInv(t));e.isPositive();){if(r.isZero())return s[0];e.isOdd()&&(n=n.multiply(r).mod(t)),e=e.divide(2),r=r.square().mod(t)}return n},l.prototype.modPow=u.prototype.modPow=c.prototype.modPow,c.prototype.compareAbs=function(e){var t=K(e),n=this.value,r=t.value;return t.isSmall?1:D(n,r)},u.prototype.compareAbs=function(e){var t=K(e),n=Math.abs(this.value),r=t.value;return t.isSmall?n===(r=Math.abs(r))?0:n>r?1:-1:-1},l.prototype.compareAbs=function(e){var t=this.value,n=K(e).value;return(t=t>=0?t:-t)===(n=n>=0?n:-n)?0:t>n?1:-1},c.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=K(e),n=this.value,r=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:D(n,r)*(this.sign?-1:1)},c.prototype.compareTo=c.prototype.compare,u.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=K(e),n=this.value,r=t.value;return t.isSmall?n==r?0:n>r?1:-1:n<0!==t.sign?n<0?-1:1:n<0?1:-1},u.prototype.compareTo=u.prototype.compare,l.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=this.value,n=K(e).value;return t===n?0:t>n?1:-1},l.prototype.compareTo=l.prototype.compare,c.prototype.equals=function(e){return 0===this.compare(e)},l.prototype.eq=l.prototype.equals=u.prototype.eq=u.prototype.equals=c.prototype.eq=c.prototype.equals,c.prototype.notEquals=function(e){return 0!==this.compare(e)},l.prototype.neq=l.prototype.notEquals=u.prototype.neq=u.prototype.notEquals=c.prototype.neq=c.prototype.notEquals,c.prototype.greater=function(e){return this.compare(e)>0},l.prototype.gt=l.prototype.greater=u.prototype.gt=u.prototype.greater=c.prototype.gt=c.prototype.greater,c.prototype.lesser=function(e){return this.compare(e)<0},l.prototype.lt=l.prototype.lesser=u.prototype.lt=u.prototype.lesser=c.prototype.lt=c.prototype.lesser,c.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},l.prototype.geq=l.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals,c.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},l.prototype.leq=l.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals,c.prototype.isEven=function(){return 0==(1&this.value[0])},u.prototype.isEven=function(){return 0==(1&this.value)},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},c.prototype.isOdd=function(){return 1==(1&this.value[0])},u.prototype.isOdd=function(){return 1==(1&this.value)},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},c.prototype.isPositive=function(){return!this.sign},u.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=u.prototype.isPositive,c.prototype.isNegative=function(){return this.sign},u.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=u.prototype.isNegative,c.prototype.isUnit=function(){return!1},u.prototype.isUnit=function(){return 1===Math.abs(this.value)},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},c.prototype.isZero=function(){return!1},u.prototype.isZero=function(){return 0===this.value},l.prototype.isZero=function(){return this.value===BigInt(0)},c.prototype.isDivisibleBy=function(e){var t=K(e);return!t.isZero()&&(!!t.isUnit()||(0===t.compareAbs(2)?this.isEven():this.mod(t).isZero()))},l.prototype.isDivisibleBy=u.prototype.isDivisibleBy=c.prototype.isDivisibleBy,c.prototype.isPrime=function(t){var n=x(this);if(n!==e)return n;var r=this.abs(),o=r.bitLength();if(o<=64)return A(r,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var a=Math.log(2)*o.toJSNumber(),s=Math.ceil(!0===t?2*Math.pow(a,2):a),c=[],u=0;u<s;u++)c.push(i(u+2));return A(r,c)},l.prototype.isPrime=u.prototype.isPrime=c.prototype.isPrime,c.prototype.isProbablePrime=function(t,n){var r=x(this);if(r!==e)return r;for(var o=this.abs(),a=t===e?5:t,s=[],c=0;c<a;c++)s.push(i.randBetween(2,o.minus(2),n));return A(o,s)},l.prototype.isProbablePrime=u.prototype.isProbablePrime=c.prototype.isProbablePrime,c.prototype.modInv=function(e){for(var t,n,r,o=i.zero,a=i.one,s=K(e),c=this.abs();!c.isZero();)t=s.divide(c),n=o,r=s,o=a,s=c,a=n.subtract(t.multiply(a)),c=r.subtract(t.multiply(c));if(!s.isUnit())throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(e)),this.isNegative()?o.negate():o},l.prototype.modInv=u.prototype.modInv=c.prototype.modInv,c.prototype.next=function(){var e=this.value;return this.sign?E(e,1,this.sign):new c(v(e,1),this.sign)},u.prototype.next=function(){var e=this.value;return e+1<n?new u(e+1):new c(r,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},c.prototype.prev=function(){var e=this.value;return this.sign?new c(v(e,1),!0):E(e,1,this.sign)},u.prototype.prev=function(){var e=this.value;return e-1>-n?new u(e-1):new c(r,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var I=[1];2*I[I.length-1]<=t;)I.push(2*I[I.length-1]);var k=I.length,M=I[k-1];function F(e){return Math.abs(e)<=t}function j(e,t,n){t=K(t);for(var r=e.isNegative(),o=t.isNegative(),a=r?e.not():e,s=o?t.not():t,c=0,u=0,l=null,d=null,f=[];!a.isZero()||!s.isZero();)c=(l=C(a,M))[1].toJSNumber(),r&&(c=M-1-c),u=(d=C(s,M))[1].toJSNumber(),o&&(u=M-1-u),a=l[0],s=d[0],f.push(n(c,u));for(var p=0!==n(r?1:0,o?1:0)?i(-1):i(0),h=f.length-1;h>=0;h-=1)p=p.multiply(M).add(i(f[h]));return p}c.prototype.shiftLeft=function(e){var t=K(e).toJSNumber();if(!F(t))throw new Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var n=this;if(n.isZero())return n;for(;t>=k;)n=n.multiply(M),t-=k-1;return n.multiply(I[t])},l.prototype.shiftLeft=u.prototype.shiftLeft=c.prototype.shiftLeft,c.prototype.shiftRight=function(e){var t,n=K(e).toJSNumber();if(!F(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftLeft(-n);for(var r=this;n>=k;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(t=C(r,M))[1].isNegative()?t[0].prev():t[0],n-=k-1}return(t=C(r,I[n]))[1].isNegative()?t[0].prev():t[0]},l.prototype.shiftRight=u.prototype.shiftRight=c.prototype.shiftRight,c.prototype.not=function(){return this.negate().prev()},l.prototype.not=u.prototype.not=c.prototype.not,c.prototype.and=function(e){return j(this,e,(function(e,t){return e&t}))},l.prototype.and=u.prototype.and=c.prototype.and,c.prototype.or=function(e){return j(this,e,(function(e,t){return e|t}))},l.prototype.or=u.prototype.or=c.prototype.or,c.prototype.xor=function(e){return j(this,e,(function(e,t){return e^t}))},l.prototype.xor=u.prototype.xor=c.prototype.xor;var B=1<<30;function L(e){var n=e.value,r="number"==typeof n?n|B:"bigint"==typeof n?n|BigInt(B):n[0]+n[1]*t|1073758208;return r&-r}function q(e,t){if(t.compareTo(e)<=0){var n=q(e,t.square(t)),r=n.p,o=n.e,a=r.multiply(t);return a.compareTo(e)<=0?{p:a,e:2*o+1}:{p:r,e:2*o}}return{p:i(1),e:0}}function U(e,t){return e=K(e),t=K(t),e.greater(t)?e:t}function H(e,t){return e=K(e),t=K(t),e.lesser(t)?e:t}function W(e,t){if(e=K(e).abs(),t=K(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var n,r,i=s[1];e.isEven()&&t.isEven();)n=H(L(e),L(t)),e=e.divide(n),t=t.divide(n),i=i.multiply(n);for(;e.isEven();)e=e.divide(L(e));do{for(;t.isEven();)t=t.divide(L(t));e.greater(t)&&(r=t,t=e,e=r),t=t.subtract(e)}while(!t.isZero());return i.isUnit()?e:e.multiply(i)}c.prototype.bitLength=function(){var e=this;return e.compareTo(i(0))<0&&(e=e.negate().subtract(i(1))),0===e.compareTo(i(0))?i(0):i(q(e,i(2)).e).add(i(1))},l.prototype.bitLength=u.prototype.bitLength=c.prototype.bitLength;var $=function(e,t,n,r){n=n||o,e=String(e),r||(e=e.toLowerCase(),n=n.toLowerCase());var i,a=e.length,s=Math.abs(t),c={};for(i=0;i<n.length;i++)c[n[i]]=i;for(i=0;i<a;i++){if("-"!==(d=e[i])&&(d in c&&c[d]>=s)){if("1"===d&&1===s)continue;throw new Error(d+" is not a valid digit in base "+t+".")}}t=K(t);var u=[],l="-"===e[0];for(i=l?1:0;i<e.length;i++){var d;if((d=e[i])in c)u.push(K(c[d]));else{if("<"!==d)throw new Error(d+" is not a valid character");var f=i;do{i++}while(">"!==e[i]&&i<e.length);u.push(K(e.slice(f+1,i)))}}return z(u,t,l)};function z(e,t,n){var r,i=s[0],o=s[1];for(r=e.length-1;r>=0;r--)i=i.add(e[r].times(o)),o=o.times(t);return n?i.negate():i}function Y(e,t){if((t=i(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var n=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return n.unshift([1]),{value:[].concat.apply([],n),isNegative:!1}}var r=!1;if(e.isNegative()&&t.isPositive()&&(r=!0,e=e.abs()),t.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:r};for(var o,a=[],s=e;s.isNegative()||s.compareAbs(t)>=0;){o=s.divmod(t),s=o.quotient;var c=o.remainder;c.isNegative()&&(c=t.minus(c).abs(),s=s.next()),a.push(c.toJSNumber())}return a.push(s.toJSNumber()),{value:a.reverse(),isNegative:r}}function G(e,t,n){var r=Y(e,t);return(r.isNegative?"-":"")+r.value.map((function(e){return function(e,t){return e<(t=t||o).length?t[e]:"<"+e+">"}(e,n)})).join("")}function X(e){if(d(+e)){var t=+e;if(t===g(t))return a?new l(BigInt(t)):new u(t);throw new Error("Invalid integer: "+e)}var n="-"===e[0];n&&(e=e.slice(1));var r=e.split(/e/i);if(r.length>2)throw new Error("Invalid integer: "+r.join("e"));if(2===r.length){var i=r[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==g(i)||!d(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var o=r[0],s=o.indexOf(".");if(s>=0&&(i-=o.length-s-1,o=o.slice(0,s)+o.slice(s+1)),i<0)throw new Error("Cannot include negative exponent part for integers");e=o+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);if(a)return new l(BigInt(n?"-"+e:e));for(var f=[],p=e.length,m=p-7;p>0;)f.push(+e.slice(m,p)),(m-=7)<0&&(m=0),p-=7;return h(f),new c(f,n)}function K(e){return"number"==typeof e?function(e){if(a)return new l(BigInt(e));if(d(e)){if(e!==g(e))throw new Error(e+" is not an integer.");return new u(e)}return X(e.toString())}(e):"string"==typeof e?X(e):"bigint"==typeof e?new l(e):e}c.prototype.toArray=function(e){return Y(this,e)},u.prototype.toArray=function(e){return Y(this,e)},l.prototype.toArray=function(e){return Y(this,e)},c.prototype.toString=function(t,n){if(t===e&&(t=10),10!==t)return G(this,t,n);for(var r,i=this.value,o=i.length,a=String(i[--o]);--o>=0;)r=String(i[o]),a+="0000000".slice(r.length)+r;return(this.sign?"-":"")+a},u.prototype.toString=function(t,n){return t===e&&(t=10),10!=t?G(this,t,n):String(this.value)},l.prototype.toString=u.prototype.toString,l.prototype.toJSON=c.prototype.toJSON=u.prototype.toJSON=function(){return this.toString()},c.prototype.valueOf=function(){return parseInt(this.toString(),10)},c.prototype.toJSNumber=c.prototype.valueOf,u.prototype.valueOf=function(){return this.value},u.prototype.toJSNumber=u.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var V=0;V<1e3;V++)s[V]=K(V),V>0&&(s[-V]=K(-V));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=U,s.min=H,s.gcd=W,s.lcm=function(e,t){return e=K(e).abs(),t=K(t).abs(),e.divide(W(e,t)).multiply(t)},s.isInstance=function(e){return e instanceof c||e instanceof u||e instanceof l},s.randBetween=function(e,n,r){e=K(e),n=K(n);var i=r||Math.random,o=H(e,n),a=U(e,n).subtract(o).add(1);if(a.isSmall)return o.add(Math.floor(i()*a));for(var c=Y(a,t).value,u=[],l=!0,d=0;d<c.length;d++){var f=l?c[d]:t,p=g(i()*f);u.push(p),p<f&&(l=!1)}return o.add(s.fromArray(u,t,!1))},s.fromArray=function(e,t,n){return z(e.map(K),K(t||10),n)},s}();e.hasOwnProperty("exports")&&(e.exports=i),void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)},5457:(e,t,n)=>{var r=n(4044),i=n(838);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return y(function(e){return e.split("\\\\").join(o).split("\\{").join(a).split("\\}").join(s).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(d)};var o="\0SLASH"+Math.random()+"\0",a="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(o).join("\\").split(a).join("{").split(s).join("}").split(c).join(",").split(u).join(".")}function f(e){if(!e)return[""];var t=[],n=i("{","}",e);if(!n)return e.split(",");var r=n.pre,o=n.body,a=n.post,s=r.split(",");s[s.length-1]+="{"+o+"}";var c=f(a);return a.length&&(s[s.length-1]+=c.shift(),s.push.apply(s,c)),t.push.apply(t,s),t}function p(e){return"{"+e+"}"}function h(e){return/^-?0\d/.test(e)}function m(e,t){return e<=t}function g(e,t){return e>=t}function y(e,t){var n=[],o=i("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var a,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),d=c||u,_=o.body.indexOf(",")>=0;if(!d&&!_)return o.post.match(/,.*\}/)?y(e=o.pre+"{"+o.body+s+o.post):[e];if(d)a=o.body.split(/\.\./);else if(1===(a=f(o.body)).length&&1===(a=y(a[0],!1).map(p)).length)return(E=o.post.length?y(o.post,!1):[""]).map((function(e){return o.pre+a[0]+e}));var v,b=o.pre,E=o.post.length?y(o.post,!1):[""];if(d){var T=l(a[0]),w=l(a[1]),S=Math.max(a[0].length,a[1].length),R=3==a.length?Math.abs(l(a[2])):1,P=m;w<T&&(R*=-1,P=g);var N=a.some(h);v=[];for(var O=T;P(O,w);O+=R){var C;if(u)"\\"===(C=String.fromCharCode(O))&&(C="");else if(C=String(O),N){var D=S-C.length;if(D>0){var x=new Array(D+1).join("0");C=O<0?"-"+x+C.slice(1):x+C}}v.push(C)}}else v=r(a,(function(e){return y(e,!1)}));for(var A=0;A<v.length;A++)for(var I=0;I<E.length;I++){var k=b+v[A]+E[I];(!t||d||k)&&n.push(k)}return n}},4044:e=>{e.exports=function(e,n){for(var r=[],i=0;i<e.length;i++){var o=n(e[i],i);t(o)?r.push.apply(r,o):r.push(o)}return r};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},2008:(e,t,n)=>{e.exports=l,l.realpath=l,l.sync=d,l.realpathSync=d,l.monkeypatch=function(){r.realpath=l,r.realpathSync=d},l.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(5747),i=r.realpath,o=r.realpathSync,a=process.version,s=/^v[0-5]\./.test(a),c=n(184);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,n){if(s)return i(e,t,n);"function"==typeof t&&(n=t,t=null),i(e,t,(function(r,i){u(r)?c.realpath(e,t,n):n(r,i)}))}function d(e,t){if(s)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},184:(e,t,n)=>{var r=n(5622),i="win32"===process.platform,o=n(5747),a=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function s(e){return"function"==typeof e?e:function(){var e;if(a){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}r.normalize;if(i)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(i)var u=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else u=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,a,s,l,d=e,f={},p={};function h(){var t=u.exec(e);n=t[0].length,a=t[0],s=t[0],l="",i&&!p[s]&&(o.lstatSync(s),p[s]=!0)}for(h();n<e.length;){c.lastIndex=n;var m=c.exec(e);if(l=a,a+=m[0],s=l+m[1],n=c.lastIndex,!(p[s]||t&&t[s]===s)){var g;if(t&&Object.prototype.hasOwnProperty.call(t,s))g=t[s];else{var y=o.lstatSync(s);if(!y.isSymbolicLink()){p[s]=!0,t&&(t[s]=s);continue}var _=null;if(!i){var v=y.dev.toString(32)+":"+y.ino.toString(32);f.hasOwnProperty(v)&&(_=f[v])}null===_&&(o.statSync(s),_=o.readlinkSync(s)),g=r.resolve(l,_),t&&(t[s]=g),i||(f[v]=_)}e=r.resolve(g,e.slice(n)),h()}}return t&&(t[d]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=s(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var a,l,d,f,p=e,h={},m={};function g(){var t=u.exec(e);a=t[0].length,l=t[0],d=t[0],f="",i&&!m[d]?o.lstat(d,(function(e){if(e)return n(e);m[d]=!0,y()})):process.nextTick(y)}function y(){if(a>=e.length)return t&&(t[p]=e),n(null,e);c.lastIndex=a;var r=c.exec(e);return f=l,l+=r[0],d=f+r[1],a=c.lastIndex,m[d]||t&&t[d]===d?process.nextTick(y):t&&Object.prototype.hasOwnProperty.call(t,d)?b(t[d]):o.lstat(d,_)}function _(e,r){if(e)return n(e);if(!r.isSymbolicLink())return m[d]=!0,t&&(t[d]=d),process.nextTick(y);if(!i){var a=r.dev.toString(32)+":"+r.ino.toString(32);if(h.hasOwnProperty(a))return v(null,h[a],d)}o.stat(d,(function(e){if(e)return n(e);o.readlink(d,(function(e,t){i||(h[a]=t),v(e,t)}))}))}function v(e,i,o){if(e)return n(e);var a=r.resolve(f,i);t&&(t[o]=a),b(a)}function b(t){e=r.resolve(t,e.slice(a)),g()}g()}},846:(e,t,n)=>{function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(u))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=i.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||i.resolve(e.cwd,"/"),e.root=i.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=a(e.cwd)?e.cwd:l(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new s(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=l,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var a=Object.keys(o);t?n.push.apply(n,a):a.forEach((function(e){n[e]=!0}))}else if(e.nonull){var s=e.minimatch.globSet[r];t?n.push(s):n[s]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(c));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter((function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[l(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}e.ignore.length&&(n=n.filter((function(t){return!d(e,t)})));e.found=n},t.mark=function(e,t){var n=l(e,t),r=e.cache[n],i=t;if(r){var o="DIR"===r||Array.isArray(r),a="/"===t.slice(-1);if(o&&!a?i+="/":!o&&a&&(i=i.slice(0,-1)),i!==t){var s=l(e,i);e.statCache[s]=e.statCache[n],e.cache[s]=e.cache[n]}}return i},t.isIgnored=d,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var i=n(5622),o=n(3707),a=n(3477),s=o.Minimatch;function c(e,t){return e.localeCompare(t,"en")}function u(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new s(n,{dot:!0})}return{matcher:new s(e,{dot:!0}),gmatcher:t}}function l(e,t){var n=t;return n="/"===t.charAt(0)?i.join(e.root,t):a(t)||""===t?t:e.changedCwd?i.resolve(e.cwd,t):i.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function d(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},5400:(e,t,n)=>{e.exports=v;var r=n(5747),i=n(2008),o=n(3707),a=(o.Minimatch,n(1800)),s=n(8614).EventEmitter,c=n(5622),u=n(2357),l=n(3477),d=n(6306),f=n(846),p=f.setopts,h=f.ownProp,m=n(1656),g=(n(1669),f.childrenIgnored),y=f.isIgnored,_=n(4132);function v(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return d(e,t)}return new E(e,t,n)}v.sync=d;var b=v.GlobSync=d.GlobSync;function E(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new b(e,t)}if(!(this instanceof E))return new E(e,t,n);p(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=_(n),this.on("error",n),this.on("end",(function(e){n(null,e)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,a);function a(){--i._processing,i._processing<=0&&i._finish()}}v.glob=v,v.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new E(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},v.Glob=E,a(E,s),E.prototype._finish=function(){if(u(this instanceof E),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();f.finish(this),this.emit("end",this.found)}},E.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},E.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,a=r.length;if(0===a)return t();var s=this.matches[e]=Object.create(null);r.forEach((function(n,r){n=o._makeAbs(n),i.realpath(n,o.realpathCache,(function(r,i){r?"stat"===r.syscall?s[n]=!0:o.emit("error",r):s[i]=!0,0==--a&&(o.matches[e]=s,t())}))}))},E.prototype._mark=function(e){return f.mark(this,e)},E.prototype._makeAbs=function(e){return f.makeAbs(this,e)},E.prototype.abort=function(){this.aborted=!0,this.emit("abort")},E.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},E.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},E.prototype._process=function(e,t,n,r){if(u(this instanceof E),u("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var i,a=0;"string"==typeof e[a];)a++;switch(a){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:i=null;break;default:i=e.slice(0,a).join("/")}var s,c=e.slice(a);null===i?s=".":l(i)||l(e.join("/"))?(i&&l(i)||(i="/"+i),s=i):s=i;var d=this._makeAbs(s);if(g(this,s))return r();c[0]===o.GLOBSTAR?this._processGlobStar(i,s,d,c,t,n,r):this._processReaddir(i,s,d,c,t,n,r)}},E.prototype._processReaddir=function(e,t,n,r,i,o,a){var s=this;this._readdir(n,o,(function(c,u){return s._processReaddir2(e,t,n,r,i,o,u,a)}))},E.prototype._processReaddir2=function(e,t,n,r,i,o,a,s){if(!a)return s();for(var u=r[0],l=!!this.minimatch.negate,d=u._glob,f=this.dot||"."===d.charAt(0),p=[],h=0;h<a.length;h++){if("."!==(g=a[h]).charAt(0)||f)(l&&!e?!g.match(u):g.match(u))&&p.push(g)}var m=p.length;if(0===m)return s();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(h=0;h<m;h++){var g=p[h];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=c.join(this.root,g)),this._emitMatch(i,g)}return s()}r.shift();for(h=0;h<m;h++){g=p[h];e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(r),i,o,s)}s()},E.prototype._emitMatch=function(e,t){if(!this.aborted&&!y(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}},E.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,i=m("lstat\0"+e,(function(r,i){if(r&&"ENOENT"===r.code)return t();var o=i&&i.isSymbolicLink();n.symlinks[e]=o,o||!i||i.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())}));i&&r.lstat(e,i)}},E.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=m("readdir\0"+e+"\0"+t,n))){if(t&&!h(this.symlinks,e))return this._readdirInGlobStar(e,n);if(h(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return n();if(Array.isArray(i))return n(null,i)}r.readdir(e,function(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}(this,e,n))}},E.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},E.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},E.prototype._processGlobStar=function(e,t,n,r,i,o,a){var s=this;this._readdir(n,o,(function(c,u){s._processGlobStar2(e,t,n,r,i,o,u,a)}))},E.prototype._processGlobStar2=function(e,t,n,r,i,o,a,s){if(!a)return s();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,i,!1,s);var d=this.symlinks[n],f=a.length;if(d&&o)return s();for(var p=0;p<f;p++){if("."!==a[p].charAt(0)||this.dot){var h=u.concat(a[p],c);this._process(h,i,!0,s);var m=u.concat(a[p],r);this._process(m,i,!0,s)}}s()},E.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,(function(i,o){r._processSimple2(e,t,i,o,n)}))},E.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&l(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},E.prototype._stat=function(e,t){var n=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&h(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return t(null,o);if(i&&"FILE"===o)return t()}var a=this.statCache[n];if(void 0!==a){if(!1===a)return t(null,a);var s=a.isDirectory()?"DIR":"FILE";return i&&"FILE"===s?t():t(null,s,a)}var c=this,u=m("stat\0"+n,(function(i,o){if(o&&o.isSymbolicLink())return r.stat(n,(function(r,i){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,i,t)}));c._stat2(e,n,i,o,t)}));u&&r.lstat(n,u)},E.prototype._stat2=function(e,t,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var a=!0;return r&&(a=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||a,o&&"FILE"===a?i():i(null,a,r)}},6306:(e,t,n)=>{e.exports=h,h.GlobSync=m;var r=n(5747),i=n(2008),o=n(3707),a=(o.Minimatch,n(5400).Glob,n(1669),n(5622)),s=n(2357),c=n(3477),u=n(846),l=u.setopts,d=u.ownProp,f=u.childrenIgnored,p=u.isIgnored;function h(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new m(e,t).found}function m(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof m))return new m(e,t);if(l(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}m.prototype._finish=function(){if(s(this instanceof m),this.realpath){var e=this;this.matches.forEach((function(t,n){var r=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),r[i.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;r[e._makeAbs(o)]=!0}}))}u.finish(this)},m.prototype._process=function(e,t,n){s(this instanceof m);for(var r,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,i).join("/")}var a,u=e.slice(i);null===r?a=".":c(r)||c(e.join("/"))?(r&&c(r)||(r="/"+r),a=r):a=r;var l=this._makeAbs(a);f(this,a)||(u[0]===o.GLOBSTAR?this._processGlobStar(r,a,l,u,t,n):this._processReaddir(r,a,l,u,t,n))},m.prototype._processReaddir=function(e,t,n,r,i,o){var s=this._readdir(n,o);if(s){for(var c=r[0],u=!!this.minimatch.negate,l=c._glob,d=this.dot||"."===l.charAt(0),f=[],p=0;p<s.length;p++){if("."!==(g=s[p]).charAt(0)||d)(u&&!e?!g.match(c):g.match(c))&&f.push(g)}var h=f.length;if(0!==h)if(1!==r.length||this.mark||this.stat){r.shift();for(p=0;p<h;p++){var m;g=f[p];m=e?[e,g]:[g],this._process(m.concat(r),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<h;p++){var g=f[p];e&&(g="/"!==e.slice(-1)?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=a.join(this.root,g)),this._emitMatch(i,g)}}}},m.prototype._emitMatch=function(e,t){if(!p(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},m.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=r.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var i=n&&n.isSymbolicLink();return this.symlinks[e]=i,i||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},m.prototype._readdir=function(e,t){if(t&&!d(this.symlinks,e))return this._readdirInGlobStar(e);if(d(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,r.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},m.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},m.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},m.prototype._processGlobStar=function(e,t,n,r,i,o){var a=this._readdir(n,o);if(a){var s=r.slice(1),c=e?[e]:[],u=c.concat(s);this._process(u,i,!1);var l=a.length;if(!this.symlinks[n]||!o)for(var d=0;d<l;d++){if("."!==a[d].charAt(0)||this.dot){var f=c.concat(a[d],s);this._process(f,i,!0);var p=c.concat(a[d],r);this._process(p,i,!0)}}}},m.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&c(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=a.join(this.root,e):(e=a.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},m.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&d(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return i;if(n&&"FILE"===i)return!1}var o=this.statCache[t];if(!o){var a;try{a=r.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(a&&a.isSymbolicLink())try{o=r.statSync(t)}catch(e){o=a}else o=a}this.statCache[t]=o;i=!0;return o&&(i=o.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,(!n||"FILE"!==i)&&i},m.prototype._mark=function(e){return u.mark(this,e)},m.prototype._makeAbs=function(e){return u.makeAbs(this,e)}},1656:(e,t,n)=>{var r=n(7477),i=Object.create(null),o=n(4132);function a(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}e.exports=r((function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o((function t(){var n=i[e],r=n.length,o=a(arguments);try{for(var s=0;s<r;s++)n[s].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick((function(){t.apply(null,o)}))):delete i[e]}}))}(e))}))},1800:(e,t,n)=>{try{var r=n(1669);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(87)}},87:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},3228:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n(7186),i=n(7587);function o(e,t,n,i,o){var a={},s="number"==typeof o,c=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var u=a[c];if(Array.isArray(u))for(var l=0,d=u;l<d.length;l++){var f=d[l];if(f.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+f.key.toString())}else u=[];u.push(i),a[c]=u,Reflect.defineMetadata(e,a,t)}function a(e,t){Reflect.decorate(e,t)}function s(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){o(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){o(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"==typeof n?a([s(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):a([e],t)}},915:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n(7186),i=n(7587),o=n(6977),a=n(3228),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=s,t.inject=function(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var c=new o.Metadata(i.INJECT_TAG,e);"number"==typeof s?a.tagParameter(t,n,s,c):a.tagProperty(t,n,c)}}},9978:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(7186),i=n(7587);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},3513:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n(7587),i=n(6977),o=n(3228);t.multiInject=function(e){return function(t,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},9907:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n(7587),i=n(6977),o=n(3228);t.named=function(e){return function(t,n,a){var s=new i.Metadata(r.NAMED_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},7915:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n(7587),i=n(6977),o=n(3228);t.optional=function(){return function(e,t,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}},984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(7186),i=n(7587),o=n(6977);t.postConstruct=function(){return function(e,t,n){var a=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,e.constructor)}}},8957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n(6977),i=n(3228);t.tagged=function(e,t){return function(n,o,a){var s=new r.Metadata(e,t);"number"==typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},2365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n(7587),i=n(6977),o=n(3228);t.targetName=function(e){return function(t,n,a){var s=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,a,s)}}},3629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n(7587),i=n(6977),o=n(3228);t.unmanaged=function(){return function(e,t,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}},2133:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n(9637),i=n(6109),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},6804:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},7186:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},9637:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},7587:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]},9514:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=n(2133),s=n(7186),c=n(9637),u=n(7587),l=n(3543),d=n(7420),f=n(4332),p=n(7553),h=n(6109),m=n(1592),g=n(1063),y=n(7215),_=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!=typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=c.BindingScopeEnum.Transient;else if(t.defaultScope!==c.BindingScopeEnum.Singleton&&t.defaultScope!==c.BindingScopeEnum.Transient&&t.defaultScope!==c.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=h.id(),this._bindingDictionary=new y.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new l.MetadataReader}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new e,s=o([t,n],r).map((function(e){return d.getBindingDictionary(e)})),c=d.getBindingDictionary(a);function u(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s.forEach((function(e){u(e,c)})),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||c.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new p.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+m.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new y.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,u.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=d.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(g.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,c.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,c.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,u.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,c.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,c.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,u.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,o){var a=null,c={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(null==(a=this._middleware(c)))throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(c);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=d.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),f.resolve(n)}},e}();t.Container=_},2758:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n(6109),i=function(e){this.id=r.id(),this.registry=e};t.ContainerModule=i;var o=function(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=o},1063:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var n=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=n},7215:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n(7186),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(r.NULL_ARGUMENT);if(null==t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map.delete(r)}))},e.prototype.hasKey=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=i},3542:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=t.getServiceIdentifierAsString=t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=t.decorate=t.id=t.MetadataReader=t.postConstruct=t.targetName=t.multiInject=t.unmanaged=t.optional=t.LazyServiceIdentifer=t.inject=t.named=t.tagged=t.injectable=t.ContainerModule=t.AsyncContainerModule=t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=t.Container=t.METADATA_KEY=void 0;var r=n(7587);t.METADATA_KEY=r;var i=n(9514);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return i.Container}});var o=n(9637);Object.defineProperty(t,"BindingScopeEnum",{enumerable:!0,get:function(){return o.BindingScopeEnum}}),Object.defineProperty(t,"BindingTypeEnum",{enumerable:!0,get:function(){return o.BindingTypeEnum}}),Object.defineProperty(t,"TargetTypeEnum",{enumerable:!0,get:function(){return o.TargetTypeEnum}});var a=n(2758);Object.defineProperty(t,"AsyncContainerModule",{enumerable:!0,get:function(){return a.AsyncContainerModule}}),Object.defineProperty(t,"ContainerModule",{enumerable:!0,get:function(){return a.ContainerModule}});var s=n(9978);Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return s.injectable}});var c=n(8957);Object.defineProperty(t,"tagged",{enumerable:!0,get:function(){return c.tagged}});var u=n(9907);Object.defineProperty(t,"named",{enumerable:!0,get:function(){return u.named}});var l=n(915);Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return l.inject}}),Object.defineProperty(t,"LazyServiceIdentifer",{enumerable:!0,get:function(){return l.LazyServiceIdentifer}});var d=n(7915);Object.defineProperty(t,"optional",{enumerable:!0,get:function(){return d.optional}});var f=n(3629);Object.defineProperty(t,"unmanaged",{enumerable:!0,get:function(){return f.unmanaged}});var p=n(3513);Object.defineProperty(t,"multiInject",{enumerable:!0,get:function(){return p.multiInject}});var h=n(2365);Object.defineProperty(t,"targetName",{enumerable:!0,get:function(){return h.targetName}});var m=n(984);Object.defineProperty(t,"postConstruct",{enumerable:!0,get:function(){return m.postConstruct}});var g=n(3543);Object.defineProperty(t,"MetadataReader",{enumerable:!0,get:function(){return g.MetadataReader}});var y=n(6109);Object.defineProperty(t,"id",{enumerable:!0,get:function(){return y.id}});var _=n(3228);Object.defineProperty(t,"decorate",{enumerable:!0,get:function(){return _.decorate}});var v=n(7628);Object.defineProperty(t,"traverseAncerstors",{enumerable:!0,get:function(){return v.traverseAncerstors}}),Object.defineProperty(t,"taggedConstraint",{enumerable:!0,get:function(){return v.taggedConstraint}}),Object.defineProperty(t,"namedConstraint",{enumerable:!0,get:function(){return v.namedConstraint}}),Object.defineProperty(t,"typeConstraint",{enumerable:!0,get:function(){return v.typeConstraint}});var b=n(1592);Object.defineProperty(t,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return b.getServiceIdentifierAsString}});var E=n(8505);Object.defineProperty(t,"multiBindToService",{enumerable:!0,get:function(){return E.multiBindToService}})},3346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(6109),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},6977:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(7587),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},3543:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n(7587),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},7173:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var n=function(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=n},7420:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n(6804),i=n(7186),o=n(9637),a=n(7587),s=n(2223),c=n(1592),u=n(3346),l=n(6977),d=n(7173),f=n(5645),p=n(736),h=n(2780);function m(e){return e._bindingDictionary}function g(e,t,n,o,a){var s=_(n.container,a.serviceIdentifier),u=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=_(n.container,a.serviceIdentifier)),u=t?s:s.filter((function(e){var t=new p.Request(e.serviceIdentifier,n,o,e,a);return e.constraint(t)})),function(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=c.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=c.listMetadataForTarget(a,n),s+=c.listRegisteredBindingsForServiceIdentifier(o,a,_),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;a=c.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=c.listRegisteredBindingsForServiceIdentifier(o,a,_),new Error(s)}}(a.serviceIdentifier,u,a,n.container),u}function y(e,t,n,r,a,s){var c,u;if(null===a){c=g(e,t,r,null,s),u=new p.Request(n,r,null,c,s);var l=new d.Plan(r,u);r.addPlan(l)}else c=g(e,t,r,a,s),u=a.addChildRequest(s.serviceIdentifier,c,s);c.forEach((function(t){var n=null;if(s.isArray())n=u.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=u}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var a=f.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var c=f.getBaseClassDependencyCount(e,t.implementationType);if(a.length<c){var l=i.ARGUMENTS_LENGTH_MISMATCH(f.getFunctionName(t.implementationType));throw new Error(l)}}a.forEach((function(t){y(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function _(e,t){var n=[],r=m(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=_(e.parent,t)),n}t.getBindingDictionary=m,t.plan=function(e,t,n,r,i,o,d,f){void 0===f&&(f=!1);var p=new u.Context(t),m=function(e,t,n,r,i,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,c=new l.Metadata(s,n),u=new h.Target(t,r,n,c);if(void 0!==i){var d=new l.Metadata(i,o);u.metadata.push(d)}return u}(n,r,i,"",o,d);try{return y(e,f,i,p,null,m),p}catch(e){throw s.isStackOverflowExeption(e)&&p.plan&&c.circularDependencyToException(p.plan.rootRequest),e}},t.createMockRequest=function(e,t,n,r){var i=new h.Target(o.TargetTypeEnum.Variable,"",t,new l.Metadata(n,r)),a=new u.Context(e);return new p.Request(t,a,null,[],i)}},5042:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var n=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=n},5645:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=n(915),o=n(7186),a=n(9637),s=n(7587),c=n(1592);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return c.getFunctionName}});var u=n(2780);function l(e,t,n,i){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var c=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(c)}var u=a.userGeneratedMetadata,l=Object.keys(u),p=0===n.length&&l.length>0,h=l.length>n.length,m=function(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=d(a,e,t,n,r);null!==s&&o.push(s)}return o}(i,t,s,u,p||h?l.length:n.length),g=f(e,n);return r(r([],m),g)}function d(e,t,n,r,s){var c=s[e.toString()]||[],l=p(c),d=!0!==l.unmanaged,f=r[e],h=l.inject||l.multiInject;if((f=h||f)instanceof i.LazyServiceIdentifer&&(f=f.unwrap()),d){if(!t&&(f===Object||f===Function||void 0===f)){var m=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(m)}var g=new u.Target(a.TargetTypeEnum.ConstructorArgument,l.targetName,f);return g.metadata=c,g}return null}function f(e,t){for(var n=e.getPropertiesMetadata(t),i=[],o=0,s=Object.keys(n);o<s.length;o++){var c=s[o],l=n[c],d=p(n[c]),h=d.targetName||c,m=d.inject||d.multiInject,g=new u.Target(a.TargetTypeEnum.ClassProperty,h,m);g.metadata=l,i.push(g)}var y=Object.getPrototypeOf(t.prototype).constructor;if(y!==Object){var _=f(e,y);i=r(r([],i),_)}return i}function p(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return l(e,c.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=l(t,c.getFunctionName(r),r,!0),o=i.map((function(e){return e.metadata.filter((function(e){return e.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,u=i.length-a;return u>0?u:e(t,r)}return 0}},736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n(6109),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},2780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n(7587),i=n(6109),o=n(6977),a=n(5042),s=function(){function e(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var c=null;"string"==typeof s?c=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(c=s),null!==c&&this.metadata.push(c)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=s},9222:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=n(7186),o=n(9637),a=n(7587);t.resolveInstance=function(e,t,n){var s,c,u=null;if(t.length>0){var l=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);c=l,u=function(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var o=i[n];e[r]=o})),e}(u=new((s=e).bind.apply(s,r([void 0],c))),t,n)}else u=new e;return function(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(t){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,u),u}},4332:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n(7186),i=n(9637),o=n(2223),a=n(1592),s=n(9222),c=function(e,t,n){try{return n()}catch(n){throw o.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):n}},u=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,o=t.childRequests,l=t.target&&t.target.isArray(),d=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(l&&d)return o.map((function(t){return u(e)(t)}));var f=null;if(!t.target.isOptional()||0!==n.length){var p=n[0],h=p.scope===i.BindingScopeEnum.Singleton,m=p.scope===i.BindingScopeEnum.Request;if(h&&p.activated)return p.cache;if(m&&null!==e&&e.has(p.id))return e.get(p.id);if(p.type===i.BindingTypeEnum.ConstantValue)f=p.cache,p.activated=!0;else if(p.type===i.BindingTypeEnum.Function)f=p.cache,p.activated=!0;else if(p.type===i.BindingTypeEnum.Constructor)f=p.implementationType;else if(p.type===i.BindingTypeEnum.DynamicValue&&null!==p.dynamicValue)f=c("toDynamicValue",p.serviceIdentifier,(function(){return p.dynamicValue(t.parentContext)}));else if(p.type===i.BindingTypeEnum.Factory&&null!==p.factory)f=c("toFactory",p.serviceIdentifier,(function(){return p.factory(t.parentContext)}));else if(p.type===i.BindingTypeEnum.Provider&&null!==p.provider)f=c("toProvider",p.serviceIdentifier,(function(){return p.provider(t.parentContext)}));else{if(p.type!==i.BindingTypeEnum.Instance||null===p.implementationType){var g=a.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+g)}f=s.resolveInstance(p.implementationType,o,u(e))}return"function"==typeof p.onActivation&&(f=p.onActivation(t.parentContext,f)),h&&(p.cache=f,p.activated=!0),m&&null!==e&&!e.has(p.id)&&e.set(p.id,f),f}}};t.resolve=function(e){return u(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},1709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n(9637),i=n(8471),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},7395:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n(1709),i=n(2e3),o=n(3450),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},2e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n(3450),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},7553:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n(7186),i=n(9637),o=n(7395),a=n(8471),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=s},8471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n(2e3),i=n(3450),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},3450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n(2e3),i=n(7628),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},7628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n(7587),i=n(6977),o=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||o(n,t))};t.traverseAncerstors=o;var a=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=a;var s=a(r.NAMED_TAG);t.namedConstraint=s;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},8505:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},2223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n(7186);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},6109:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var n=0;t.id=function(){return n++}},1592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n(7186);function i(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function o(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||o(e.parentRequest,t))}function a(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=a(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(o(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=a},8784:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,u=32,l=64,d=128,f=256,p=1/0,h=9007199254740991,m=NaN,g=4294967295,y=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",u],["partialRight",l],["rearg",f]],_="[object Arguments]",v="[object Array]",b="[object Boolean]",E="[object Date]",T="[object Error]",w="[object Function]",S="[object GeneratorFunction]",R="[object Map]",P="[object Number]",N="[object Object]",O="[object Promise]",C="[object RegExp]",D="[object Set]",x="[object String]",A="[object Symbol]",I="[object WeakMap]",k="[object ArrayBuffer]",M="[object DataView]",F="[object Float32Array]",j="[object Float64Array]",B="[object Int8Array]",L="[object Int16Array]",q="[object Int32Array]",U="[object Uint8Array]",H="[object Uint8ClampedArray]",W="[object Uint16Array]",$="[object Uint32Array]",z=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,V=RegExp(X.source),Q=RegExp(K.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,_e=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,Ee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Te=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Re="\\u2700-\\u27bf",Pe="a-z\\xdf-\\xf6\\xf8-\\xff",Ne="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",Ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",De="['’]",xe="[\\ud800-\\udfff]",Ae="["+Ce+"]",Ie="["+Se+"]",ke="\\d+",Me="[\\u2700-\\u27bf]",Fe="["+Pe+"]",je="[^\\ud800-\\udfff"+Ce+ke+Re+Pe+Ne+"]",Be="\\ud83c[\\udffb-\\udfff]",Le="[^\\ud800-\\udfff]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ne+"]",We="(?:"+Fe+"|"+je+")",$e="(?:"+He+"|"+je+")",ze="(?:['’](?:d|ll|m|re|s|t|ve))?",Ye="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Ie+"|"+Be+")"+"?",Xe="[\\ufe0e\\ufe0f]?",Ke=Xe+Ge+("(?:\\u200d(?:"+[Le,qe,Ue].join("|")+")"+Xe+Ge+")*"),Ve="(?:"+[Me,qe,Ue].join("|")+")"+Ke,Qe="(?:"+[Le+Ie+"?",Ie,qe,Ue,xe].join("|")+")",Je=RegExp(De,"g"),Ze=RegExp(Ie,"g"),et=RegExp(Be+"(?="+Be+")|"+Qe+Ke,"g"),tt=RegExp([He+"?"+Fe+"+"+ze+"(?="+[Ae,He,"$"].join("|")+")",$e+"+"+Ye+"(?="+[Ae,He+We,"$"].join("|")+")",He+"?"+We+"+"+ze,He+"+"+Ye,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ke,Ve].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Se+Oe+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,at={};at[F]=at[j]=at[B]=at[L]=at[q]=at[U]=at[H]=at[W]=at[$]=!0,at[_]=at[v]=at[k]=at[b]=at[M]=at[E]=at[T]=at[w]=at[R]=at[P]=at[N]=at[C]=at[D]=at[x]=at[I]=!1;var st={};st[_]=st[v]=st[k]=st[M]=st[b]=st[E]=st[F]=st[j]=st[B]=st[L]=st[q]=st[R]=st[P]=st[N]=st[C]=st[D]=st[x]=st[A]=st[U]=st[H]=st[W]=st[$]=!0,st[T]=st[w]=st[I]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,lt=parseInt,dt="object"==typeof global&&global&&global.Object===Object&&global,ft="object"==typeof self&&self&&self.Object===Object&&self,pt=dt||ft||Function("return this")(),ht=t&&!t.nodeType&&t,mt=ht&&e&&!e.nodeType&&e,gt=mt&&mt.exports===ht,yt=gt&&dt.process,_t=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(e){}}(),vt=_t&&_t.isArrayBuffer,bt=_t&&_t.isDate,Et=_t&&_t.isMap,Tt=_t&&_t.isRegExp,wt=_t&&_t.isSet,St=_t&&_t.isTypedArray;function Rt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Pt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function xt(e,t){return!!(null==e?0:e.length)&&Ut(e,t,0)>-1}function At(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function It(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function kt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Mt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=zt("length");function Lt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function qt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ut(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):qt(e,Wt,n)}function Ht(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Wt(e){return e!=e}function $t(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:m}function zt(e){return function(t){return null==t?i:t[e]}}function Yt(e){return function(t){return null==e?i:e[t]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Xt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Vt(e){return e?e.slice(0,mn(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function Jt(e,t){return It(t,(function(t){return e[t]}))}function Zt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Ut(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Ut(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Yt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),on=Yt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ct[e]}function sn(e){return nt.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Bt(e)}function hn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=Yt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n,r=(t=null==t?pt:yn.defaults(pt.Object(),t,yn.pick(pt,it))).Array,se=t.Date,Se=t.Error,Re=t.Function,Pe=t.Math,Ne=t.Object,Oe=t.RegExp,Ce=t.String,De=t.TypeError,xe=r.prototype,Ae=Re.prototype,Ie=Ne.prototype,ke=t["__core-js_shared__"],Me=Ae.toString,Fe=Ie.hasOwnProperty,je=0,Be=(n=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Le=Ie.toString,qe=Me.call(Ne),Ue=pt._,He=Oe("^"+Me.call(Fe).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=gt?t.Buffer:i,$e=t.Symbol,ze=t.Uint8Array,Ye=We?We.allocUnsafe:i,Ge=un(Ne.getPrototypeOf,Ne),Xe=Ne.create,Ke=Ie.propertyIsEnumerable,Ve=xe.splice,Qe=$e?$e.isConcatSpreadable:i,et=$e?$e.iterator:i,nt=$e?$e.toStringTag:i,ct=function(){try{var e=ho(Ne,"defineProperty");return e({},"",{}),e}catch(e){}}(),dt=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,ft=se&&se.now!==pt.Date.now&&se.now,ht=t.setTimeout!==pt.setTimeout&&t.setTimeout,mt=Pe.ceil,yt=Pe.floor,_t=Ne.getOwnPropertySymbols,Bt=We?We.isBuffer:i,Yt=t.isFinite,_n=xe.join,vn=un(Ne.keys,Ne),bn=Pe.max,En=Pe.min,Tn=se.now,wn=t.parseInt,Sn=Pe.random,Rn=xe.reverse,Pn=ho(t,"DataView"),Nn=ho(t,"Map"),On=ho(t,"Promise"),Cn=ho(t,"Set"),Dn=ho(t,"WeakMap"),xn=ho(Ne,"create"),An=Dn&&new Dn,In={},kn=Uo(Pn),Mn=Uo(Nn),Fn=Uo(On),jn=Uo(Cn),Bn=Uo(Dn),Ln=$e?$e.prototype:i,qn=Ln?Ln.valueOf:i,Un=Ln?Ln.toString:i;function Hn(e){if(is(e)&&!Ga(e)&&!(e instanceof Yn)){if(e instanceof zn)return e;if(Fe.call(e,"__wrapped__"))return Ho(e)}return new zn(e)}var Wn=function(){function e(){}return function(t){if(!rs(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function $n(){}function zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Yn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new Xn(e);this.size=t.size}function Jn(e,t){var n=Ga(e),r=!n&&Ya(e),i=!n&&!r&&Qa(e),o=!n&&!r&&!i&&fs(e),a=n||r||i||o,s=a?Kt(e.length,Ce):[],c=s.length;for(var u in e)!t&&!Fe.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Eo(u,c))||s.push(u);return s}function Zn(e){var t=e.length;return t?e[Vr(0,t-1)]:i}function er(e,t){return Bo(xi(e),ur(t,0,e.length))}function tr(e){return Bo(xi(e))}function nr(e,t,n){(n!==i&&!Wa(e[t],n)||n===i&&!(t in e))&&sr(e,t,n)}function rr(e,t,n){var r=e[t];Fe.call(e,t)&&Wa(r,n)&&(n!==i||t in e)||sr(e,t,n)}function ir(e,t){for(var n=e.length;n--;)if(Wa(e[n][0],t))return n;return-1}function or(e,t,n,r){return hr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function ar(e,t){return e&&Ai(t,ks(t),e)}function sr(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function cr(e,t){for(var n=-1,o=t.length,a=r(o),s=null==e;++n<o;)a[n]=s?i:Cs(e,t[n]);return a}function ur(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,o,a){var s,c=1&t,u=2&t,l=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!rs(e))return e;var d=Ga(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Fe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return xi(e,s)}else{var f=yo(e),p=f==w||f==S;if(Qa(e))return Ri(e,c);if(f==N||f==_||p&&!o){if(s=u||p?{}:vo(e),!c)return u?function(e,t){return Ai(e,go(e),t)}(e,function(e,t){return e&&Ai(t,Ms(t),e)}(s,e)):function(e,t){return Ai(e,mo(e),t)}(e,ar(s,e))}else{if(!st[f])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case k:return Pi(e);case b:case E:return new r(+e);case M:return function(e,t){var n=t?Pi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case F:case j:case B:case L:case q:case U:case H:case W:case $:return Ni(e,n);case R:return new r;case P:case x:return new r(e);case C:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case D:return new r;case A:return i=e,qn?Ne(qn.call(i)):{}}var i}(e,f,c)}}a||(a=new Qn);var h=a.get(e);if(h)return h;a.set(e,s),us(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,a))})):os(e)&&e.forEach((function(r,i){s.set(i,lr(r,t,n,i,e,a))}));var m=d?i:(l?u?ao:oo:u?Ms:ks)(e);return Nt(m||e,(function(r,i){m&&(r=e[i=r]),rr(s,i,lr(r,t,n,i,e,a))})),s}function dr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ne(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new De(o);return ko((function(){e.apply(i,n)}),t)}function pr(e,t,n,r){var i=-1,o=xt,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=It(t,Qt(n))),r?(o=At,a=!1):t.length>=200&&(o=Zt,a=!1,t=new Vn(t));e:for(;++i<s;){var l=e[i],d=null==n?l:n(l);if(l=r||0!==l?l:0,a&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;c.push(l)}else o(t,d,r)||c.push(l)}return c}Hn.templateSettings={escape:J,evaluate:Z,interpolate:ee,variable:"",imports:{_:Hn}},Hn.prototype=$n.prototype,Hn.prototype.constructor=Hn,zn.prototype=Wn($n.prototype),zn.prototype.constructor=zn,Yn.prototype=Wn($n.prototype),Yn.prototype.constructor=Yn,Gn.prototype.clear=function(){this.__data__=xn?xn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(xn){var n=t[e];return n===a?i:n}return Fe.call(t,e)?t[e]:i},Gn.prototype.has=function(e){var t=this.__data__;return xn?t[e]!==i:Fe.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=xn&&t===i?a:t,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=ir(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ve.call(t,n,1),--this.size,!0)},Xn.prototype.get=function(e){var t=this.__data__,n=ir(t,e);return n<0?i:t[n][1]},Xn.prototype.has=function(e){return ir(this.__data__,e)>-1},Xn.prototype.set=function(e,t){var n=this.__data__,r=ir(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Nn||Xn),string:new Gn}},Kn.prototype.delete=function(e){var t=fo(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return fo(this,e).get(e)},Kn.prototype.has=function(e){return fo(this,e).has(e)},Kn.prototype.set=function(e,t){var n=fo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Vn.prototype.add=Vn.prototype.push=function(e){return this.__data__.set(e,a),this},Vn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new Xn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Xn){var r=n.__data__;if(!Nn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var hr=Mi(Tr),mr=Mi(wr,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function yr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(c===i?s==s&&!ds(s):n(s,c)))var c=s,u=a}return u}function _r(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=bo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?vr(s,t-1,n,r,i):kt(i,s):r||(i[i.length]=s)}return i}var br=Fi(),Er=Fi(!0);function Tr(e,t){return e&&br(e,t,ks)}function wr(e,t){return e&&Er(e,t,ks)}function Sr(e,t){return Dt(t,(function(t){return es(e[t])}))}function Rr(e,t){for(var n=0,r=(t=Ei(t,e)).length;null!=e&&n<r;)e=e[qo(t[n++])];return n&&n==r?e:i}function Pr(e,t,n){var r=t(e);return Ga(e)?r:kt(r,n(e))}function Nr(e){return null==e?e===i?"[object Undefined]":"[object Null]":nt&&nt in Ne(e)?function(e){var t=Fe.call(e,nt),n=e[nt];try{e[nt]=i;var r=!0}catch(e){}var o=Le.call(e);r&&(t?e[nt]=n:delete e[nt]);return o}(e):function(e){return Le.call(e)}(e)}function Or(e,t){return e>t}function Cr(e,t){return null!=e&&Fe.call(e,t)}function Dr(e,t){return null!=e&&t in Ne(e)}function xr(e,t,n){for(var o=n?At:xt,a=e[0].length,s=e.length,c=s,u=r(s),l=1/0,d=[];c--;){var f=e[c];c&&t&&(f=It(f,Qt(t))),l=En(f.length,l),u[c]=!n&&(t||a>=120&&f.length>=120)?new Vn(c&&f):i}f=e[0];var p=-1,h=u[0];e:for(;++p<a&&d.length<l;){var m=f[p],g=t?t(m):m;if(m=n||0!==m?m:0,!(h?Zt(h,g):o(d,g,n))){for(c=s;--c;){var y=u[c];if(!(y?Zt(y,g):o(e[c],g,n)))continue e}h&&h.push(g),d.push(m)}}return d}function Ar(e,t,n){var r=null==(e=Do(e,t=Ei(t,e)))?e:e[qo(Zo(t))];return null==r?i:Rt(r,e,n)}function Ir(e){return is(e)&&Nr(e)==_}function kr(e,t,n,r,o){return e===t||(null==e||null==t||!is(e)&&!is(t)?e!=e&&t!=t:function(e,t,n,r,o,a){var s=Ga(e),c=Ga(t),u=s?v:yo(e),l=c?v:yo(t),d=(u=u==_?N:u)==N,f=(l=l==_?N:l)==N,p=u==l;if(p&&Qa(e)){if(!Qa(t))return!1;s=!0,d=!1}if(p&&!d)return a||(a=new Qn),s||fs(e)?ro(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!o(new ze(e),new ze(t)));case b:case E:case P:return Wa(+e,+t);case T:return e.name==t.name&&e.message==t.message;case C:case x:return e==t+"";case R:var s=cn;case D:var c=1&r;if(s||(s=dn),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=ro(s(e),s(t),r,i,o,a);return a.delete(e),l;case A:if(qn)return qn.call(e)==qn.call(t)}return!1}(e,t,u,n,r,o,a);if(!(1&n)){var h=d&&Fe.call(e,"__wrapped__"),m=f&&Fe.call(t,"__wrapped__");if(h||m){var g=h?e.value():e,y=m?t.value():t;return a||(a=new Qn),o(g,y,n,r,a)}}if(!p)return!1;return a||(a=new Qn),function(e,t,n,r,o,a){var s=1&n,c=oo(e),u=c.length,l=oo(t).length;if(u!=l&&!s)return!1;var d=u;for(;d--;){var f=c[d];if(!(s?f in t:Fe.call(t,f)))return!1}var p=a.get(e),h=a.get(t);if(p&&h)return p==t&&h==e;var m=!0;a.set(e,t),a.set(t,e);var g=s;for(;++d<u;){var y=e[f=c[d]],_=t[f];if(r)var v=s?r(_,y,f,t,e,a):r(y,_,f,e,t,a);if(!(v===i?y===_||o(y,_,n,r,a):v)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var b=e.constructor,E=t.constructor;b==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,r,o,a)}(e,t,n,r,kr,o))}function Mr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=Ne(e);o--;){var c=n[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var u=(c=n[o])[0],l=e[u],d=c[1];if(s&&c[2]){if(l===i&&!(u in e))return!1}else{var f=new Qn;if(r)var p=r(l,d,u,e,t,f);if(!(p===i?kr(d,l,3,r,f):p))return!1}}return!0}function Fr(e){return!(!rs(e)||(t=e,Be&&Be in t))&&(es(e)?He:_e).test(Uo(e));var t}function jr(e){return"function"==typeof e?e:null==e?ac:"object"==typeof e?Ga(e)?Wr(e[0],e[1]):Hr(e):mc(e)}function Br(e){if(!Po(e))return vn(e);var t=[];for(var n in Ne(e))Fe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!rs(e))return function(e){var t=[];if(null!=e)for(var n in Ne(e))t.push(n);return t}(e);var t=Po(e),n=[];for(var r in e)("constructor"!=r||!t&&Fe.call(e,r))&&n.push(r);return n}function qr(e,t){return e<t}function Ur(e,t){var n=-1,i=Ka(e)?r(e.length):[];return hr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Hr(e){var t=po(e);return 1==t.length&&t[0][2]?Oo(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function Wr(e,t){return wo(e)&&No(t)?Oo(qo(e),t):function(n){var r=Cs(n,e);return r===i&&r===t?Ds(n,e):kr(t,r,3)}}function $r(e,t,n,r,o){e!==t&&br(t,(function(a,s){if(o||(o=new Qn),rs(a))!function(e,t,n,r,o,a,s){var c=Ao(e,n),u=Ao(t,n),l=s.get(u);if(l)return void nr(e,n,l);var d=a?a(c,u,n+"",e,t,s):i,f=d===i;if(f){var p=Ga(u),h=!p&&Qa(u),m=!p&&!h&&fs(u);d=u,p||h||m?Ga(c)?d=c:Va(c)?d=xi(c):h?(f=!1,d=Ri(u,!0)):m?(f=!1,d=Ni(u,!0)):d=[]:ss(u)||Ya(u)?(d=c,Ya(c)?d=bs(c):rs(c)&&!es(c)||(d=vo(u))):f=!1}f&&(s.set(u,d),o(d,u,r,a,s),s.delete(u));nr(e,n,d)}(e,t,s,n,$r,r,o);else{var c=r?r(Ao(e,s),a,s+"",e,t,o):i;c===i&&(c=a),nr(e,s,c)}}),Ms)}function zr(e,t){var n=e.length;if(n)return Eo(t+=t<0?n:0,n)?e[t]:i}function Yr(e,t,n){t=t.length?It(t,(function(e){return Ga(e)?function(t){return Rr(t,1===e.length?e[0]:e)}:e})):[ac];var r=-1;return t=It(t,Qt(lo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ur(e,(function(e,n,i){return{criteria:It(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var c=Oi(i[r],o[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Rr(e,a);n(s,a)&&ti(o,Ei(a,e),s)}return o}function Xr(e,t,n,r){var i=r?Ht:Ut,o=-1,a=t.length,s=e;for(e===t&&(t=xi(t)),n&&(s=It(e,Qt(n)));++o<a;)for(var c=0,u=t[o],l=n?n(u):u;(c=i(s,l,c,r))>-1;)s!==e&&Ve.call(s,c,1),Ve.call(e,c,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Eo(i)?Ve.call(e,i,1):pi(e,i)}}return e}function Vr(e,t){return e+yt(Sn()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=yt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Mo(Co(e,t,ac),e+"")}function Zr(e){return Zn(Ws(e))}function ei(e,t){var n=Ws(e);return Bo(n,ur(t,0,n.length))}function ti(e,t,n,r){if(!rs(e))return e;for(var o=-1,a=(t=Ei(t,e)).length,s=a-1,c=e;null!=c&&++o<a;){var u=qo(t[o]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=s){var d=c[u];(l=r?r(d,u,c):i)===i&&(l=rs(d)?d:Eo(t[o+1])?[]:{})}rr(c,u,l),c=c[u]}return e}var ni=An?function(e,t){return An.set(e,t),e}:ac,ri=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:rc(t),writable:!0})}:ac;function ii(e){return Bo(Ws(e))}function oi(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function ai(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ds(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ci(e,t,ac,n)}function ci(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,c=null===t,u=ds(t),l=t===i;o<a;){var d=yt((o+a)/2),f=n(e[d]),p=f!==i,h=null===f,m=f==f,g=ds(f);if(s)var y=r||m;else y=l?m&&(r||p):c?m&&p&&(r||!h):u?m&&p&&!h&&(r||!g):!h&&!g&&(r?f<=t:f<t);y?o=d+1:a=d}return En(a,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Wa(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function li(e){return"number"==typeof e?e:ds(e)?m:+e}function di(e){if("string"==typeof e)return e;if(Ga(e))return It(e,di)+"";if(ds(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=xt,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=At;else if(o>=200){var u=t?null:Qi(e);if(u)return dn(u);a=!1,i=Zt,c=new Vn}else c=t?[]:s;e:for(;++r<o;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,a&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),s.push(l)}else i(c,d,n)||(c!==s&&c.push(d),s.push(l))}return s}function pi(e,t){return null==(e=Do(e,t=Ei(t,e)))||delete e[qo(Zo(t))]}function hi(e,t,n,r){return ti(e,t,n(Rr(e,t)),r)}function mi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?oi(e,r?0:o,r?o+1:i):oi(e,r?o+1:0,r?i:o)}function gi(e,t){var n=e;return n instanceof Yn&&(n=n.value()),Mt(t,(function(e,t){return t.func.apply(t.thisArg,kt([e],t.args))}),n)}function yi(e,t,n){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],c=-1;++c<i;)c!=o&&(a[o]=pr(a[o]||s,e[c],t,n));return fi(vr(a,1),t,n)}function _i(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var c=r<a?t[r]:i;n(s,e[r],c)}return s}function vi(e){return Va(e)?e:[]}function bi(e){return"function"==typeof e?e:ac}function Ei(e,t){return Ga(e)?e:wo(e,t)?[e]:Lo(Es(e))}var Ti=Jr;function wi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:oi(e,t,n)}var Si=dt||function(e){return pt.clearTimeout(e)};function Ri(e,t){if(t)return e.slice();var n=e.length,r=Ye?Ye(n):new e.constructor(n);return e.copy(r),r}function Pi(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function Ni(e,t){var n=t?Pi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Oi(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,a=ds(e),s=t!==i,c=null===t,u=t==t,l=ds(t);if(!c&&!l&&!a&&e>t||a&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||c&&n&&o||!s&&o||!u)return-1}return 0}function Ci(e,t,n,i){for(var o=-1,a=e.length,s=n.length,c=-1,u=t.length,l=bn(a-s,0),d=r(u+l),f=!i;++c<u;)d[c]=t[c];for(;++o<s;)(f||o<a)&&(d[n[o]]=e[o]);for(;l--;)d[c++]=e[o++];return d}function Di(e,t,n,i){for(var o=-1,a=e.length,s=-1,c=n.length,u=-1,l=t.length,d=bn(a-c,0),f=r(d+l),p=!i;++o<d;)f[o]=e[o];for(var h=o;++u<l;)f[h+u]=t[u];for(;++s<c;)(p||o<a)&&(f[h+n[s]]=e[o++]);return f}function xi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ai(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var c=t[a],u=r?r(n[c],e[c],c,n,e):i;u===i&&(u=e[c]),o?sr(n,c,u):rr(n,c,u)}return n}function Ii(e,t){return function(n,r){var i=Ga(n)?Pt:or,o=t?t():{};return i(n,e,lo(r,2),o)}}function ki(e){return Jr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&To(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=Ne(t);++r<o;){var c=n[r];c&&e(t,c,r,a)}return t}))}function Mi(e,t){return function(n,r){if(null==n)return n;if(!Ka(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Ne(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Fi(e){return function(t,n,r){for(var i=-1,o=Ne(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}function ji(e){return function(t){var n=sn(t=Es(t))?hn(t):i,r=n?n[0]:t.charAt(0),o=n?wi(n,1).join(""):t.slice(1);return r[e]()+o}}function Bi(e){return function(t){return Mt(ec(Ys(t).replace(Je,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Wn(e.prototype),r=e.apply(n,t);return rs(r)?r:n}}function qi(e){return function(t,n,r){var o=Ne(t);if(!Ka(t)){var a=lo(n,3);t=ks(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function Ui(e){return io((function(t){var n=t.length,r=n,a=zn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new De(o);if(a&&!c&&"wrapper"==co(s))var c=new zn([],!0)}for(r=c?r:n;++r<n;){var u=co(s=t[r]),l="wrapper"==u?so(s):i;c=l&&So(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[co(l[0])].apply(c,l[3]):1==s.length&&So(s)?c[u]():c.thru(s)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Ga(r))return c.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Hi(e,t,n,o,a,s,c,u,l,f){var p=t&d,h=1&t,m=2&t,g=24&t,y=512&t,_=m?i:Li(e);return function i(){for(var d=arguments.length,v=r(d),b=d;b--;)v[b]=arguments[b];if(g)var E=uo(i),T=nn(v,E);if(o&&(v=Ci(v,o,a,g)),s&&(v=Di(v,s,c,g)),d-=T,g&&d<f){var w=ln(v,E);return Ki(e,t,Hi,i.placeholder,n,v,w,u,l,f-d)}var S=h?n:this,R=m?S[e]:e;return d=v.length,u?v=xo(v,u):y&&d>1&&v.reverse(),p&&l<d&&(v.length=l),this&&this!==pt&&this instanceof i&&(R=_||Li(R)),R.apply(S,v)}}function Wi(e,t){return function(n,r){return function(e,t,n,r){return Tr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function $i(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=di(n),r=di(r)):(n=li(n),r=li(r)),o=e(n,r)}return o}}function zi(e){return io((function(t){return t=It(t,Qt(lo())),Jr((function(n){var r=this;return e(t,(function(e){return Rt(e,r,n)}))}))}))}function Yi(e,t){var n=(t=t===i?" ":di(t)).length;if(n<2)return n?Qr(t,e):t;var r=Qr(t,mt(e/pn(t)));return sn(t)?wi(hn(r),0,e).join(""):r.slice(0,e)}function Gi(e){return function(t,n,o){return o&&"number"!=typeof o&&To(t,n,o)&&(n=o=i),t=gs(t),n===i?(n=t,t=0):n=gs(n),function(e,t,n,i){for(var o=-1,a=bn(mt((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,o=o===i?t<n?1:-1:gs(o),e)}}function Xi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=vs(t),n=vs(n)),e(t,n)}}function Ki(e,t,n,r,o,a,s,c,d,f){var p=8&t;t|=p?u:l,4&(t&=~(p?l:u))||(t&=-4);var h=[e,t,o,p?a:i,p?s:i,p?i:a,p?i:s,c,d,f],m=n.apply(i,h);return So(e)&&Io(m,h),m.placeholder=r,Fo(m,e,t)}function Vi(e){var t=Pe[e];return function(e,n){if(e=vs(e),(n=null==n?0:En(ys(n),292))&&Yt(e)){var r=(Es(e)+"e").split("e");return+((r=(Es(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qi=Cn&&1/dn(new Cn([,-0]))[1]==p?function(e){return new Cn(e)}:dc;function Ji(e){return function(t){var n=yo(t);return n==R?cn(t):n==D?fn(t):function(e,t){return It(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zi(e,t,n,a,p,h,m,g){var y=2&t;if(!y&&"function"!=typeof e)throw new De(o);var _=a?a.length:0;if(_||(t&=-97,a=p=i),m=m===i?m:bn(ys(m),0),g=g===i?g:ys(g),_-=p?p.length:0,t&l){var v=a,b=p;a=p=i}var E=y?i:so(e),T=[e,t,n,a,p,v,b,h,m,g];if(E&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Ci(u,c,t[4]):c,e[4]=u?ln(e[3],s):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Di(u,c,t[6]):c,e[6]=u?ln(e[5],s):t[6]);(c=t[7])&&(e[7]=c);r&d&&(e[8]=null==e[8]?t[8]:En(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(T,E),e=T[0],t=T[1],n=T[2],a=T[3],p=T[4],!(g=T[9]=T[9]===i?y?0:e.length:bn(T[9]-_,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==c?function(e,t,n){var o=Li(e);return function a(){for(var s=arguments.length,c=r(s),u=s,l=uo(a);u--;)c[u]=arguments[u];var d=s<3&&c[0]!==l&&c[s-1]!==l?[]:ln(c,l);return(s-=d.length)<n?Ki(e,t,Hi,a.placeholder,i,c,d,i,i,n-s):Rt(this&&this!==pt&&this instanceof a?o:e,this,c)}}(e,t,g):t!=u&&33!=t||p.length?Hi.apply(i,T):function(e,t,n,i){var o=1&t,a=Li(e);return function t(){for(var s=-1,c=arguments.length,u=-1,l=i.length,d=r(l+c),f=this&&this!==pt&&this instanceof t?a:e;++u<l;)d[u]=i[u];for(;c--;)d[u++]=arguments[++s];return Rt(f,o?n:this,d)}}(e,t,n,a);else var w=function(e,t,n){var r=1&t,i=Li(e);return function t(){return(this&&this!==pt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Fo((E?ni:Io)(w,T),e,t)}function eo(e,t,n,r){return e===i||Wa(e,Ie[n])&&!Fe.call(r,n)?t:e}function to(e,t,n,r,o,a){return rs(e)&&rs(t)&&(a.set(t,e),$r(e,t,i,to,a),a.delete(t)),e}function no(e){return ss(e)?i:e}function ro(e,t,n,r,o,a){var s=1&n,c=e.length,u=t.length;if(c!=u&&!(s&&u>c))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var f=-1,p=!0,h=2&n?new Vn:i;for(a.set(e,t),a.set(t,e);++f<c;){var m=e[f],g=t[f];if(r)var y=s?r(g,m,f,t,e,a):r(m,g,f,e,t,a);if(y!==i){if(y)continue;p=!1;break}if(h){if(!jt(t,(function(e,t){if(!Zt(h,t)&&(m===e||o(m,e,n,r,a)))return h.push(t)}))){p=!1;break}}else if(m!==g&&!o(m,g,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function io(e){return Mo(Co(e,i,Xo),e+"")}function oo(e){return Pr(e,ks,mo)}function ao(e){return Pr(e,Ms,go)}var so=An?function(e){return An.get(e)}:dc;function co(e){for(var t=e.name+"",n=In[t],r=Fe.call(In,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function uo(e){return(Fe.call(Hn,"placeholder")?Hn:e).placeholder}function lo(){var e=Hn.iteratee||sc;return e=e===sc?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function fo(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function po(e){for(var t=ks(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,No(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Fr(n)?n:i}var mo=_t?function(e){return null==e?[]:(e=Ne(e),Dt(_t(e),(function(t){return Ke.call(e,t)})))}:_c,go=_t?function(e){for(var t=[];e;)kt(t,mo(e)),e=Ge(e);return t}:_c,yo=Nr;function _o(e,t,n){for(var r=-1,i=(t=Ei(t,e)).length,o=!1;++r<i;){var a=qo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ns(i)&&Eo(a,i)&&(Ga(e)||Ya(e))}function vo(e){return"function"!=typeof e.constructor||Po(e)?{}:Wn(Ge(e))}function bo(e){return Ga(e)||Ya(e)||!!(Qe&&e&&e[Qe])}function Eo(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function To(e,t,n){if(!rs(n))return!1;var r=typeof t;return!!("number"==r?Ka(n)&&Eo(t,n.length):"string"==r&&t in n)&&Wa(n[t],e)}function wo(e,t){if(Ga(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ds(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ne(t))}function So(e){var t=co(e),n=Hn[t];if("function"!=typeof n||!(t in Yn.prototype))return!1;if(e===n)return!0;var r=so(n);return!!r&&e===r[0]}(Pn&&yo(new Pn(new ArrayBuffer(1)))!=M||Nn&&yo(new Nn)!=R||On&&yo(On.resolve())!=O||Cn&&yo(new Cn)!=D||Dn&&yo(new Dn)!=I)&&(yo=function(e){var t=Nr(e),n=t==N?e.constructor:i,r=n?Uo(n):"";if(r)switch(r){case kn:return M;case Mn:return R;case Fn:return O;case jn:return D;case Bn:return I}return t});var Ro=ke?es:vc;function Po(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function No(e){return e==e&&!rs(e)}function Oo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ne(n)))}}function Co(e,t,n){return t=bn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=bn(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var c=r(t+1);++o<t;)c[o]=i[o];return c[t]=n(s),Rt(e,this,c)}}function Do(e,t){return t.length<2?e:Rr(e,oi(t,0,-1))}function xo(e,t){for(var n=e.length,r=En(t.length,n),o=xi(e);r--;){var a=t[r];e[r]=Eo(a,n)?o[a]:i}return e}function Ao(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Io=jo(ni),ko=ht||function(e,t){return pt.setTimeout(e,t)},Mo=jo(ri);function Fo(e,t,n){var r=t+"";return Mo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Nt(y,(function(n){var r="_."+n[0];t&n[1]&&!xt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(le):[]}(r),n)))}function jo(e){var t=0,n=0;return function(){var r=Tn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Bo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Vr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Lo=function(e){var t=ja(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(pe,"$1"):n||e)})),t}));function qo(e){if("string"==typeof e||ds(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Uo(e){if(null!=e){try{return Me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ho(e){if(e instanceof Yn)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=xi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Wo=Jr((function(e,t){return Va(e)?pr(e,vr(t,1,Va,!0)):[]})),$o=Jr((function(e,t){var n=Zo(t);return Va(n)&&(n=i),Va(e)?pr(e,vr(t,1,Va,!0),lo(n,2)):[]})),zo=Jr((function(e,t){var n=Zo(t);return Va(n)&&(n=i),Va(e)?pr(e,vr(t,1,Va,!0),i,n):[]}));function Yo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=bn(r+i,0)),qt(e,lo(t,3),i)}function Go(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ys(n),o=n<0?bn(r+o,0):En(o,r-1)),qt(e,lo(t,3),o,!0)}function Xo(e){return(null==e?0:e.length)?vr(e,1):[]}function Ko(e){return e&&e.length?e[0]:i}var Vo=Jr((function(e){var t=It(e,vi);return t.length&&t[0]===e[0]?xr(t):[]})),Qo=Jr((function(e){var t=Zo(e),n=It(e,vi);return t===Zo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?xr(n,lo(t,2)):[]})),Jo=Jr((function(e){var t=Zo(e),n=It(e,vi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?xr(n,i,t):[]}));function Zo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var ea=Jr(ta);function ta(e,t){return e&&e.length&&t&&t.length?Xr(e,t):e}var na=io((function(e,t){var n=null==e?0:e.length,r=cr(e,t);return Kr(e,It(t,(function(e){return Eo(e,n)?+e:e})).sort(Oi)),r}));function ra(e){return null==e?e:Rn.call(e)}var ia=Jr((function(e){return fi(vr(e,1,Va,!0))})),oa=Jr((function(e){var t=Zo(e);return Va(t)&&(t=i),fi(vr(e,1,Va,!0),lo(t,2))})),aa=Jr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,fi(vr(e,1,Va,!0),i,t)}));function sa(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(Va(e))return t=bn(e.length,t),!0})),Kt(t,(function(t){return It(e,zt(t))}))}function ca(e,t){if(!e||!e.length)return[];var n=sa(e);return null==t?n:It(n,(function(e){return Rt(t,i,e)}))}var ua=Jr((function(e,t){return Va(e)?pr(e,t):[]})),la=Jr((function(e){return yi(Dt(e,Va))})),da=Jr((function(e){var t=Zo(e);return Va(t)&&(t=i),yi(Dt(e,Va),lo(t,2))})),fa=Jr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,yi(Dt(e,Va),i,t)})),pa=Jr(sa);var ha=Jr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ca(e,n)}));function ma(e){var t=Hn(e);return t.__chain__=!0,t}function ga(e,t){return t(e)}var ya=io((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return cr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Yn&&Eo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ga,args:[o],thisArg:i}),new zn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var _a=Ii((function(e,t,n){Fe.call(e,n)?++e[n]:sr(e,n,1)}));var va=qi(Yo),ba=qi(Go);function Ea(e,t){return(Ga(e)?Nt:hr)(e,lo(t,3))}function Ta(e,t){return(Ga(e)?Ot:mr)(e,lo(t,3))}var wa=Ii((function(e,t,n){Fe.call(e,n)?e[n].push(t):sr(e,n,[t])}));var Sa=Jr((function(e,t,n){var i=-1,o="function"==typeof t,a=Ka(e)?r(e.length):[];return hr(e,(function(e){a[++i]=o?Rt(t,e,n):Ar(e,t,n)})),a})),Ra=Ii((function(e,t,n){sr(e,n,t)}));function Pa(e,t){return(Ga(e)?It:Ur)(e,lo(t,3))}var Na=Ii((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Oa=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&To(e,t[0],t[1])?t=[]:n>2&&To(t[0],t[1],t[2])&&(t=[t[0]]),Yr(e,vr(t,1),[])})),Ca=ft||function(){return pt.Date.now()};function Da(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Zi(e,d,i,i,i,i,t)}function xa(e,t){var n;if("function"!=typeof t)throw new De(o);return e=ys(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Aa=Jr((function(e,t,n){var r=1;if(n.length){var i=ln(n,uo(Aa));r|=u}return Zi(e,r,t,n,i)})),Ia=Jr((function(e,t,n){var r=3;if(n.length){var i=ln(n,uo(Ia));r|=u}return Zi(t,r,e,n,i)}));function ka(e,t,n){var r,a,s,c,u,l,d=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new De(o);function m(t){var n=r,o=a;return r=a=i,d=t,c=e.apply(o,n)}function g(e){return d=e,u=ko(_,t),f?m(e):c}function y(e){var n=e-l;return l===i||n>=t||n<0||p&&e-d>=s}function _(){var e=Ca();if(y(e))return v(e);u=ko(_,function(e){var n=t-(e-l);return p?En(n,s-(e-d)):n}(e))}function v(e){return u=i,h&&r?m(e):(r=a=i,c)}function b(){var e=Ca(),n=y(e);if(r=arguments,a=this,l=e,n){if(u===i)return g(l);if(p)return Si(u),u=ko(_,t),m(l)}return u===i&&(u=ko(_,t)),c}return t=vs(t)||0,rs(n)&&(f=!!n.leading,s=(p="maxWait"in n)?bn(vs(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),b.cancel=function(){u!==i&&Si(u),d=0,r=l=a=u=i},b.flush=function(){return u===i?c:v(Ca())},b}var Ma=Jr((function(e,t){return fr(e,1,t)})),Fa=Jr((function(e,t,n){return fr(e,vs(t)||0,n)}));function ja(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new De(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ja.Cache||Kn),n}function Ba(e){if("function"!=typeof e)throw new De(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ja.Cache=Kn;var La=Ti((function(e,t){var n=(t=1==t.length&&Ga(t[0])?It(t[0],Qt(lo())):It(vr(t,1),Qt(lo()))).length;return Jr((function(r){for(var i=-1,o=En(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Rt(e,this,r)}))})),qa=Jr((function(e,t){var n=ln(t,uo(qa));return Zi(e,u,i,t,n)})),Ua=Jr((function(e,t){var n=ln(t,uo(Ua));return Zi(e,l,i,t,n)})),Ha=io((function(e,t){return Zi(e,f,i,i,i,t)}));function Wa(e,t){return e===t||e!=e&&t!=t}var $a=Xi(Or),za=Xi((function(e,t){return e>=t})),Ya=Ir(function(){return arguments}())?Ir:function(e){return is(e)&&Fe.call(e,"callee")&&!Ke.call(e,"callee")},Ga=r.isArray,Xa=vt?Qt(vt):function(e){return is(e)&&Nr(e)==k};function Ka(e){return null!=e&&ns(e.length)&&!es(e)}function Va(e){return is(e)&&Ka(e)}var Qa=Bt||vc,Ja=bt?Qt(bt):function(e){return is(e)&&Nr(e)==E};function Za(e){if(!is(e))return!1;var t=Nr(e);return t==T||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!rs(e))return!1;var t=Nr(e);return t==w||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==ys(e)}function ns(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function rs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function is(e){return null!=e&&"object"==typeof e}var os=Et?Qt(Et):function(e){return is(e)&&yo(e)==R};function as(e){return"number"==typeof e||is(e)&&Nr(e)==P}function ss(e){if(!is(e)||Nr(e)!=N)return!1;var t=Ge(e);if(null===t)return!0;var n=Fe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==qe}var cs=Tt?Qt(Tt):function(e){return is(e)&&Nr(e)==C};var us=wt?Qt(wt):function(e){return is(e)&&yo(e)==D};function ls(e){return"string"==typeof e||!Ga(e)&&is(e)&&Nr(e)==x}function ds(e){return"symbol"==typeof e||is(e)&&Nr(e)==A}var fs=St?Qt(St):function(e){return is(e)&&ns(e.length)&&!!at[Nr(e)]};var ps=Xi(qr),hs=Xi((function(e,t){return e<=t}));function ms(e){if(!e)return[];if(Ka(e))return ls(e)?hn(e):xi(e);if(et&&e[et])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[et]());var t=yo(e);return(t==R?cn:t==D?dn:Ws)(e)}function gs(e){return e?(e=vs(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ys(e){var t=gs(e),n=t%1;return t==t?n?t-n:t:0}function _s(e){return e?ur(ys(e),0,g):0}function vs(e){if("number"==typeof e)return e;if(ds(e))return m;if(rs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Vt(e);var n=ye.test(e);return n||ve.test(e)?lt(e.slice(2),n?2:8):ge.test(e)?m:+e}function bs(e){return Ai(e,Ms(e))}function Es(e){return null==e?"":di(e)}var Ts=ki((function(e,t){if(Po(t)||Ka(t))Ai(t,ks(t),e);else for(var n in t)Fe.call(t,n)&&rr(e,n,t[n])})),ws=ki((function(e,t){Ai(t,Ms(t),e)})),Ss=ki((function(e,t,n,r){Ai(t,Ms(t),e,r)})),Rs=ki((function(e,t,n,r){Ai(t,ks(t),e,r)})),Ps=io(cr);var Ns=Jr((function(e,t){e=Ne(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&To(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Ms(a),c=-1,u=s.length;++c<u;){var l=s[c],d=e[l];(d===i||Wa(d,Ie[l])&&!Fe.call(e,l))&&(e[l]=a[l])}return e})),Os=Jr((function(e){return e.push(i,to),Rt(js,i,e)}));function Cs(e,t,n){var r=null==e?i:Rr(e,t);return r===i?n:r}function Ds(e,t){return null!=e&&_o(e,t,Dr)}var xs=Wi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),e[t]=n}),rc(ac)),As=Wi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),Fe.call(e,t)?e[t].push(n):e[t]=[n]}),lo),Is=Jr(Ar);function ks(e){return Ka(e)?Jn(e):Br(e)}function Ms(e){return Ka(e)?Jn(e,!0):Lr(e)}var Fs=ki((function(e,t,n){$r(e,t,n)})),js=ki((function(e,t,n,r){$r(e,t,n,r)})),Bs=io((function(e,t){var n={};if(null==e)return n;var r=!1;t=It(t,(function(t){return t=Ei(t,e),r||(r=t.length>1),t})),Ai(e,ao(e),n),r&&(n=lr(n,7,no));for(var i=t.length;i--;)pi(n,t[i]);return n}));var Ls=io((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Ds(e,n)}))}(e,t)}));function qs(e,t){if(null==e)return{};var n=It(ao(e),(function(e){return[e]}));return t=lo(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var Us=Ji(ks),Hs=Ji(Ms);function Ws(e){return null==e?[]:Jt(e,ks(e))}var $s=Bi((function(e,t,n){return t=t.toLowerCase(),e+(n?zs(t):t)}));function zs(e){return Zs(Es(e).toLowerCase())}function Ys(e){return(e=Es(e))&&e.replace(Ee,rn).replace(Ze,"")}var Gs=Bi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Xs=Bi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ks=ji("toLowerCase");var Vs=Bi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qs=Bi((function(e,t,n){return e+(n?" ":"")+Zs(t)}));var Js=Bi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Zs=ji("toUpperCase");function ec(e,t,n){return e=Es(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var tc=Jr((function(e,t){try{return Rt(e,i,t)}catch(e){return Za(e)?e:new Se(e)}})),nc=io((function(e,t){return Nt(t,(function(t){t=qo(t),sr(e,t,Aa(e[t],e))})),e}));function rc(e){return function(){return e}}var ic=Ui(),oc=Ui(!0);function ac(e){return e}function sc(e){return jr("function"==typeof e?e:lr(e,1))}var cc=Jr((function(e,t){return function(n){return Ar(n,e,t)}})),uc=Jr((function(e,t){return function(n){return Ar(e,n,t)}}));function lc(e,t,n){var r=ks(t),i=Sr(t,r);null!=n||rs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Sr(t,ks(t)));var o=!(rs(n)&&"chain"in n&&!n.chain),a=es(e);return Nt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=xi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,kt([this.value()],arguments))})})),e}function dc(){}var fc=zi(It),pc=zi(Ct),hc=zi(jt);function mc(e){return wo(e)?zt(qo(e)):function(e){return function(t){return Rr(t,e)}}(e)}var gc=Gi(),yc=Gi(!0);function _c(){return[]}function vc(){return!1}var bc=$i((function(e,t){return e+t}),0),Ec=Vi("ceil"),Tc=$i((function(e,t){return e/t}),1),wc=Vi("floor");var Sc,Rc=$i((function(e,t){return e*t}),1),Pc=Vi("round"),Nc=$i((function(e,t){return e-t}),0);return Hn.after=function(e,t){if("function"!=typeof t)throw new De(o);return e=ys(e),function(){if(--e<1)return t.apply(this,arguments)}},Hn.ary=Da,Hn.assign=Ts,Hn.assignIn=ws,Hn.assignInWith=Ss,Hn.assignWith=Rs,Hn.at=Ps,Hn.before=xa,Hn.bind=Aa,Hn.bindAll=nc,Hn.bindKey=Ia,Hn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ga(e)?e:[e]},Hn.chain=ma,Hn.chunk=function(e,t,n){t=(n?To(e,t,n):t===i)?1:bn(ys(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,c=r(mt(o/t));a<o;)c[s++]=oi(e,a,a+=t);return c},Hn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Hn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return kt(Ga(n)?xi(n):[n],vr(t,1))},Hn.cond=function(e){var t=null==e?0:e.length,n=lo();return e=t?It(e,(function(e){if("function"!=typeof e[1])throw new De(o);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Rt(i[0],this,n))return Rt(i[1],this,n)}}))},Hn.conforms=function(e){return function(e){var t=ks(e);return function(n){return dr(n,e,t)}}(lr(e,1))},Hn.constant=rc,Hn.countBy=_a,Hn.create=function(e,t){var n=Wn(e);return null==t?n:ar(n,t)},Hn.curry=function e(t,n,r){var o=Zi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Hn.curryRight=function e(t,n,r){var o=Zi(t,c,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Hn.debounce=ka,Hn.defaults=Ns,Hn.defaultsDeep=Os,Hn.defer=Ma,Hn.delay=Fa,Hn.difference=Wo,Hn.differenceBy=$o,Hn.differenceWith=zo,Hn.drop=function(e,t,n){var r=null==e?0:e.length;return r?oi(e,(t=n||t===i?1:ys(t))<0?0:t,r):[]},Hn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oi(e,0,(t=r-(t=n||t===i?1:ys(t)))<0?0:t):[]},Hn.dropRightWhile=function(e,t){return e&&e.length?mi(e,lo(t,3),!0,!0):[]},Hn.dropWhile=function(e,t){return e&&e.length?mi(e,lo(t,3),!0):[]},Hn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&To(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ys(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ys(r))<0&&(r+=o),r=n>r?0:_s(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Hn.filter=function(e,t){return(Ga(e)?Dt:_r)(e,lo(t,3))},Hn.flatMap=function(e,t){return vr(Pa(e,t),1)},Hn.flatMapDeep=function(e,t){return vr(Pa(e,t),p)},Hn.flatMapDepth=function(e,t,n){return n=n===i?1:ys(n),vr(Pa(e,t),n)},Hn.flatten=Xo,Hn.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,p):[]},Hn.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===i?1:ys(t)):[]},Hn.flip=function(e){return Zi(e,512)},Hn.flow=ic,Hn.flowRight=oc,Hn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Hn.functions=function(e){return null==e?[]:Sr(e,ks(e))},Hn.functionsIn=function(e){return null==e?[]:Sr(e,Ms(e))},Hn.groupBy=wa,Hn.initial=function(e){return(null==e?0:e.length)?oi(e,0,-1):[]},Hn.intersection=Vo,Hn.intersectionBy=Qo,Hn.intersectionWith=Jo,Hn.invert=xs,Hn.invertBy=As,Hn.invokeMap=Sa,Hn.iteratee=sc,Hn.keyBy=Ra,Hn.keys=ks,Hn.keysIn=Ms,Hn.map=Pa,Hn.mapKeys=function(e,t){var n={};return t=lo(t,3),Tr(e,(function(e,r,i){sr(n,t(e,r,i),e)})),n},Hn.mapValues=function(e,t){var n={};return t=lo(t,3),Tr(e,(function(e,r,i){sr(n,r,t(e,r,i))})),n},Hn.matches=function(e){return Hr(lr(e,1))},Hn.matchesProperty=function(e,t){return Wr(e,lr(t,1))},Hn.memoize=ja,Hn.merge=Fs,Hn.mergeWith=js,Hn.method=cc,Hn.methodOf=uc,Hn.mixin=lc,Hn.negate=Ba,Hn.nthArg=function(e){return e=ys(e),Jr((function(t){return zr(t,e)}))},Hn.omit=Bs,Hn.omitBy=function(e,t){return qs(e,Ba(lo(t)))},Hn.once=function(e){return xa(2,e)},Hn.orderBy=function(e,t,n,r){return null==e?[]:(Ga(t)||(t=null==t?[]:[t]),Ga(n=r?i:n)||(n=null==n?[]:[n]),Yr(e,t,n))},Hn.over=fc,Hn.overArgs=La,Hn.overEvery=pc,Hn.overSome=hc,Hn.partial=qa,Hn.partialRight=Ua,Hn.partition=Na,Hn.pick=Ls,Hn.pickBy=qs,Hn.property=mc,Hn.propertyOf=function(e){return function(t){return null==e?i:Rr(e,t)}},Hn.pull=ea,Hn.pullAll=ta,Hn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,lo(n,2)):e},Hn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,i,n):e},Hn.pullAt=na,Hn.range=gc,Hn.rangeRight=yc,Hn.rearg=Ha,Hn.reject=function(e,t){return(Ga(e)?Dt:_r)(e,Ba(lo(t,3)))},Hn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=lo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Kr(e,i),n},Hn.rest=function(e,t){if("function"!=typeof e)throw new De(o);return Jr(e,t=t===i?t:ys(t))},Hn.reverse=ra,Hn.sampleSize=function(e,t,n){return t=(n?To(e,t,n):t===i)?1:ys(t),(Ga(e)?er:ei)(e,t)},Hn.set=function(e,t,n){return null==e?e:ti(e,t,n)},Hn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ti(e,t,n,r)},Hn.shuffle=function(e){return(Ga(e)?tr:ii)(e)},Hn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&To(e,t,n)?(t=0,n=r):(t=null==t?0:ys(t),n=n===i?r:ys(n)),oi(e,t,n)):[]},Hn.sortBy=Oa,Hn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Hn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,lo(t,2)):[]},Hn.split=function(e,t,n){return n&&"number"!=typeof n&&To(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=Es(e))&&("string"==typeof t||null!=t&&!cs(t))&&!(t=di(t))&&sn(e)?wi(hn(e),0,n):e.split(t,n):[]},Hn.spread=function(e,t){if("function"!=typeof e)throw new De(o);return t=null==t?0:bn(ys(t),0),Jr((function(n){var r=n[t],i=wi(n,0,t);return r&&kt(i,r),Rt(e,this,i)}))},Hn.tail=function(e){var t=null==e?0:e.length;return t?oi(e,1,t):[]},Hn.take=function(e,t,n){return e&&e.length?oi(e,0,(t=n||t===i?1:ys(t))<0?0:t):[]},Hn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oi(e,(t=r-(t=n||t===i?1:ys(t)))<0?0:t,r):[]},Hn.takeRightWhile=function(e,t){return e&&e.length?mi(e,lo(t,3),!1,!0):[]},Hn.takeWhile=function(e,t){return e&&e.length?mi(e,lo(t,3)):[]},Hn.tap=function(e,t){return t(e),e},Hn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new De(o);return rs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ka(e,t,{leading:r,maxWait:t,trailing:i})},Hn.thru=ga,Hn.toArray=ms,Hn.toPairs=Us,Hn.toPairsIn=Hs,Hn.toPath=function(e){return Ga(e)?It(e,qo):ds(e)?[e]:xi(Lo(Es(e)))},Hn.toPlainObject=bs,Hn.transform=function(e,t,n){var r=Ga(e),i=r||Qa(e)||fs(e);if(t=lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:rs(e)&&es(o)?Wn(Ge(e)):{}}return(i?Nt:Tr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Hn.unary=function(e){return Da(e,1)},Hn.union=ia,Hn.unionBy=oa,Hn.unionWith=aa,Hn.uniq=function(e){return e&&e.length?fi(e):[]},Hn.uniqBy=function(e,t){return e&&e.length?fi(e,lo(t,2)):[]},Hn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},Hn.unset=function(e,t){return null==e||pi(e,t)},Hn.unzip=sa,Hn.unzipWith=ca,Hn.update=function(e,t,n){return null==e?e:hi(e,t,bi(n))},Hn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,bi(n),r)},Hn.values=Ws,Hn.valuesIn=function(e){return null==e?[]:Jt(e,Ms(e))},Hn.without=ua,Hn.words=ec,Hn.wrap=function(e,t){return qa(bi(t),e)},Hn.xor=la,Hn.xorBy=da,Hn.xorWith=fa,Hn.zip=pa,Hn.zipObject=function(e,t){return _i(e||[],t||[],rr)},Hn.zipObjectDeep=function(e,t){return _i(e||[],t||[],ti)},Hn.zipWith=ha,Hn.entries=Us,Hn.entriesIn=Hs,Hn.extend=ws,Hn.extendWith=Ss,lc(Hn,Hn),Hn.add=bc,Hn.attempt=tc,Hn.camelCase=$s,Hn.capitalize=zs,Hn.ceil=Ec,Hn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=vs(n))==n?n:0),t!==i&&(t=(t=vs(t))==t?t:0),ur(vs(e),t,n)},Hn.clone=function(e){return lr(e,4)},Hn.cloneDeep=function(e){return lr(e,5)},Hn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Hn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Hn.conformsTo=function(e,t){return null==t||dr(e,t,ks(t))},Hn.deburr=Ys,Hn.defaultTo=function(e,t){return null==e||e!=e?t:e},Hn.divide=Tc,Hn.endsWith=function(e,t,n){e=Es(e),t=di(t);var r=e.length,o=n=n===i?r:ur(ys(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Hn.eq=Wa,Hn.escape=function(e){return(e=Es(e))&&Q.test(e)?e.replace(K,on):e},Hn.escapeRegExp=function(e){return(e=Es(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Hn.every=function(e,t,n){var r=Ga(e)?Ct:gr;return n&&To(e,t,n)&&(t=i),r(e,lo(t,3))},Hn.find=va,Hn.findIndex=Yo,Hn.findKey=function(e,t){return Lt(e,lo(t,3),Tr)},Hn.findLast=ba,Hn.findLastIndex=Go,Hn.findLastKey=function(e,t){return Lt(e,lo(t,3),wr)},Hn.floor=wc,Hn.forEach=Ea,Hn.forEachRight=Ta,Hn.forIn=function(e,t){return null==e?e:br(e,lo(t,3),Ms)},Hn.forInRight=function(e,t){return null==e?e:Er(e,lo(t,3),Ms)},Hn.forOwn=function(e,t){return e&&Tr(e,lo(t,3))},Hn.forOwnRight=function(e,t){return e&&wr(e,lo(t,3))},Hn.get=Cs,Hn.gt=$a,Hn.gte=za,Hn.has=function(e,t){return null!=e&&_o(e,t,Cr)},Hn.hasIn=Ds,Hn.head=Ko,Hn.identity=ac,Hn.includes=function(e,t,n,r){e=Ka(e)?e:Ws(e),n=n&&!r?ys(n):0;var i=e.length;return n<0&&(n=bn(i+n,0)),ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ut(e,t,n)>-1},Hn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=bn(r+i,0)),Ut(e,t,i)},Hn.inRange=function(e,t,n){return t=gs(t),n===i?(n=t,t=0):n=gs(n),function(e,t,n){return e>=En(t,n)&&e<bn(t,n)}(e=vs(e),t,n)},Hn.invoke=Is,Hn.isArguments=Ya,Hn.isArray=Ga,Hn.isArrayBuffer=Xa,Hn.isArrayLike=Ka,Hn.isArrayLikeObject=Va,Hn.isBoolean=function(e){return!0===e||!1===e||is(e)&&Nr(e)==b},Hn.isBuffer=Qa,Hn.isDate=Ja,Hn.isElement=function(e){return is(e)&&1===e.nodeType&&!ss(e)},Hn.isEmpty=function(e){if(null==e)return!0;if(Ka(e)&&(Ga(e)||"string"==typeof e||"function"==typeof e.splice||Qa(e)||fs(e)||Ya(e)))return!e.length;var t=yo(e);if(t==R||t==D)return!e.size;if(Po(e))return!Br(e).length;for(var n in e)if(Fe.call(e,n))return!1;return!0},Hn.isEqual=function(e,t){return kr(e,t)},Hn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?kr(e,t,i,n):!!r},Hn.isError=Za,Hn.isFinite=function(e){return"number"==typeof e&&Yt(e)},Hn.isFunction=es,Hn.isInteger=ts,Hn.isLength=ns,Hn.isMap=os,Hn.isMatch=function(e,t){return e===t||Mr(e,t,po(t))},Hn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Mr(e,t,po(t),n)},Hn.isNaN=function(e){return as(e)&&e!=+e},Hn.isNative=function(e){if(Ro(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Fr(e)},Hn.isNil=function(e){return null==e},Hn.isNull=function(e){return null===e},Hn.isNumber=as,Hn.isObject=rs,Hn.isObjectLike=is,Hn.isPlainObject=ss,Hn.isRegExp=cs,Hn.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=h},Hn.isSet=us,Hn.isString=ls,Hn.isSymbol=ds,Hn.isTypedArray=fs,Hn.isUndefined=function(e){return e===i},Hn.isWeakMap=function(e){return is(e)&&yo(e)==I},Hn.isWeakSet=function(e){return is(e)&&"[object WeakSet]"==Nr(e)},Hn.join=function(e,t){return null==e?"":_n.call(e,t)},Hn.kebabCase=Gs,Hn.last=Zo,Hn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ys(n))<0?bn(r+o,0):En(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):qt(e,Wt,o,!0)},Hn.lowerCase=Xs,Hn.lowerFirst=Ks,Hn.lt=ps,Hn.lte=hs,Hn.max=function(e){return e&&e.length?yr(e,ac,Or):i},Hn.maxBy=function(e,t){return e&&e.length?yr(e,lo(t,2),Or):i},Hn.mean=function(e){return $t(e,ac)},Hn.meanBy=function(e,t){return $t(e,lo(t,2))},Hn.min=function(e){return e&&e.length?yr(e,ac,qr):i},Hn.minBy=function(e,t){return e&&e.length?yr(e,lo(t,2),qr):i},Hn.stubArray=_c,Hn.stubFalse=vc,Hn.stubObject=function(){return{}},Hn.stubString=function(){return""},Hn.stubTrue=function(){return!0},Hn.multiply=Rc,Hn.nth=function(e,t){return e&&e.length?zr(e,ys(t)):i},Hn.noConflict=function(){return pt._===this&&(pt._=Ue),this},Hn.noop=dc,Hn.now=Ca,Hn.pad=function(e,t,n){e=Es(e);var r=(t=ys(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Yi(yt(i),n)+e+Yi(mt(i),n)},Hn.padEnd=function(e,t,n){e=Es(e);var r=(t=ys(t))?pn(e):0;return t&&r<t?e+Yi(t-r,n):e},Hn.padStart=function(e,t,n){e=Es(e);var r=(t=ys(t))?pn(e):0;return t&&r<t?Yi(t-r,n)+e:e},Hn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(Es(e).replace(ae,""),t||0)},Hn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&To(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=gs(e),t===i?(t=e,e=0):t=gs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Sn();return En(e+o*(t-e+ut("1e-"+((o+"").length-1))),t)}return Vr(e,t)},Hn.reduce=function(e,t,n){var r=Ga(e)?Mt:Gt,i=arguments.length<3;return r(e,lo(t,4),n,i,hr)},Hn.reduceRight=function(e,t,n){var r=Ga(e)?Ft:Gt,i=arguments.length<3;return r(e,lo(t,4),n,i,mr)},Hn.repeat=function(e,t,n){return t=(n?To(e,t,n):t===i)?1:ys(t),Qr(Es(e),t)},Hn.replace=function(){var e=arguments,t=Es(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Hn.result=function(e,t,n){var r=-1,o=(t=Ei(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[qo(t[r])];a===i&&(r=o,a=n),e=es(a)?a.call(e):a}return e},Hn.round=Pc,Hn.runInContext=e,Hn.sample=function(e){return(Ga(e)?Zn:Zr)(e)},Hn.size=function(e){if(null==e)return 0;if(Ka(e))return ls(e)?pn(e):e.length;var t=yo(e);return t==R||t==D?e.size:Br(e).length},Hn.snakeCase=Vs,Hn.some=function(e,t,n){var r=Ga(e)?jt:ai;return n&&To(e,t,n)&&(t=i),r(e,lo(t,3))},Hn.sortedIndex=function(e,t){return si(e,t)},Hn.sortedIndexBy=function(e,t,n){return ci(e,t,lo(n,2))},Hn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&Wa(e[r],t))return r}return-1},Hn.sortedLastIndex=function(e,t){return si(e,t,!0)},Hn.sortedLastIndexBy=function(e,t,n){return ci(e,t,lo(n,2),!0)},Hn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=si(e,t,!0)-1;if(Wa(e[n],t))return n}return-1},Hn.startCase=Qs,Hn.startsWith=function(e,t,n){return e=Es(e),n=null==n?0:ur(ys(n),0,e.length),t=di(t),e.slice(n,n+t.length)==t},Hn.subtract=Nc,Hn.sum=function(e){return e&&e.length?Xt(e,ac):0},Hn.sumBy=function(e,t){return e&&e.length?Xt(e,lo(t,2)):0},Hn.template=function(e,t,n){var r=Hn.templateSettings;n&&To(e,t,n)&&(t=i),e=Es(e),t=Ss({},t,r,eo);var o,a,s=Ss({},t.imports,r.imports,eo),c=ks(s),u=Jt(s,c),l=0,d=t.interpolate||Te,f="__p += '",p=Oe((t.escape||Te).source+"|"+d.source+"|"+(d===ee?he:Te).source+"|"+(t.evaluate||Te).source+"|$","g"),h="//# sourceURL="+(Fe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(p,(function(t,n,r,i,s,c){return r||(r=i),f+=e.slice(l,c).replace(we,an),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),f+="';\n";var m=Fe.call(t,"variable")&&t.variable;if(m){if(fe.test(m))throw new Se("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(z,""):f).replace(Y,"$1").replace(G,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=tc((function(){return Re(c,h+"return "+f).apply(i,u)}));if(g.source=f,Za(g))throw g;return g},Hn.times=function(e,t){if((e=ys(e))<1||e>h)return[];var n=g,r=En(e,g);t=lo(t),e-=g;for(var i=Kt(r,t);++n<e;)t(n);return i},Hn.toFinite=gs,Hn.toInteger=ys,Hn.toLength=_s,Hn.toLower=function(e){return Es(e).toLowerCase()},Hn.toNumber=vs,Hn.toSafeInteger=function(e){return e?ur(ys(e),-9007199254740991,h):0===e?e:0},Hn.toString=Es,Hn.toUpper=function(e){return Es(e).toUpperCase()},Hn.trim=function(e,t,n){if((e=Es(e))&&(n||t===i))return Vt(e);if(!e||!(t=di(t)))return e;var r=hn(e),o=hn(t);return wi(r,en(r,o),tn(r,o)+1).join("")},Hn.trimEnd=function(e,t,n){if((e=Es(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=di(t)))return e;var r=hn(e);return wi(r,0,tn(r,hn(t))+1).join("")},Hn.trimStart=function(e,t,n){if((e=Es(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=di(t)))return e;var r=hn(e);return wi(r,en(r,hn(t))).join("")},Hn.truncate=function(e,t){var n=30,r="...";if(rs(t)){var o="separator"in t?t.separator:o;n="length"in t?ys(t.length):n,r="omission"in t?di(t.omission):r}var a=(e=Es(e)).length;if(sn(e)){var s=hn(e);a=s.length}if(n>=a)return e;var c=n-pn(r);if(c<1)return r;var u=s?wi(s,0,c).join(""):e.slice(0,c);if(o===i)return u+r;if(s&&(c+=u.length-c),cs(o)){if(e.slice(c).search(o)){var l,d=u;for(o.global||(o=Oe(o.source,Es(me.exec(o))+"g")),o.lastIndex=0;l=o.exec(d);)var f=l.index;u=u.slice(0,f===i?c:f)}}else if(e.indexOf(di(o),c)!=c){var p=u.lastIndexOf(o);p>-1&&(u=u.slice(0,p))}return u+r},Hn.unescape=function(e){return(e=Es(e))&&V.test(e)?e.replace(X,gn):e},Hn.uniqueId=function(e){var t=++je;return Es(e)+t},Hn.upperCase=Js,Hn.upperFirst=Zs,Hn.each=Ea,Hn.eachRight=Ta,Hn.first=Ko,lc(Hn,(Sc={},Tr(Hn,(function(e,t){Fe.call(Hn.prototype,t)||(Sc[t]=e)})),Sc),{chain:!1}),Hn.VERSION="4.17.21",Nt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Hn[e].placeholder=Hn})),Nt(["drop","take"],(function(e,t){Yn.prototype[e]=function(n){n=n===i?1:bn(ys(n),0);var r=this.__filtered__&&!t?new Yn(this):this.clone();return r.__filtered__?r.__takeCount__=En(n,r.__takeCount__):r.__views__.push({size:En(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Yn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Nt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Yn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Nt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Yn.prototype[e]=function(){return this[n](1).value()[0]}})),Nt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Yn.prototype[e]=function(){return this.__filtered__?new Yn(this):this[n](1)}})),Yn.prototype.compact=function(){return this.filter(ac)},Yn.prototype.find=function(e){return this.filter(e).head()},Yn.prototype.findLast=function(e){return this.reverse().find(e)},Yn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Yn(this):this.map((function(n){return Ar(n,e,t)}))})),Yn.prototype.reject=function(e){return this.filter(Ba(lo(e)))},Yn.prototype.slice=function(e,t){e=ys(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Yn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ys(t))<0?n.dropRight(-t):n.take(t-e)),n)},Yn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Yn.prototype.toArray=function(){return this.take(g)},Tr(Yn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Hn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Hn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof Yn,u=s[0],l=c||Ga(t),d=function(e){var t=o.apply(Hn,kt([e],s));return r&&f?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var f=this.__chain__,p=!!this.__actions__.length,h=a&&!f,m=c&&!p;if(!a&&l){t=m?t:new Yn(this);var g=e.apply(t,s);return g.__actions__.push({func:ga,args:[d],thisArg:i}),new zn(g,f)}return h&&m?e.apply(this,s):(g=this.thru(d),h?r?g.value()[0]:g.value():g)})})),Nt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=xe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Hn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ga(i)?i:[],e)}return this[n]((function(n){return t.apply(Ga(n)?n:[],e)}))}})),Tr(Yn.prototype,(function(e,t){var n=Hn[t];if(n){var r=n.name+"";Fe.call(In,r)||(In[r]=[]),In[r].push({name:t,func:n})}})),In[Hi(i,2).name]=[{name:"wrapper",func:i}],Yn.prototype.clone=function(){var e=new Yn(this.__wrapped__);return e.__actions__=xi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=xi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=xi(this.__views__),e},Yn.prototype.reverse=function(){if(this.__filtered__){var e=new Yn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Yn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ga(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=En(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,d=l.length,f=0,p=En(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return gi(e,this.__actions__);var h=[];e:for(;c--&&f<p;){for(var m=-1,g=e[u+=t];++m<d;){var y=l[m],_=y.iteratee,v=y.type,b=_(g);if(2==v)g=b;else if(!b){if(1==v)continue e;break e}}h[f++]=g}return h},Hn.prototype.at=ya,Hn.prototype.chain=function(){return ma(this)},Hn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Hn.prototype.next=function(){this.__values__===i&&(this.__values__=ms(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Hn.prototype.plant=function(e){for(var t,n=this;n instanceof $n;){var r=Ho(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Hn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Yn){var t=e;return this.__actions__.length&&(t=new Yn(this)),(t=t.reverse()).__actions__.push({func:ga,args:[ra],thisArg:i}),new zn(t,this.__chain__)}return this.thru(ra)},Hn.prototype.toJSON=Hn.prototype.valueOf=Hn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},Hn.prototype.first=Hn.prototype.head,et&&(Hn.prototype[et]=function(){return this}),Hn}();pt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},3707:(e,t,n)=>{e.exports=f,f.Minimatch=p;var r={sep:"/"};try{r=n(5622)}catch(e){}var i=f.GLOBSTAR=p.GLOBSTAR={},o=n(5457),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},s="[^/]",c="[^/]*?",u="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var l=/\/+/;function d(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function f(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new p(t,n).match(e))}function p(e,t){if(!(this instanceof p))return new p(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function h(e,t){if(t||(t=this instanceof p?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}f.filter=function(e,t){return t=t||{},function(n,r,i){return f(n,e,t)}},f.defaults=function(e){if(!e||!Object.keys(e).length)return f;var t=f,n=function(n,r,i){return t.minimatch(n,r,d(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))},n},p.defaults=function(e){return e&&Object.keys(e).length?f.defaults(e).Minimatch:p},p.prototype.debug=function(){},p.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(l)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},p.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=e.length;i<o&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},f.braceExpand=function(e,t){return h(e,t)},p.prototype.braceExpand=h,p.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return i;if(""===e)return"";var r,o="",l=!!n.nocase,d=!1,f=[],p=[],h=!1,g=-1,y=-1,_="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function b(){if(r){switch(r){case"*":o+=c,l=!0;break;case"?":o+=s,l=!0;break;default:o+="\\"+r}v.debug("clearStateChar %j %j",r,o),r=!1}}for(var E,T=0,w=e.length;T<w&&(E=e.charAt(T));T++)if(this.debug("%s\t%s %s %j",e,T,o,E),d&&u[E])o+="\\"+E,d=!1;else switch(E){case"/":return!1;case"\\":b(),d=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,T,o,E),h){this.debug("  in class"),"!"===E&&T===y+1&&(E="^"),o+=E;continue}v.debug("call clearStateChar %j",r),b(),r=E,n.noext&&b();continue;case"(":if(h){o+="(";continue}if(!r){o+="\\(";continue}f.push({type:r,start:T-1,reStart:o.length,open:a[r].open,close:a[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(h||!f.length){o+="\\)";continue}b(),l=!0;var S=f.pop();o+=S.close,"!"===S.type&&p.push(S),S.reEnd=o.length;continue;case"|":if(h||!f.length||d){o+="\\|",d=!1;continue}b(),o+="|";continue;case"[":if(b(),h){o+="\\"+E;continue}h=!0,y=T,g=o.length,o+=E;continue;case"]":if(T===y+1||!h){o+="\\"+E,d=!1;continue}if(h){var R=e.substring(y+1,T);try{RegExp("["+R+"]")}catch(e){var P=this.parse(R,m);o=o.substr(0,g)+"\\["+P[0]+"\\]",l=l||P[1],h=!1;continue}}l=!0,h=!1,o+=E;continue;default:b(),d?d=!1:!u[E]||"^"===E&&h||(o+="\\"),o+=E}h&&(R=e.substr(y+1),P=this.parse(R,m),o=o.substr(0,g)+"\\["+P[0],l=l||P[1]);for(S=f.pop();S;S=f.pop()){var N=o.slice(S.reStart+S.open.length);this.debug("setting tail",o,S),N=N.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",N,N,S,o);var O="*"===S.type?c:"?"===S.type?s:"\\"+S.type;l=!0,o=o.slice(0,S.reStart)+O+"\\("+N}b(),d&&(o+="\\\\");var C=!1;switch(o.charAt(0)){case".":case"[":case"(":C=!0}for(var D=p.length-1;D>-1;D--){var x=p[D],A=o.slice(0,x.reStart),I=o.slice(x.reStart,x.reEnd-8),k=o.slice(x.reEnd-8,x.reEnd),M=o.slice(x.reEnd);k+=M;var F=A.split("(").length-1,j=M;for(T=0;T<F;T++)j=j.replace(/\)[+*?]?/,"");var B="";""===(M=j)&&t!==m&&(B="$"),o=A+I+M+B+k}""!==o&&l&&(o="(?=.)"+o);C&&(o=_+o);if(t===m)return[o,l];if(!l)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var L=n.nocase?"i":"";try{var q=new RegExp("^"+o+"$",L)}catch(e){return new RegExp("$.")}return q._glob=e,q._src=o,q};var m={};f.makeRe=function(e,t){return new p(e,t||{}).makeRe()},p.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},f.match=function(e,t,n){var r=new p(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},p.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(l),this.debug(this.pattern,"split",e);var i,o,a=this.set;for(this.debug(this.pattern,"set",a),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<a.length;o++){var s=a[o],c=e;if(n.matchBase&&1===s.length&&(c=[i]),this.matchOne(c,s,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},p.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,a=0,s=e.length,c=t.length;o<s&&a<c;o++,a++){this.debug("matchOne loop");var u,l=t[a],d=e[o];if(this.debug(t,l,d),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[t,l,d]);var f=o,p=a+1;if(p===c){for(this.debug("** at the end");o<s;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;f<s;){var h=e[f];if(this.debug("\nglobstar while",e,f,t,p,h),this.matchOne(e.slice(f),t.slice(p),n))return this.debug("globstar found match!",f,s,h),!0;if("."===h||".."===h||!r.dot&&"."===h.charAt(0)){this.debug("dot detected!",e,f,t,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",e,f,t,p),f!==s))}if("string"==typeof l?(u=r.nocase?d.toLowerCase()===l.toLowerCase():d===l,this.debug("string match",l,d,u)):(u=d.match(l),this.debug("pattern match",l,d,u)),!u)return!1}if(o===s&&a===c)return!0;if(o===s)return n;if(a===c)return o===s-1&&""===e[o];throw new Error("wtf?")}},4132:(e,t,n)=>{var r=n(7477);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},3477:e=>{"use strict";function t(e){return"/"===e.charAt(0)}function n(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?n:t,e.exports.posix=t,e.exports.win32=n},8706:()=>{var e;!function(e){!function(t){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=i(e);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===n.Reflect?n.Reflect=e:r=i(n.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,c={create:o?function(){return re(Object.create(null))}:a?function(){return re({__proto__:null})}:function(){return re({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,f=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,p=new(l||"function"!=typeof WeakMap?ne():WeakMap);function h(e,t,n,r){if(M(n)){if(!$(e))throw new TypeError;if(!Y(t))throw new TypeError;return S(e,t)}if(!$(e))throw new TypeError;if(!B(t))throw new TypeError;if(!B(r)&&!M(r)&&!F(r))throw new TypeError;return F(r)&&(r=void 0),R(e,t,n=W(n),r)}function m(e,t){function n(n,r){if(!B(n))throw new TypeError;if(!M(r)&&!G(r))throw new TypeError;x(e,t,n,r)}return n}function g(e,t,n,r){if(!B(n))throw new TypeError;return M(r)||(r=W(r)),x(e,t,n,r)}function y(e,t,n){if(!B(t))throw new TypeError;return M(n)||(n=W(n)),N(e,t,n)}function _(e,t,n){if(!B(t))throw new TypeError;return M(n)||(n=W(n)),O(e,t,n)}function v(e,t,n){if(!B(t))throw new TypeError;return M(n)||(n=W(n)),C(e,t,n)}function b(e,t,n){if(!B(t))throw new TypeError;return M(n)||(n=W(n)),D(e,t,n)}function E(e,t){if(!B(e))throw new TypeError;return M(t)||(t=W(t)),A(e,t)}function T(e,t){if(!B(e))throw new TypeError;return M(t)||(t=W(t)),I(e,t)}function w(e,t,n){if(!B(t))throw new TypeError;M(n)||(n=W(n));var r=P(t,n,!1);if(M(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=p.get(t);return i.delete(n),i.size>0||p.delete(t),!0}function S(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!M(r)&&!F(r)){if(!Y(r))throw new TypeError;t=r}}return t}function R(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!M(o)&&!F(o)){if(!B(o))throw new TypeError;r=o}}return r}function P(e,t,n){var r=p.get(e);if(M(r)){if(!n)return;r=new d,p.set(e,r)}var i=r.get(t);if(M(i)){if(!n)return;i=new d,r.set(t,i)}return i}function N(e,t,n){if(O(e,t,n))return!0;var r=Z(t);return!F(r)&&N(e,r,n)}function O(e,t,n){var r=P(t,n,!1);return!M(r)&&U(r.has(e))}function C(e,t,n){if(O(e,t,n))return D(e,t,n);var r=Z(t);return F(r)?void 0:C(e,r,n)}function D(e,t,n){var r=P(t,n,!1);if(!M(r))return r.get(e)}function x(e,t,n,r){P(n,r,!0).set(e,t)}function A(e,t){var n=I(e,t),r=Z(e);if(null===r)return n;var i=A(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new f,a=[],s=0,c=n;s<c.length;s++){var u=c[s];o.has(u)||(o.add(u),a.push(u))}for(var l=0,d=i;l<d.length;l++){u=d[l];o.has(u)||(o.add(u),a.push(u))}return a}function I(e,t){var n=[],r=P(e,t,!1);if(M(r))return n;for(var i=K(r.keys()),o=0;;){var a=Q(i);if(!a)return n.length=o,n;var s=V(a);try{n[o]=s}catch(e){try{J(i)}finally{throw e}}o++}}function k(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function M(e){return void 0===e}function F(e){return null===e}function j(e){return"symbol"==typeof e}function B(e){return"object"==typeof e?null!==e:"function"==typeof e}function L(e,t){switch(k(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=X(e,r);if(void 0!==i){var o=i.call(e,n);if(B(o))throw new TypeError;return o}return q(e,"default"===n?"number":n)}function q(e,t){if("string"===t){var n=e.toString;if(z(n))if(!B(i=n.call(e)))return i;if(z(r=e.valueOf))if(!B(i=r.call(e)))return i}else{var r;if(z(r=e.valueOf))if(!B(i=r.call(e)))return i;var i,o=e.toString;if(z(o))if(!B(i=o.call(e)))return i}throw new TypeError}function U(e){return!!e}function H(e){return""+e}function W(e){var t=L(e,3);return j(t)?t:H(t)}function $(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function z(e){return"function"==typeof e}function Y(e){return"function"==typeof e}function G(e){switch(k(e)){case 3:case 4:return!0;default:return!1}}function X(e,t){var n=e[t];if(null!=n){if(!z(n))throw new TypeError;return n}}function K(e){var t=X(e,i);if(!z(t))throw new TypeError;var n=t.call(e);if(!B(n))throw new TypeError;return n}function V(e){return e.value}function Q(e){var t=e.next();return!t.done&&t}function J(e){var t=e.return;t&&t.call(e)}function Z(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function ne(){var e=16,n=c.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+u()}while(c.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function u(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",h),e("metadata",m),e("defineMetadata",g),e("hasMetadata",y),e("hasOwnMetadata",_),e("getMetadata",v),e("getOwnMetadata",b),e("getMetadataKeys",E),e("getOwnMetadataKeys",T),e("deleteMetadata",w)}(r)}()}(e||(e={}))},5748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.Trace=t.ProgressType=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.RAL=void 0,t.CancellationStrategy=void 0;const r=n(5285);Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return r.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return r.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return r.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return r.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return r.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return r.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return r.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return r.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return r.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return r.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return r.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return r.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return r.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return r.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return r.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return r.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return r.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return r.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return r.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return r.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return r.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return r.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return r.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return r.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return r.ParameterStructures}});const i=n(8159);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return i.Disposable}});const o=n(345);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return o.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return o.Emitter}});const a=n(7770);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return a.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return a.CancellationToken}});const s=n(4806);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return s.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return s.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return s.ReadableStreamMessageReader}});const c=n(9248);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return c.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return c.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return c.WriteableStreamMessageWriter}});const u=n(6336);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return u.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return u.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return u.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return u.createMessageConnection}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return u.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return u.Trace}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return u.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return u.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return u.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return u.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return u.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return u.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return u.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return u.CancellationStrategy}});const l=n(8094);t.RAL=l.default},7770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const r=n(8094),i=n(8472),o=n(345);var a;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(a=t.CancellationToken||(t.CancellationToken={}));const s=Object.freeze((function(e,t){const n=r.default().timer.setTimeout(e.bind(t),0);return{dispose(){r.default().timer.clearTimeout(n)}}}));class c{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token.cancel():this._token=a.Cancelled}dispose(){this._token?this._token instanceof c&&this._token.dispose():this._token=a.None}}},6336:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.Trace=t.NullLogger=t.ProgressType=void 0;const r=n(8094),i=n(8472),o=n(5285),a=n(5164),s=n(345),c=n(7770);var u,l,d,f,p,h,m,g,y,_,v,b,E;!function(e){e.type=new o.NotificationType("$/cancelRequest")}(u||(u={})),function(e){e.type=new o.NotificationType("$/progress")}(l||(l={}));t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return i.func(e)}}(d||(d={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(f=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){if(!i.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(f=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTrace")}(h=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTrace")}(m=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(g=t.ConnectionErrors||(t.ConnectionErrors={}));class T extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,T.prototype)}}t.ConnectionError=T,function(e){e.is=function(e){const t=e;return t&&i.func(t.cancelUndispatched)}}(y=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new c.CancellationTokenSource}),e.is=function(e){const t=e;return t&&i.func(t.createCancellationTokenSource)}}(_=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation(e,t){e.sendNotification(u.type,{id:t})},cleanup(e){}}),e.is=function(e){const t=e;return t&&i.func(t.sendCancellation)&&i.func(t.cleanup)}}(v=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:_.Message,sender:v.Message}),e.is=function(e){const t=e;return t&&_.is(t.receiver)&&v.is(t.sender)}}(b=t.CancellationStrategy||(t.CancellationStrategy={})),function(e){e.is=function(e){const t=e;return t&&(b.is(t.cancellationStrategy)||y.is(t.connectionStrategy))}}(t.ConnectionOptions||(t.ConnectionOptions={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(E||(E={})),t.createMessageConnection=function(e,n,y,_){const v=void 0!==y?y:t.NullLogger;let w=0,S=0,R=0;const P="2.0";let N;const O=Object.create(null);let C;const D=Object.create(null),x=new Map;let A,I,k=new a.LinkedMap,M=Object.create(null),F=Object.create(null),j=f.Off,B=p.Text,L=E.New;const q=new s.Emitter,U=new s.Emitter,H=new s.Emitter,W=new s.Emitter,$=new s.Emitter,z=_&&_.cancellationStrategy?_.cancellationStrategy:b.Message;function Y(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function G(e,t){var n;o.isRequestMessage(t)?e.set(Y(t.id),t):o.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++R).toString():"res-"+n.toString(),t):e.set("not-"+(++S).toString(),t)}function X(e){}function K(){return L===E.Listening}function V(){return L===E.Closed}function Q(){return L===E.Disposed}function J(){L!==E.New&&L!==E.Listening||(L=E.Closed,U.fire(void 0))}function Z(){A||0===k.size||(A=r.default().timer.setImmediate((()=>{A=void 0,function(){if(0===k.size)return;const e=k.shift();try{o.isRequestMessage(e)?function(e){if(Q())return;function t(t,r,i){const a={jsonrpc:P,id:e.id};t instanceof o.ResponseError?a.error=t.toJson():a.result=void 0===t?null:t,te(a,r,i),n.write(a)}function r(t,r,i){const o={jsonrpc:P,id:e.id,error:t.toJson()};te(o,r,i),n.write(o)}function a(t,r,i){void 0===t&&(t=null);const o={jsonrpc:P,id:e.id,result:t};te(o,r,i),n.write(o)}!function(e){if(j===f.Off||!I)return;if(B===p.Text){let t;j===f.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),I.log(`Received request '${e.method} - (${e.id})'.`,t)}else ne("receive-request",e)}(e);const s=O[e.method];let c,u;s&&(c=s.type,u=s.handler);const l=Date.now();if(u||N){const n=String(e.id),s=z.receiver.createCancellationTokenSource(n);F[n]=s;try{let d;if(u)if(void 0===e.params){if(void 0!==c&&0!==c.numberOfParams)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines ${c.numberOfParams} params but recevied none.`),e.method,l);d=u(s.token)}else if(Array.isArray(e.params)){if(void 0!==c&&c.parameterStructures===o.ParameterStructures.byName)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,l);d=u(...e.params,s.token)}else{if(void 0!==c&&c.parameterStructures===o.ParameterStructures.byPosition)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,l);d=u(e.params,s.token)}else N&&(d=N(e.method,e.params,s.token));const f=d;d?f.then?f.then((r=>{delete F[n],t(r,e.method,l)}),(t=>{delete F[n],t instanceof o.ResponseError?r(t,e.method,l):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)})):(delete F[n],t(d,e.method,l)):(delete F[n],a(d,e.method,l))}catch(a){delete F[n],a instanceof o.ResponseError?t(a,e.method,l):a&&i.string(a.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${a.message}`),e.method,l):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,l)}(e):o.isNotificationMessage(e)?function(e){if(Q())return;let t,n;if(e.method===u.type.method)n=e=>{const t=e.id,n=F[String(t)];n&&n.cancel()};else{const r=D[e.method];r&&(n=r.handler,t=r.type)}if(n||C)try{!function(e){if(j===f.Off||!I||e.method===m.type.method)return;if(B===p.Text){let t;j===f.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),I.log(`Received notification '${e.method}'.`,t)}else ne("receive-notification",e)}(e),n?void 0===e.params?(void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==o.ParameterStructures.byName&&v.error(`Notification ${e.method} defines ${t.numberOfParams} params but recevied none.`),n()):Array.isArray(e.params)?(void 0!==t&&(t.parameterStructures===o.ParameterStructures.byName&&v.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&v.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${e.params.length} argumennts`)),n(...e.params)):(void 0!==t&&t.parameterStructures===o.ParameterStructures.byPosition&&v.error(`Notification ${e.method} defines parameters by position but received parameters by name`),n(e.params)):C&&C(e.method,e.params)}catch(t){t.message?v.error(`Notification handler '${e.method}' failed with message: ${t.message}`):v.error(`Notification handler '${e.method}' failed unexpectedly.`)}else H.fire(e)}(e):o.isResponseMessage(e)?function(e){if(Q())return;if(null===e.id)e.error?v.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):v.error("Received response message without id. No further error information provided.");else{const t=String(e.id),n=M[t];if(function(e,t){if(j===f.Off||!I)return;if(B===p.Text){let n;if(j===f.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";I.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else I.log(`Received response ${e.id} without active response promise.`,n)}else ne("receive-response",e)}(e,n),n){delete M[t];try{if(e.error){const t=e.error;n.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?v.error(`Response handler '${n.method}' failed with message: ${e.message}`):v.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void v.error("Received empty message.");v.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(i.string(t.id)||i.number(t.id)){const e=String(t.id),n=M[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{Z()}}()})))}e.onClose(J),e.onError((function(e){q.fire([e,void 0,void 0])})),n.onClose(J),n.onError((function(e){q.fire(e)}));const ee=e=>{try{if(o.isNotificationMessage(e)&&e.method===u.type.method){const t=Y(e.params.id),r=k.get(t);if(o.isRequestMessage(r)){const i=null==_?void 0:_.connectionStrategy,o=i&&i.cancelUndispatched?i.cancelUndispatched(r,X):void 0;if(o&&(void 0!==o.error||void 0!==o.result))return k.delete(t),o.id=r.id,te(o,e.method,Date.now()),void n.write(o)}}G(k,e)}finally{Z()}};function te(e,t,n){if(j!==f.Off&&I)if(B===p.Text){let r;j===f.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),I.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else ne("send-response",e)}function ne(e,t){if(!I||j===f.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};I.log(n)}function re(){if(V())throw new T(g.Closed,"Connection is closed.");if(Q())throw new T(g.Disposed,"Connection is disposed.")}function ie(e){return void 0===e?null:e}function oe(e){return null===e?void 0:e}function ae(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function se(e,t){switch(e){case o.ParameterStructures.auto:return ae(t)?oe(t):[ie(t)];case o.ParameterStructures.byName:if(!ae(t))throw new Error("Recevied parameters by name but param is not an object literal.");return oe(t);case o.ParameterStructures.byPosition:return[ie(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function ce(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=se(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(ie(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const ue={sendNotification:(e,...t)=>{let r,a;if(re(),i.string(e)){r=e;const n=t[0];let i=0,s=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(i=1,s=n);let c=t.length;const u=c-i;switch(u){case 0:a=void 0;break;case 1:a=se(s,t[i]);break;default:if(s===o.ParameterStructures.byName)throw new Error(`Recevied ${u} parameters for 'by Name' notification parameter structure.`);a=t.slice(i,c).map((e=>ie(e)))}}else{const n=t;r=e.method,a=ce(e,n)}const s={jsonrpc:P,method:r,params:a};!function(e){if(j!==f.Off&&I)if(B===p.Text){let t;j===f.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),I.log(`Sending notification '${e.method}'.`,t)}else ne("send-notification",e)}(s),n.write(s)},onNotification:(e,t)=>{let n;return re(),i.func(e)?C=e:t&&(i.string(e)?(n=e,D[e]={type:void 0,handler:t}):(n=e.method,D[e.method]={type:e,handler:t})),{dispose:()=>{void 0!==n?delete D[n]:C=void 0}}},onProgress:(e,t,n)=>{if(x.has(t))throw new Error(`Progress handler for token ${t} already registered`);return x.set(t,n),{dispose:()=>{x.delete(t)}}},sendProgress:(e,t,n)=>{ue.sendNotification(l.type,{token:t,value:n})},onUnhandledProgress:W.event,sendRequest:(e,...t)=>{let r,a,s;if(re(),function(){if(!K())throw new Error("Call listen() first.")}(),i.string(e)){r=e;const n=t[0],i=t[t.length-1];let u=0,l=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(u=1,l=n);let d=t.length;c.CancellationToken.is(i)&&(d-=1,s=i);const f=d-u;switch(f){case 0:a=void 0;break;case 1:a=se(l,t[u]);break;default:if(l===o.ParameterStructures.byName)throw new Error(`Recevied ${f} parameters for 'by Name' request parameter structure.`);a=t.slice(u,d).map((e=>ie(e)))}}else{const n=t;r=e.method,a=ce(e,n);const i=e.numberOfParams;s=c.CancellationToken.is(n[i])?n[i]:void 0}const u=w++;let l;s&&(l=s.onCancellationRequested((()=>{z.sender.sendCancellation(ue,u)})));return new Promise(((e,t)=>{const i={jsonrpc:P,id:u,method:r,params:a};let s={method:r,timerStart:Date.now(),resolve:t=>{e(t),z.sender.cleanup(u),null==l||l.dispose()},reject:e=>{t(e),z.sender.cleanup(u),null==l||l.dispose()}};!function(e){if(j!==f.Off&&I)if(B===p.Text){let t;j===f.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),I.log(`Sending request '${e.method} - (${e.id})'.`,t)}else ne("send-request",e)}(i);try{n.write(i)}catch(e){s.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),s=null}s&&(M[String(u)]=s)}))},onRequest:(e,t)=>{re();let n=null;return d.is(e)?(n=void 0,N=e):i.string(e)?(n=null,void 0!==t&&(n=e,O[e]={handler:t,type:void 0})):void 0!==t&&(n=e.method,O[e.method]={type:e,handler:t}),{dispose:()=>{null!==n&&(void 0!==n?delete O[n]:N=void 0)}}},trace:(e,t,n)=>{let r=!1,o=p.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||p.Text)),j=e,B=o,I=j===f.Off?void 0:t,!r||V()||Q()||ue.sendNotification(h.type,{value:f.toString(e)})},onError:q.event,onClose:U.event,onUnhandledNotification:H.event,onDispose:$.event,end:()=>{n.end()},dispose:()=>{if(Q())return;L=E.Disposed,$.fire(void 0);const t=new Error("Connection got disposed.");Object.keys(M).forEach((e=>{M[e].reject(t)})),M=Object.create(null),F=Object.create(null),k=new a.LinkedMap,i.func(n.dispose)&&n.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{re(),function(){if(K())throw new T(g.AlreadyListening,"Connection is already listening")}(),L=E.Listening,e.listen(ee)},inspect:()=>{r.default().console.log("inspect")}};return ue.onNotification(m.type,(e=>{j!==f.Off&&I&&I.log(e.message,j===f.Verbose?e.verbose:void 0)})),ue.onNotification(l.type,(e=>{const t=x.get(e.token);t?t(e.value):W.fire(e)})),ue}},8159:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={}))},345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const r=n(8094);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class i{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,a=n.length;o<a;o++)try{t.push(n[o].apply(i[o],e))}catch(e){r.default().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class o{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new i),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),r.dispose=o._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=o,o._noop=function(){}},8472:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))}},5164:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(n=t.Touch||(t.Touch={}));class r{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=n.None){const r=this._map.get(e);if(r)return t!==n.None&&this.touch(r,t),r.value}set(e,t,r=n.None){let i=this._map.get(e);if(i)i.value=t,r!==n.None&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case n.None:this.addItemLast(i);break;case n.First:this.addItemFirst(i);break;case n.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.key,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.value,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:[n.key,n.value],done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===n.First||t===n.Last)if(t===n.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===n.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=r;t.LRUCache=class extends r{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=n.AsNew){return super.get(e,t)}peek(e){return super.get(e,n.None)}set(e,t){return super.set(e,t,n.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},5506:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0;t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,n=0,r=0;e:for(;t<this._chunks.length;){const i=this._chunks[t];for(n=0;n<i.length;){switch(i[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}r+=i.byteLength,t++}if(4!==e)return;const i=this._read(r+n),o=new Map,a=this.toString(i,"ascii").split("\r\n");if(a.length<2)return o;for(let e=0;e<a.length-2;e++){const t=a[e],n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");const r=t.substr(0,n),i=t.substr(n+1).trim();o.set(r,i)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const r=this._chunks[0];if(r.byteLength>e){const i=r.slice(0,e);t.set(i,n),n+=e,this._chunks[0]=r.slice(e),this._totalLength-=e,e-=e}else t.set(r,n),n+=r.byteLength,this._chunks.shift(),this._totalLength-=r.byteLength,e-=r.byteLength}return t}}},4806:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const r=n(8094),i=n(8472),o=n(345);var a;!function(e){e.is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class s{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=s,function(e){e.fromOptions=function(e){var t;let n,i;const o=new Map;let a;const s=new Map;if(void 0===e||"string"==typeof e)n=null!=e?e:"utf-8";else{if(n=null!==(t=e.charset)&&void 0!==t?t:"utf-8",void 0!==e.contentDecoder&&(i=e.contentDecoder,o.set(i.name,i)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)o.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(a=e.contentTypeDecoder,s.set(a.name,a)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)s.set(t.name,t)}return void 0===a&&(a=r.default().applicationJson.decoder,s.set(a.name,a)),{charset:n,contentDecoder:i,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:s}}}(a||(a={}));t.ReadableStreamMessageReader=class extends s{constructor(e,t){super(),this.readable=e,this.options=a.fromOptions(t),this.buffer=r.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then((e=>{this.options.contentTypeDecoder.decode(e,this.options).then((e=>{this.callback(e)}),(e=>{this.fireError(e)}))}),(e=>{this.fireError(e)}))}}clearPartialMessageTimer(){this.partialMessageTimer&&(r.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=r.default().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},9248:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const r=n(8094),i=n(8472),o=n(6791),a=n(345);var s;!function(e){e.is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class c{constructor(){this.errorEmitter=new a.Emitter,this.closeEmitter=new a.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=c,function(e){e.fromOptions=function(e){var t,n;return void 0===e||"string"==typeof e?{charset:null!=e?e:"utf-8",contentTypeEncoder:r.default().applicationJson.encoder}:{charset:null!==(t=e.charset)&&void 0!==t?t:"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:null!==(n=e.contentTypeEncoder)&&void 0!==n?n:r.default().applicationJson.encoder}}}(s||(s={}));t.WriteableStreamMessageWriter=class extends c{constructor(e,t){super(),this.writable=e,this.options=s.fromOptions(t),this.errorCount=0,this.writeSemaphore=new o.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},5285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isResponseMessage=t.isNotificationMessage=t.isRequestMessage=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const r=n(8472);var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=e.jsonrpcReservedErrorRangeStart,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=e.jsonrpcReservedErrorRangeEnd}(i=t.ErrorCodes||(t.ErrorCodes={}));class o extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,o.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=o;class a{constructor(e){this.kind=e}static is(e){return e===a.auto||e===a.byName||e===a.byPosition}toString(){return this.kind}}t.ParameterStructures=a,a.auto=new a("auto"),a.byPosition=new a("byPosition"),a.byName=new a("byName");class s{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return a.auto}}t.AbstractMessageSignature=s;t.RequestType0=class extends s{constructor(e){super(e,0)}};t.RequestType=class extends s{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.RequestType1=class extends s{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.RequestType2=class extends s{constructor(e){super(e,2)}};t.RequestType3=class extends s{constructor(e){super(e,3)}};t.RequestType4=class extends s{constructor(e){super(e,4)}};t.RequestType5=class extends s{constructor(e){super(e,5)}};t.RequestType6=class extends s{constructor(e){super(e,6)}};t.RequestType7=class extends s{constructor(e){super(e,7)}};t.RequestType8=class extends s{constructor(e){super(e,8)}};t.RequestType9=class extends s{constructor(e){super(e,9)}};t.NotificationType=class extends s{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.NotificationType0=class extends s{constructor(e){super(e,0)}};t.NotificationType1=class extends s{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.NotificationType2=class extends s{constructor(e){super(e,2)}};t.NotificationType3=class extends s{constructor(e){super(e,3)}};t.NotificationType4=class extends s{constructor(e){super(e,4)}};t.NotificationType5=class extends s{constructor(e){super(e,5)}};t.NotificationType6=class extends s{constructor(e){super(e,6)}};t.NotificationType7=class extends s{constructor(e){super(e,7)}};t.NotificationType8=class extends s{constructor(e){super(e,8)}};t.NotificationType9=class extends s{constructor(e){super(e,9)}},t.isRequestMessage=function(e){const t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function(e){const t=e;return t&&r.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},8094:(e,t)=>{"use strict";let n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},6791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const r=n(8094);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&r.default().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},1694:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const o=n(3590);o.default.install();const a=n(5748),s=n(5622),c=n(2087),u=n(6417),l=n(1631);i(n(5748),t);class d extends a.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){return this.process.on("message",e),a.Disposable.create((()=>this.process.off("message",e)))}}t.IPCMessageReader=d;class f extends a.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,(t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0})),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=f;class p extends a.ReadableStreamMessageReader{constructor(e,t="utf-8"){super(o.default().stream.asReadableStream(e),t)}}t.SocketMessageReader=p;class h extends a.WriteableStreamMessageWriter{constructor(e,t){super(o.default().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=h;class m extends a.ReadableStreamMessageReader{constructor(e,t){super(o.default().stream.asReadableStream(e),t)}}t.StreamMessageReader=m;class g extends a.WriteableStreamMessageWriter{constructor(e,t){super(o.default().stream.asWritableStream(e),t)}}t.StreamMessageWriter=g;const y=process.env.XDG_RUNTIME_DIR,_=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function(){const e=u.randomBytes(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;t=y?s.join(y,`vscode-ipc-${e}.sock`):s.join(c.tmpdir(),`vscode-${e}.sock`);const n=_.get(process.platform);return void 0!==n&&t.length>=n&&o.default().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t},t.createClientPipeTransport=function(e,t="utf-8"){let n;const r=new Promise(((e,t)=>{n=e}));return new Promise(((i,o)=>{let a=l.createServer((e=>{a.close(),n([new p(e,t),new h(e,t)])}));a.on("error",o),a.listen(e,(()=>{a.removeListener("error",o),i({onConnected:()=>r})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const n=l.createConnection(e);return[new p(n,t),new h(n,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let n;const r=new Promise(((e,t)=>{n=e}));return new Promise(((i,o)=>{const a=l.createServer((e=>{a.close(),n([new p(e,t),new h(e,t)])}));a.on("error",o),a.listen(e,"127.0.0.1",(()=>{a.removeListener("error",o),i({onConnected:()=>r})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const n=l.createConnection(e,"127.0.0.1");return[new p(n,t),new h(n,t)]},t.createMessageConnection=function(e,t,n,r){n||(n=a.NullLogger);const i=function(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new m(e):e,o=function(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new g(t):t;return a.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),a.createMessageConnection(i,o,n,r)}},3590:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8094),i=n(1669),o=n(8159),a=n(5506);class s extends a.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return s.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new i.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}s.emptyBuffer=Buffer.allocUnsafe(0);class c{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),o.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),o.Disposable.create((()=>this.stream.off("end",e)))}onData(e){return this.stream.on("data",e),o.Disposable.create((()=>this.stream.off("data",e)))}}class u{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),o.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),o.Disposable.create((()=>this.stream.off("end",e)))}write(e,t){return new Promise(((n,r)=>{const i=e=>{null==e?n():r(e)};"string"==typeof e?this.stream.write(e,t,i):this.stream.write(e,i)}))}end(){this.stream.end()}}const l=Object.freeze({messageBuffer:Object.freeze({create:e=>new s(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new i.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new c(e),asWritableStream:e=>new u(e)}),console,timer:Object.freeze({setTimeout:(e,t,...n)=>setTimeout(e,t,...n),clearTimeout(e){clearTimeout(e)},setImmediate:(e,...t)=>setImmediate(e,...t),clearImmediate(e){clearImmediate(e)}})});function d(){return l}!function(e){e.install=function(){r.default.install(l)}}(d||(d={})),t.default=d},2659:(e,t,n)=>{"use strict";e.exports=n(1694)},559:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,i(n(1694),t),i(n(2880),t),i(n(4742),t),i(n(7304),t);var o=n(7558);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return o.createProtocolConnection}}),function(e){e.lspReservedErrorRangeStart=-32899,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800}(t.LSPErrorCodes||(t.LSPErrorCodes={}))},7558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=n(1694);t.createProtocolConnection=function(e,t,n,i){return r.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),r.createMessageConnection(e,t,n,i)}},4742:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=void 0;const r=n(1694);t.RegistrationType=class{constructor(e){this.method=e}};class i extends r.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=i;class o extends r.RequestType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolRequestType=o;class a extends r.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=a;class s extends r.NotificationType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolNotificationType=s},2565:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;const r=n(4742);!function(e){e.method="textDocument/prepareCallHierarchy",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})),function(e){e.method="callHierarchy/incomingCalls",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})),function(e){e.method="callHierarchy/outgoingCalls",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={}))},5509:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;const r=n(4742);!function(e){e.method="textDocument/documentColor",e.type=new r.ProtocolRequestType(e.method)}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.type=new r.ProtocolRequestType("textDocument/colorPresentation")}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},7296:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;const r=n(4742);!function(e){e.type=new r.ProtocolRequestType("workspace/configuration")}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},9137:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;const r=n(4742);!function(e){e.method="textDocument/declaration",e.type=new r.ProtocolRequestType(e.method)}(t.DeclarationRequest||(t.DeclarationRequest={}))},2235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;const r=n(4742);!function(e){e.file="file",e.folder="folder"}(t.FileOperationPatternKind||(t.FileOperationPatternKind={})),function(e){e.method="workspace/willCreateFiles",e.type=new r.ProtocolRequestType(e.method)}(t.WillCreateFilesRequest||(t.WillCreateFilesRequest={})),function(e){e.method="workspace/didCreateFiles",e.type=new r.ProtocolNotificationType(e.method)}(t.DidCreateFilesNotification||(t.DidCreateFilesNotification={})),function(e){e.method="workspace/willRenameFiles",e.type=new r.ProtocolRequestType(e.method)}(t.WillRenameFilesRequest||(t.WillRenameFilesRequest={})),function(e){e.method="workspace/didRenameFiles",e.type=new r.ProtocolNotificationType(e.method)}(t.DidRenameFilesNotification||(t.DidRenameFilesNotification={})),function(e){e.method="workspace/didDeleteFiles",e.type=new r.ProtocolNotificationType(e.method)}(t.DidDeleteFilesNotification||(t.DidDeleteFilesNotification={})),function(e){e.method="workspace/willDeleteFiles",e.type=new r.ProtocolRequestType(e.method)}(t.WillDeleteFilesRequest||(t.WillDeleteFilesRequest={}))},5171:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRequest=t.FoldingRangeKind=void 0;const r=n(4742);!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.method="textDocument/foldingRange",e.type=new r.ProtocolRequestType(e.method)}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},2441:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;const r=n(4742);!function(e){e.method="textDocument/implementation",e.type=new r.ProtocolRequestType(e.method)}(t.ImplementationRequest||(t.ImplementationRequest={}))},7304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeError=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.DocumentFilter=void 0,t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=void 0;const r=n(9348),i=n(4742),o=n(2441);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return o.ImplementationRequest}});const a=n(8685);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return a.TypeDefinitionRequest}});const s=n(1343);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return s.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return s.DidChangeWorkspaceFoldersNotification}});const c=n(7296);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return c.ConfigurationRequest}});const u=n(5509);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return u.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return u.ColorPresentationRequest}});const l=n(5171);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return l.FoldingRangeRequest}});const d=n(9137);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return d.DeclarationRequest}});const f=n(2964);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return f.SelectionRangeRequest}});const p=n(7450);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return p.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return p.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return p.WorkDoneProgressCancelNotification}});const h=n(2565);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return h.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return h.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return h.CallHierarchyPrepareRequest}});const m=n(5402);Object.defineProperty(t,"SemanticTokenTypes",{enumerable:!0,get:function(){return m.SemanticTokenTypes}}),Object.defineProperty(t,"SemanticTokenModifiers",{enumerable:!0,get:function(){return m.SemanticTokenModifiers}}),Object.defineProperty(t,"SemanticTokens",{enumerable:!0,get:function(){return m.SemanticTokens}}),Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return m.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return m.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return m.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return m.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return m.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return m.SemanticTokensRegistrationType}});const g=n(903);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return g.ShowDocumentRequest}});const y=n(7323);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return y.LinkedEditingRangeRequest}});const _=n(2235);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return _.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return _.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return _.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return _.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return _.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return _.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return _.WillDeleteFilesRequest}});const v=n(9219);var b,E;Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return v.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return v.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return v.MonikerRequest}}),function(e){e.is=function(e){const t=e;return r.string(t.language)||r.string(t.scheme)||r.string(t.pattern)}}(b=t.DocumentFilter||(t.DocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!r.string(t)&&!b.is(t))return!1;return!0}}(E=t.DocumentSelector||(t.DocumentSelector={})),function(e){e.type=new i.ProtocolRequestType("client/registerCapability")}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.type=new i.ProtocolRequestType("client/unregisterCapability")}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.hasId=function(e){const t=e;return t&&r.string(t.id)&&t.id.length>0}}(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})),function(e){e.is=function(e){const t=e;return t&&(null===t.documentSelector||E.is(t.documentSelector))}}(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})),function(e){e.is=function(e){const t=e;return r.objectLiteral(t)&&(void 0===t.workDoneProgress||r.boolean(t.workDoneProgress))},e.hasWorkDoneProgress=function(e){const t=e;return t&&r.boolean(t.workDoneProgress)}}(t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})),function(e){e.type=new i.ProtocolRequestType("initialize")}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeError||(t.InitializeError={})),function(e){e.type=new i.ProtocolNotificationType("initialized")}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.type=new i.ProtocolRequestType0("shutdown")}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.type=new i.ProtocolNotificationType0("exit")}(t.ExitNotification||(t.ExitNotification={})),function(e){e.type=new i.ProtocolNotificationType("workspace/didChangeConfiguration")}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.type=new i.ProtocolNotificationType("window/showMessage")}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.type=new i.ProtocolRequestType("window/showMessageRequest")}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.type=new i.ProtocolNotificationType("window/logMessage")}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.type=new i.ProtocolNotificationType("telemetry/event")}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.method="textDocument/didOpen",e.type=new i.ProtocolNotificationType(e.method)}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.isIncremental=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},e.isFull=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}(t.TextDocumentContentChangeEvent||(t.TextDocumentContentChangeEvent={})),function(e){e.method="textDocument/didChange",e.type=new i.ProtocolNotificationType(e.method)}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.method="textDocument/didClose",e.type=new i.ProtocolNotificationType(e.method)}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.method="textDocument/didSave",e.type=new i.ProtocolNotificationType(e.method)}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})),function(e){e.method="textDocument/willSave",e.type=new i.ProtocolNotificationType(e.method)}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.method="textDocument/willSaveWaitUntil",e.type=new i.ProtocolRequestType(e.method)}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.type=new i.ProtocolNotificationType("workspace/didChangeWatchedFiles")}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.type=new i.ProtocolNotificationType("textDocument/publishDiagnostics")}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.method="textDocument/completion",e.type=new i.ProtocolRequestType(e.method)}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.method="completionItem/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.method="textDocument/hover",e.type=new i.ProtocolRequestType(e.method)}(t.HoverRequest||(t.HoverRequest={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3}(t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})),function(e){e.method="textDocument/signatureHelp",e.type=new i.ProtocolRequestType(e.method)}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.method="textDocument/definition",e.type=new i.ProtocolRequestType(e.method)}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.method="textDocument/references",e.type=new i.ProtocolRequestType(e.method)}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.method="textDocument/documentHighlight",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.method="textDocument/documentSymbol",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.method="textDocument/codeAction",e.type=new i.ProtocolRequestType(e.method)}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.method="codeAction/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.CodeActionResolveRequest||(t.CodeActionResolveRequest={})),function(e){e.method="workspace/symbol",e.type=new i.ProtocolRequestType(e.method)}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.method="textDocument/codeLens",e.type=new i.ProtocolRequestType(e.method)}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.method="codeLens/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.method="workspace/codeLens/refresh",e.type=new i.ProtocolRequestType0(e.method)}(t.CodeLensRefreshRequest||(t.CodeLensRefreshRequest={})),function(e){e.method="textDocument/documentLink",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.method="documentLink/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.method="textDocument/formatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.method="textDocument/rangeFormatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.method="textDocument/onTypeFormatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.Identifier=1}(t.PrepareSupportDefaultBehavior||(t.PrepareSupportDefaultBehavior={})),function(e){e.method="textDocument/rename",e.type=new i.ProtocolRequestType(e.method)}(t.RenameRequest||(t.RenameRequest={})),function(e){e.method="textDocument/prepareRename",e.type=new i.ProtocolRequestType(e.method)}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.type=new i.ProtocolRequestType("workspace/executeCommand")}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.type=new i.ProtocolRequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},7323:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;const r=n(4742);!function(e){e.method="textDocument/linkedEditingRange",e.type=new r.ProtocolRequestType(e.method)}(t.LinkedEditingRangeRequest||(t.LinkedEditingRangeRequest={}))},9219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;const r=n(4742);!function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"}(t.UniquenessLevel||(t.UniquenessLevel={})),function(e){e.import="import",e.export="export",e.local="local"}(t.MonikerKind||(t.MonikerKind={})),function(e){e.method="textDocument/moniker",e.type=new r.ProtocolRequestType(e.method)}(t.MonikerRequest||(t.MonikerRequest={}))},7450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;const r=n(1694),i=n(4742);!function(e){e.type=new r.ProgressType,e.is=function(t){return t===e.type}}(t.WorkDoneProgress||(t.WorkDoneProgress={})),function(e){e.type=new i.ProtocolRequestType("window/workDoneProgress/create")}(t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})),function(e){e.type=new i.ProtocolNotificationType("window/workDoneProgress/cancel")}(t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={}))},2964:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;const r=n(4742);!function(e){e.method="textDocument/selectionRange",e.type=new r.ProtocolRequestType(e.method)}(t.SelectionRangeRequest||(t.SelectionRangeRequest={}))},5402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=void 0;const r=n(4742);!function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator"}(t.SemanticTokenTypes||(t.SemanticTokenTypes={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(t.SemanticTokenModifiers||(t.SemanticTokenModifiers={})),function(e){e.is=function(e){const t=e;return void 0!==t&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(t.SemanticTokens||(t.SemanticTokens={})),function(e){e.Relative="relative"}(t.TokenFormat||(t.TokenFormat={})),function(e){e.method="textDocument/semanticTokens",e.type=new r.RegistrationType(e.method)}(t.SemanticTokensRegistrationType||(t.SemanticTokensRegistrationType={})),function(e){e.method="textDocument/semanticTokens/full",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensRequest||(t.SemanticTokensRequest={})),function(e){e.method="textDocument/semanticTokens/full/delta",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensDeltaRequest||(t.SemanticTokensDeltaRequest={})),function(e){e.method="textDocument/semanticTokens/range",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={})),function(e){e.method="workspace/semanticTokens/refresh",e.type=new r.ProtocolRequestType0(e.method)}(t.SemanticTokensRefreshRequest||(t.SemanticTokensRefreshRequest={}))},903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;const r=n(4742);!function(e){e.method="window/showDocument",e.type=new r.ProtocolRequestType(e.method)}(t.ShowDocumentRequest||(t.ShowDocumentRequest={}))},8685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;const r=n(4742);!function(e){e.method="textDocument/typeDefinition",e.type=new r.ProtocolRequestType(e.method)}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},1343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;const r=n(4742);!function(e){e.type=new r.ProtocolRequestType0("workspace/workspaceFolders")}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.type=new r.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},9348:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},7745:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const o=n(2659);i(n(2659),t),i(n(559),t),t.createProtocolConnection=function(e,t,n,r){return o.createMessageConnection(e,t,n,r)}},4057:(e,t,n)=>{"use strict";e.exports=n(7745)},6288:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TextDocument:()=>r});var r,i=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(t,n){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(e.isIncremental(o)){var c=s(o.range),u=this.offsetAt(c.start),l=this.offsetAt(c.end);this._content=this._content.substring(0,u)+o.text+this._content.substring(l,this._content.length);var d=Math.max(c.start.line,0),f=Math.max(c.end.line,0),p=this._lineOffsets,h=a(o.text,!1,u);if(f-d===h.length)for(var m=0,g=h.length;m<g;m++)p[m+d+1]=h[m];else h.length<1e4?p.splice.apply(p,[d+1,f-d].concat(h)):this._lineOffsets=p=p.slice(0,d+1).concat(h,p.slice(f+1));var y=o.text.length-(l-u);if(0!==y)for(m=d+1+h.length,g=p.length;m<g;m++)p[m]=p[m]+y}else{if(!e.isFull(o))throw new Error("Unknown change event received");this._content=o.text,this._lineOffsets=void 0}}this._version=n},e.prototype.getLineOffsets=function(){return void 0===this._lineOffsets&&(this._lineOffsets=a(this._content,!0)),this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return{line:0,character:e};for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var o=n-1;return{line:o,character:e-t[o]}},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e.isIncremental=function(e){var t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},e.isFull=function(e){var t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength},e}();function o(e,t){if(e.length<=1)return e;var n=e.length/2|0,r=e.slice(0,n),i=e.slice(n);o(r,t),o(i,t);for(var a=0,s=0,c=0;a<r.length&&s<i.length;){var u=t(r[a],i[s]);e[c++]=u<=0?r[a++]:i[s++]}for(;a<r.length;)e[c++]=r[a++];for(;s<i.length;)e[c++]=i[s++];return e}function a(e,t,n){void 0===n&&(n=0);for(var r=t?[n]:[],i=0;i<e.length;i++){var o=e.charCodeAt(i);13!==o&&10!==o||(13===o&&i+1<e.length&&10===e.charCodeAt(i+1)&&i++,r.push(n+i+1))}return r}function s(e){var t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function c(e){var t=s(e.range);return t!==e.range?{newText:e.newText,range:t}:e}!function(e){e.create=function(e,t,n,r){return new i(e,t,n,r)},e.update=function(e,t,n){if(e instanceof i)return e.update(t,n),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")},e.applyEdits=function(e,t){for(var n=e.getText(),r=0,i=[],a=0,s=o(t.map(c),(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n}));a<s.length;a++){var u=s[a],l=e.offsetAt(u.range.start);if(l<r)throw new Error("Overlapping edit");l>r&&i.push(n.substring(r,l)),u.newText.length&&i.push(u.newText),r=e.offsetAt(u.range.end)}return i.push(n.substr(r)),i.join("")}}(r||(r={}))},2880:(e,t,n)=>{"use strict";var r,i,o,a,s,c,u,l,d,f,p,h,m,g,y,_,v,b,E,T,w,S,R,P,N,O;n.r(t),n.d(t,{integer:()=>r,uinteger:()=>i,Position:()=>o,Range:()=>a,Location:()=>s,LocationLink:()=>c,Color:()=>u,ColorInformation:()=>l,ColorPresentation:()=>d,FoldingRangeKind:()=>f,FoldingRange:()=>p,DiagnosticRelatedInformation:()=>h,DiagnosticSeverity:()=>m,DiagnosticTag:()=>g,CodeDescription:()=>y,Diagnostic:()=>_,Command:()=>v,TextEdit:()=>b,ChangeAnnotation:()=>E,ChangeAnnotationIdentifier:()=>T,AnnotatedTextEdit:()=>w,TextDocumentEdit:()=>S,CreateFile:()=>R,RenameFile:()=>P,DeleteFile:()=>N,WorkspaceEdit:()=>O,WorkspaceChange:()=>se,TextDocumentIdentifier:()=>C,VersionedTextDocumentIdentifier:()=>D,OptionalVersionedTextDocumentIdentifier:()=>x,TextDocumentItem:()=>A,MarkupKind:()=>I,MarkupContent:()=>k,CompletionItemKind:()=>M,InsertTextFormat:()=>F,CompletionItemTag:()=>j,InsertReplaceEdit:()=>B,InsertTextMode:()=>L,CompletionItem:()=>q,CompletionList:()=>U,MarkedString:()=>H,Hover:()=>W,ParameterInformation:()=>$,SignatureInformation:()=>z,DocumentHighlightKind:()=>Y,DocumentHighlight:()=>G,SymbolKind:()=>X,SymbolTag:()=>K,SymbolInformation:()=>V,DocumentSymbol:()=>Q,CodeActionKind:()=>J,CodeActionContext:()=>Z,CodeAction:()=>ee,CodeLens:()=>te,FormattingOptions:()=>ne,DocumentLink:()=>re,SelectionRange:()=>ie,EOL:()=>ue,TextDocument:()=>ce}),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647}(r||(r={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647}(i||(i={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=i.MAX_VALUE),t===Number.MAX_VALUE&&(t=i.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return le.objectLiteral(t)&&le.uinteger(t.line)&&le.uinteger(t.character)}}(o||(o={})),function(e){e.create=function(e,t,n,r){if(le.uinteger(e)&&le.uinteger(t)&&le.uinteger(n)&&le.uinteger(r))return{start:o.create(e,t),end:o.create(n,r)};if(o.is(e)&&o.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+r+"]")},e.is=function(e){var t=e;return le.objectLiteral(t)&&o.is(t.start)&&o.is(t.end)}}(a||(a={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return le.defined(t)&&a.is(t.range)&&(le.string(t.uri)||le.undefined(t.uri))}}(s||(s={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return le.defined(t)&&a.is(t.targetRange)&&le.string(t.targetUri)&&(a.is(t.targetSelectionRange)||le.undefined(t.targetSelectionRange))&&(a.is(t.originSelectionRange)||le.undefined(t.originSelectionRange))}}(c||(c={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return le.numberRange(t.red,0,1)&&le.numberRange(t.green,0,1)&&le.numberRange(t.blue,0,1)&&le.numberRange(t.alpha,0,1)}}(u||(u={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return a.is(t.range)&&u.is(t.color)}}(l||(l={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return le.string(t.label)&&(le.undefined(t.textEdit)||b.is(t))&&(le.undefined(t.additionalTextEdits)||le.typedArray(t.additionalTextEdits,b.is))}}(d||(d={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(f||(f={})),function(e){e.create=function(e,t,n,r,i){var o={startLine:e,endLine:t};return le.defined(n)&&(o.startCharacter=n),le.defined(r)&&(o.endCharacter=r),le.defined(i)&&(o.kind=i),o},e.is=function(e){var t=e;return le.uinteger(t.startLine)&&le.uinteger(t.startLine)&&(le.undefined(t.startCharacter)||le.uinteger(t.startCharacter))&&(le.undefined(t.endCharacter)||le.uinteger(t.endCharacter))&&(le.undefined(t.kind)||le.string(t.kind))}}(p||(p={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return le.defined(t)&&s.is(t.location)&&le.string(t.message)}}(h||(h={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(m||(m={})),function(e){e.Unnecessary=1,e.Deprecated=2}(g||(g={})),function(e){e.is=function(e){var t=e;return null!=t&&le.string(t.href)}}(y||(y={})),function(e){e.create=function(e,t,n,r,i,o){var a={range:e,message:t};return le.defined(n)&&(a.severity=n),le.defined(r)&&(a.code=r),le.defined(i)&&(a.source=i),le.defined(o)&&(a.relatedInformation=o),a},e.is=function(e){var t,n=e;return le.defined(n)&&a.is(n.range)&&le.string(n.message)&&(le.number(n.severity)||le.undefined(n.severity))&&(le.integer(n.code)||le.string(n.code)||le.undefined(n.code))&&(le.undefined(n.codeDescription)||le.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(le.string(n.source)||le.undefined(n.source))&&(le.undefined(n.relatedInformation)||le.typedArray(n.relatedInformation,h.is))}}(_||(_={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return le.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.title)&&le.string(t.command)}}(v||(v={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return le.objectLiteral(t)&&le.string(t.newText)&&a.is(t.range)}}(b||(b={})),function(e){e.create=function(e,t,n){var r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){var t=e;return void 0!==t&&le.objectLiteral(t)&&le.string(t.label)&&(le.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(le.string(t.description)||void 0===t.description)}}(E||(E={})),function(e){e.is=function(e){return"string"==typeof e}}(T||(T={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return b.is(t)&&(E.is(t.annotationId)||T.is(t.annotationId))}}(w||(w={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return le.defined(t)&&x.is(t.textDocument)&&Array.isArray(t.edits)}}(S||(S={})),function(e){e.create=function(e,t,n){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"create"===t.kind&&le.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||le.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||le.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||T.is(t.annotationId))}}(R||(R={})),function(e){e.create=function(e,t,n,r){var i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},e.is=function(e){var t=e;return t&&"rename"===t.kind&&le.string(t.oldUri)&&le.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||le.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||le.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||T.is(t.annotationId))}}(P||(P={})),function(e){e.create=function(e,t,n){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"delete"===t.kind&&le.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||le.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||le.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||T.is(t.annotationId))}}(N||(N={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return le.string(e.kind)?R.is(e)||P.is(e)||N.is(e):S.is(e)})))}}(O||(O={}));var C,D,x,A,I,k,M,F,j,B,L,q,U,H,W,$,z,Y,G,X,K,V,Q,J,Z,ee,te,ne,re,ie,oe=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var r,i;if(void 0===n?r=b.insert(e,t):T.is(n)?(i=n,r=w.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=w.insert(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.replace=function(e,t,n){var r,i;if(void 0===n?r=b.replace(e,t):T.is(n)?(i=n,r=w.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=w.replace(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.delete=function(e,t){var n,r;if(void 0===t?n=b.del(e):T.is(t)?(r=t,n=w.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=w.del(e,r)),this.edits.push(n),void 0!==r)return r},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),ae=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(T.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id "+n+" is already in use.");if(void 0===t)throw new Error("No annotation provided for id "+n);return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),se=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new ae(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(S.is(e)){var n=new oe(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new oe(e.changes[n]);t._textEditChanges[n]=r}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(x.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new oe(i,this._changeAnnotations),this._textEditChanges[t.uri]=r}return r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new oe(i),this._textEditChanges[e]=r}return r},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new ae,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(E.is(t)||T.is(t)?r=t:n=t,void 0===r?i=R.create(e,n):(o=T.is(r)?r:this._changeAnnotations.manage(r),i=R.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e.prototype.renameFile=function(e,t,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,o,a;if(E.is(n)||T.is(n)?i=n:r=n,void 0===i?o=P.create(e,t,r):(a=T.is(i)?i:this._changeAnnotations.manage(i),o=P.create(e,t,r,a)),this._workspaceEdit.documentChanges.push(o),void 0!==a)return a},e.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(E.is(t)||T.is(t)?r=t:n=t,void 0===r?i=N.create(e,n):(o=T.is(r)?r:this._changeAnnotations.manage(r),i=N.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.uri)}}(C||(C={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.uri)&&le.integer(t.version)}}(D||(D={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.uri)&&(null===t.version||le.integer(t.version))}}(x||(x={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.uri)&&le.string(t.languageId)&&le.integer(t.version)&&le.string(t.text)}}(A||(A={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(I||(I={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(I||(I={})),function(e){e.is=function(e){var t=e;return le.objectLiteral(e)&&I.is(t.kind)&&le.string(t.value)}}(k||(k={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(M||(M={})),function(e){e.PlainText=1,e.Snippet=2}(F||(F={})),function(e){e.Deprecated=1}(j||(j={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){var t=e;return t&&le.string(t.newText)&&a.is(t.insert)&&a.is(t.replace)}}(B||(B={})),function(e){e.asIs=1,e.adjustIndentation=2}(L||(L={})),function(e){e.create=function(e){return{label:e}}}(q||(q={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(U||(U={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return le.string(t)||le.objectLiteral(t)&&le.string(t.language)&&le.string(t.value)}}(H||(H={})),function(e){e.is=function(e){var t=e;return!!t&&le.objectLiteral(t)&&(k.is(t.contents)||H.is(t.contents)||le.typedArray(t.contents,H.is))&&(void 0===e.range||a.is(e.range))}}(W||(W={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}($||($={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return le.defined(t)&&(i.documentation=t),le.defined(n)?i.parameters=n:i.parameters=[],i}}(z||(z={})),function(e){e.Text=1,e.Read=2,e.Write=3}(Y||(Y={})),function(e){e.create=function(e,t){var n={range:e};return le.number(t)&&(n.kind=t),n}}(G||(G={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(X||(X={})),function(e){e.Deprecated=1}(K||(K={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(V||(V={})),function(e){e.create=function(e,t,n,r,i,o){var a={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(a.children=o),a},e.is=function(e){var t=e;return t&&le.string(t.name)&&le.number(t.kind)&&a.is(t.range)&&a.is(t.selectionRange)&&(void 0===t.detail||le.string(t.detail))&&(void 0===t.deprecated||le.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(Q||(Q={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(J||(J={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return le.defined(t)&&le.typedArray(t.diagnostics,_.is)&&(void 0===t.only||le.typedArray(t.only,le.string))}}(Z||(Z={})),function(e){e.create=function(e,t,n){var r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):v.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&le.string(t.title)&&(void 0===t.diagnostics||le.typedArray(t.diagnostics,_.is))&&(void 0===t.kind||le.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||v.is(t.command))&&(void 0===t.isPreferred||le.boolean(t.isPreferred))&&(void 0===t.edit||O.is(t.edit))}}(ee||(ee={})),function(e){e.create=function(e,t){var n={range:e};return le.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return le.defined(t)&&a.is(t.range)&&(le.undefined(t.command)||v.is(t.command))}}(te||(te={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return le.defined(t)&&le.uinteger(t.tabSize)&&le.boolean(t.insertSpaces)}}(ne||(ne={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return le.defined(t)&&a.is(t.range)&&(le.undefined(t.target)||le.string(t.target))}}(re||(re={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return void 0!==n&&a.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ie||(ie={}));var ce,ue=["\n","\r\n","\r"];!function(e){function t(e,n){if(e.length<=1)return e;var r=e.length/2|0,i=e.slice(0,r),o=e.slice(r);t(i,n),t(o,n);for(var a=0,s=0,c=0;a<i.length&&s<o.length;){var u=n(i[a],o[s]);e[c++]=u<=0?i[a++]:o[s++]}for(;a<i.length;)e[c++]=i[a++];for(;s<o.length;)e[c++]=o[s++];return e}e.create=function(e,t,n,r){return new de(e,t,n,r)},e.is=function(e){var t=e;return!!(le.defined(t)&&le.string(t.uri)&&(le.undefined(t.languageId)||le.string(t.languageId))&&le.uinteger(t.lineCount)&&le.func(t.getText)&&le.func(t.positionAt)&&le.func(t.offsetAt))},e.applyEdits=function(e,n){for(var r=e.getText(),i=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),o=r.length,a=i.length-1;a>=0;a--){var s=i[a],c=e.offsetAt(s.range.start),u=e.offsetAt(s.range.end);if(!(u<=o))throw new Error("Overlapping edit");r=r.substring(0,c)+s.newText+r.substring(u,r.length),o=c}return r}}(ce||(ce={}));var le,de=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return o.create(0,e);for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var a=n-1;return o.create(a,e-t[a])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(le||(le={}))},9936:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.SemanticTokensBuilder=void 0;const o=n(7255);Object.defineProperty(t,"SemanticTokensBuilder",{enumerable:!0,get:function(){return o.SemanticTokensBuilder}}),i(n(7745),t),i(n(6717),t),function(e){e.all={__brand:"features"}}(t.ProposedFeatures||(t.ProposedFeatures={}))},4225:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyFeature=void 0;const r=n(7745);t.CallHierarchyFeature=e=>class extends e{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(r.CallHierarchyPrepareRequest.type,((t,n)=>e(t,n,this.attachWorkDoneProgress(t),void 0)))},onIncomingCalls:e=>{const t=r.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))},onOutgoingCalls:e=>{const t=r.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))}}}}},3606:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationFeature=void 0;const r=n(7745),i=n(6960);t.ConfigurationFeature=e=>class extends e{getConfiguration(e){return e?i.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let t={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(r.ConfigurationRequest.type,t).then((t=>Array.isArray(e)?t:t[0]))}}},7695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileOperationsFeature=void 0;const r=n(7745);t.FileOperationsFeature=e=>class extends e{onDidCreateFiles(e){this.connection.onNotification(r.DidCreateFilesNotification.type,(t=>{e(t)}))}onDidRenameFiles(e){this.connection.onNotification(r.DidRenameFilesNotification.type,(t=>{e(t)}))}onDidDeleteFiles(e){this.connection.onNotification(r.DidDeleteFilesNotification.type,(t=>{e(t)}))}onWillCreateFiles(e){return this.connection.onRequest(r.WillCreateFilesRequest.type,((t,n)=>e(t,n)))}onWillRenameFiles(e){return this.connection.onRequest(r.WillRenameFilesRequest.type,((t,n)=>e(t,n)))}onWillDeleteFiles(e){return this.connection.onRequest(r.WillDeleteFilesRequest.type,((t,n)=>e(t,n)))}}},7129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeFeature=void 0;const r=n(7745);t.LinkedEditingRangeFeature=e=>class extends e{onLinkedEditingRange(e){this.connection.onRequest(r.LinkedEditingRangeRequest.type,((t,n)=>e(t,n,this.attachWorkDoneProgress(t),void 0)))}}},8535:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerFeature=void 0;const r=n(7745);t.MonikerFeature=e=>class extends e{get moniker(){return{on:e=>{const t=r.MonikerRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))}}}}},3787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachPartialResult=t.ProgressFeature=t.attachWorkDone=void 0;const r=n(7745),i=n(7867);class o{constructor(e,t){this._connection=e,this._token=t,o.Instances.set(this._token,this)}begin(e,t,n,i){let o={kind:"begin",title:e,percentage:t,message:n,cancellable:i};this._connection.sendProgress(r.WorkDoneProgress.type,this._token,o)}report(e,t){let n={kind:"report"};"number"==typeof e?(n.percentage=e,void 0!==t&&(n.message=t)):n.message=e,this._connection.sendProgress(r.WorkDoneProgress.type,this._token,n)}done(){o.Instances.delete(this._token),this._connection.sendProgress(r.WorkDoneProgress.type,this._token,{kind:"end"})}}o.Instances=new Map;class a extends o{constructor(e,t){super(e,t),this._source=new r.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class s{constructor(){}begin(){}report(){}done(){}}class c extends s{constructor(){super(),this._source=new r.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}t.attachWorkDone=function(e,t){if(void 0===t||void 0===t.workDoneToken)return new s;const n=t.workDoneToken;return delete t.workDoneToken,new o(e,n)};var u;t.ProgressFeature=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(e){var t;!0===(null===(t=null==e?void 0:e.window)||void 0===t?void 0:t.workDoneProgress)&&(this._progressSupported=!0,this.connection.onNotification(r.WorkDoneProgressCancelNotification.type,(e=>{let t=o.Instances.get(e.token);(t instanceof a||t instanceof c)&&t.cancel()})))}attachWorkDoneProgress(e){return void 0===e?new s:new o(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){const e=i.generateUuid();return this.connection.sendRequest(r.WorkDoneProgressCreateRequest.type,{token:e}).then((()=>new a(this.connection,e)))}return Promise.resolve(new c)}},function(e){e.type=new r.ProgressType}(u||(u={}));class l{constructor(e,t){this._connection=e,this._token=t}report(e){this._connection.sendProgress(u.type,this._token,e)}}t.attachPartialResult=function(e,t){if(void 0===t||void 0===t.partialResultToken)return;const n=t.partialResultToken;return delete t.partialResultToken,new l(e,n)}},7255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensBuilder=t.SemanticTokensFeature=void 0;const r=n(7745);t.SemanticTokensFeature=e=>class extends e{get semanticTokens(){return{on:e=>{const t=r.SemanticTokensRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))},onDelta:e=>{const t=r.SemanticTokensDeltaRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))},onRange:e=>{const t=r.SemanticTokensRangeRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))}}}};t.SemanticTokensBuilder=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,t,n,r,i){let o=e,a=t;this._dataLen>0&&(o-=this._prevLine,0===o&&(a-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._prevLine=e,this._prevChar=t}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){if(void 0!==this._prevData){const e=this._prevData.length,t=this._data.length;let n=0;for(;n<t&&n<e&&this._prevData[n]===this._data[n];)n++;if(n<t&&n<e){let r=0;for(;r<t&&r<e&&this._prevData[e-1-r]===this._data[t-1-r];)r++;const i=this._data.slice(n,t-r);return{resultId:this.id,edits:[{start:n,deleteCount:e-r-n,data:i}]}}return n<t?{resultId:this.id,edits:[{start:n,deleteCount:0,data:this._data.slice(n)}]}:n<e?{resultId:this.id,edits:[{start:n,deleteCount:e-n}]}:{resultId:this.id,edits:[]}}return this.build()}}},6717:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConnection=t.combineFeatures=t.combineLanguagesFeatures=t.combineWorkspaceFeatures=t.combineWindowFeatures=t.combineClientFeatures=t.combineTracerFeatures=t.combineTelemetryFeatures=t.combineConsoleFeatures=t._LanguagesImpl=t.BulkUnregistration=t.BulkRegistration=t.ErrorMessageTracker=t.TextDocuments=void 0;const r=n(7745),i=n(6960),o=n(7867),a=n(3787),s=n(3606),c=n(518),u=n(4225),l=n(7255),d=n(9283),f=n(7695),p=n(7129),h=n(8535);function m(e){if(null!==e)return e}t.TextDocuments=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new r.Emitter,this._onDidOpen=new r.Emitter,this._onDidClose=new r.Emitter,this._onDidSave=new r.Emitter,this._onWillSave=new r.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map((e=>this._documents[e]))}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=r.TextDocumentSyncKind.Full,e.onDidOpenTextDocument((e=>{let t=e.textDocument,n=this._configuration.create(t.uri,t.languageId,t.version,t.text);this._documents[t.uri]=n;let r=Object.freeze({document:n});this._onDidOpen.fire(r),this._onDidChangeContent.fire(r)})),e.onDidChangeTextDocument((e=>{let t=e.textDocument,n=e.contentChanges;if(0===n.length)return;let r=this._documents[t.uri];const{version:i}=t;if(null==i)throw new Error(`Received document change event for ${t.uri} without valid version identifier`);r=this._configuration.update(r,n,i),this._documents[t.uri]=r,this._onDidChangeContent.fire(Object.freeze({document:r}))})),e.onDidCloseTextDocument((e=>{let t=this._documents[e.textDocument.uri];t&&(delete this._documents[e.textDocument.uri],this._onDidClose.fire(Object.freeze({document:t})))})),e.onWillSaveTextDocument((e=>{let t=this._documents[e.textDocument.uri];t&&this._onWillSave.fire(Object.freeze({document:t,reason:e.reason}))})),e.onWillSaveTextDocumentWaitUntil(((e,t)=>{let n=this._documents[e.textDocument.uri];return n&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:n,reason:e.reason}),t):[]})),e.onDidSaveTextDocument((e=>{let t=this._documents[e.textDocument.uri];t&&this._onDidSave.fire(Object.freeze({document:t}))}))}};t.ErrorMessageTracker=class{constructor(){this._messages=Object.create(null)}add(e){let t=this._messages[e];t||(t=0),t++,this._messages[e]=t}sendErrors(e){Object.keys(this._messages).forEach((t=>{e.window.showErrorMessage(t)}))}};class g{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(r.MessageType.Error,e)}warn(e){this.send(r.MessageType.Warning,e)}info(e){this.send(r.MessageType.Info,e)}log(e){this.send(r.MessageType.Log,e)}send(e,t){this._rawConnection&&this._rawConnection.sendNotification(r.LogMessageNotification.type,{type:e,message:t})}}const y=d.ShowDocumentFeature(a.ProgressFeature(class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...t){let n={type:r.MessageType.Error,message:e,actions:t};return this.connection.sendRequest(r.ShowMessageRequest.type,n).then(m)}showWarningMessage(e,...t){let n={type:r.MessageType.Warning,message:e,actions:t};return this.connection.sendRequest(r.ShowMessageRequest.type,n).then(m)}showInformationMessage(e,...t){let n={type:r.MessageType.Info,message:e,actions:t};return this.connection.sendRequest(r.ShowMessageRequest.type,n).then(m)}}));!function(e){e.create=function(){return new _}}(t.BulkRegistration||(t.BulkRegistration={}));class _{constructor(){this._registrations=[],this._registered=new Set}add(e,t){const n=i.string(e)?e:e.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);const r=o.generateUuid();this._registrations.push({id:r,method:n,registerOptions:t||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}}!function(e){e.create=function(){return new v(void 0,[])}}(t.BulkUnregistration||(t.BulkUnregistration={}));class v{constructor(e,t){this._connection=e,this._unregistrations=new Map,t.forEach((e=>{this._unregistrations.set(e.method,e)}))}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let t of this._unregistrations.values())e.push(t);let t={unregisterations:e};this._connection.sendRequest(r.UnregistrationRequest.type,t).then(void 0,(e=>{this._connection.console.info("Bulk unregistration failed.")}))}disposeSingle(e){const t=i.string(e)?e:e.method,n=this._unregistrations.get(t);if(!n)return!1;let o={unregisterations:[n]};return this._connection.sendRequest(r.UnregistrationRequest.type,o).then((()=>{this._unregistrations.delete(t)}),(e=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)})),!0}}class b{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,t,n){return e instanceof _?this.registerMany(e):e instanceof v?this.registerSingle1(e,t,n):this.registerSingle2(e,t)}registerSingle1(e,t,n){const a=i.string(t)?t:t.method,s=o.generateUuid();let c={registrations:[{id:s,method:a,registerOptions:n||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(r.RegistrationRequest.type,c).then((t=>(e.add({id:s,method:a}),e)),(e=>(this.connection.console.info(`Registering request handler for ${a} failed.`),Promise.reject(e))))}registerSingle2(e,t){const n=i.string(e)?e:e.method,a=o.generateUuid();let s={registrations:[{id:a,method:n,registerOptions:t||{}}]};return this.connection.sendRequest(r.RegistrationRequest.type,s).then((e=>r.Disposable.create((()=>{this.unregisterSingle(a,n)}))),(e=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(e))))}unregisterSingle(e,t){let n={unregisterations:[{id:e,method:t}]};return this.connection.sendRequest(r.UnregistrationRequest.type,n).then(void 0,(t=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)}))}registerMany(e){let t=e.asRegistrationParams();return this.connection.sendRequest(r.RegistrationRequest.type,t).then((()=>new v(this._connection,t.registrations.map((e=>({id:e.id,method:e.method}))))),(e=>(this.connection.console.info("Bulk registration failed."),Promise.reject(e))))}}const E=f.FileOperationsFeature(c.WorkspaceFoldersFeature(s.ConfigurationFeature(class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){let t=(n=e)&&n.edit?e:{edit:e};var n;return this.connection.sendRequest(r.ApplyWorkspaceEditRequest.type,t)}})));class T{constructor(){this._trace=r.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,t){this._trace!==r.Trace.Off&&this.connection.sendNotification(r.LogTraceNotification.type,{message:e,verbose:this._trace===r.Trace.Verbose?t:void 0})}}class w{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(r.TelemetryEventNotification.type,e)}}class S{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return a.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,t){return a.attachPartialResult(this.connection,t)}}t._LanguagesImpl=S;const R=h.MonikerFeature(p.LinkedEditingRangeFeature(l.SemanticTokensFeature(u.CallHierarchyFeature(S))));function P(e,t){return function(n){return t(e(n))}}function N(e,t){return function(n){return t(e(n))}}function O(e,t){return function(n){return t(e(n))}}function C(e,t){return function(n){return t(e(n))}}function D(e,t){return function(n){return t(e(n))}}function x(e,t){return function(n){return t(e(n))}}t.combineConsoleFeatures=P,t.combineTelemetryFeatures=N,t.combineTracerFeatures=O,t.combineClientFeatures=C,t.combineWindowFeatures=D,t.combineWorkspaceFeatures=x,t.combineLanguagesFeatures=function(e,t){return function(n){return t(e(n))}},t.combineFeatures=function(e,t){function n(e,t,n){return e&&t?n(e,t):e||t}return{__brand:"features",console:n(e.console,t.console,P),tracer:n(e.tracer,t.tracer,O),telemetry:n(e.telemetry,t.telemetry,N),client:n(e.client,t.client,C),window:n(e.window,t.window,D),workspace:n(e.workspace,t.workspace,x)}},t.createConnection=function(e,t,n){const o=n&&n.console?new(n.console(g)):new g,s=e(o);o.rawAttach(s);const c=n&&n.tracer?new(n.tracer(T)):new T,u=n&&n.telemetry?new(n.telemetry(w)):new w,l=n&&n.client?new(n.client(b)):new b,d=n&&n.window?new(n.window(y)):new y,f=n&&n.workspace?new(n.workspace(E)):new E,p=n&&n.languages?new(n.languages(R)):new R,h=[o,c,u,l,d,f,p];function m(e){return e instanceof Promise?e:i.thenable(e)?new Promise(((t,n)=>{e.then((e=>t(e)),(e=>n(e)))})):Promise.resolve(e)}let _,v,S,P={listen:()=>s.listen(),sendRequest:(e,...t)=>s.sendRequest(i.string(e)?e:e.method,...t),onRequest:(e,t)=>s.onRequest(e,t),sendNotification:(e,t)=>{const n=i.string(e)?e:e.method;1===arguments.length?s.sendNotification(n):s.sendNotification(n,t)},onNotification:(e,t)=>s.onNotification(e,t),onProgress:s.onProgress,sendProgress:s.sendProgress,onInitialize:e=>v=e,onInitialized:e=>s.onNotification(r.InitializedNotification.type,e),onShutdown:e=>_=e,onExit:e=>S=e,get console(){return o},get telemetry(){return u},get tracer(){return c},get client(){return l},get window(){return d},get workspace(){return f},get languages(){return p},onDidChangeConfiguration:e=>s.onNotification(r.DidChangeConfigurationNotification.type,e),onDidChangeWatchedFiles:e=>s.onNotification(r.DidChangeWatchedFilesNotification.type,e),__textDocumentSync:void 0,onDidOpenTextDocument:e=>s.onNotification(r.DidOpenTextDocumentNotification.type,e),onDidChangeTextDocument:e=>s.onNotification(r.DidChangeTextDocumentNotification.type,e),onDidCloseTextDocument:e=>s.onNotification(r.DidCloseTextDocumentNotification.type,e),onWillSaveTextDocument:e=>s.onNotification(r.WillSaveTextDocumentNotification.type,e),onWillSaveTextDocumentWaitUntil:e=>s.onRequest(r.WillSaveTextDocumentWaitUntilRequest.type,e),onDidSaveTextDocument:e=>s.onNotification(r.DidSaveTextDocumentNotification.type,e),sendDiagnostics:e=>s.sendNotification(r.PublishDiagnosticsNotification.type,e),onHover:e=>s.onRequest(r.HoverRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),void 0))),onCompletion:e=>s.onRequest(r.CompletionRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onCompletionResolve:e=>s.onRequest(r.CompletionResolveRequest.type,e),onSignatureHelp:e=>s.onRequest(r.SignatureHelpRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),void 0))),onDeclaration:e=>s.onRequest(r.DeclarationRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onDefinition:e=>s.onRequest(r.DefinitionRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onTypeDefinition:e=>s.onRequest(r.TypeDefinitionRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onImplementation:e=>s.onRequest(r.ImplementationRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onReferences:e=>s.onRequest(r.ReferencesRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onDocumentHighlight:e=>s.onRequest(r.DocumentHighlightRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onDocumentSymbol:e=>s.onRequest(r.DocumentSymbolRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onWorkspaceSymbol:e=>s.onRequest(r.WorkspaceSymbolRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onCodeAction:e=>s.onRequest(r.CodeActionRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onCodeActionResolve:e=>s.onRequest(r.CodeActionResolveRequest.type,((t,n)=>e(t,n))),onCodeLens:e=>s.onRequest(r.CodeLensRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onCodeLensResolve:e=>s.onRequest(r.CodeLensResolveRequest.type,((t,n)=>e(t,n))),onDocumentFormatting:e=>s.onRequest(r.DocumentFormattingRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),void 0))),onDocumentRangeFormatting:e=>s.onRequest(r.DocumentRangeFormattingRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),void 0))),onDocumentOnTypeFormatting:e=>s.onRequest(r.DocumentOnTypeFormattingRequest.type,((t,n)=>e(t,n))),onRenameRequest:e=>s.onRequest(r.RenameRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),void 0))),onPrepareRename:e=>s.onRequest(r.PrepareRenameRequest.type,((t,n)=>e(t,n))),onDocumentLinks:e=>s.onRequest(r.DocumentLinkRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onDocumentLinkResolve:e=>s.onRequest(r.DocumentLinkResolveRequest.type,((t,n)=>e(t,n))),onDocumentColor:e=>s.onRequest(r.DocumentColorRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onColorPresentation:e=>s.onRequest(r.ColorPresentationRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onFoldingRanges:e=>s.onRequest(r.FoldingRangeRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onSelectionRanges:e=>s.onRequest(r.SelectionRangeRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onExecuteCommand:e=>s.onRequest(r.ExecuteCommandRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),void 0))),dispose:()=>s.dispose()};for(let e of h)e.attach(P);return s.onRequest(r.InitializeRequest.type,(e=>{t.initialize(e),i.string(e.trace)&&(c.trace=r.Trace.fromString(e.trace));for(let t of h)t.initialize(e.capabilities);if(v){return m(v(e,(new r.CancellationTokenSource).token,a.attachWorkDone(s,e),void 0)).then((e=>{if(e instanceof r.ResponseError)return e;let t=e;t||(t={capabilities:{}});let n=t.capabilities;n||(n={},t.capabilities=n),void 0===n.textDocumentSync||null===n.textDocumentSync?n.textDocumentSync=i.number(P.__textDocumentSync)?P.__textDocumentSync:r.TextDocumentSyncKind.None:i.number(n.textDocumentSync)||i.number(n.textDocumentSync.change)||(n.textDocumentSync.change=i.number(P.__textDocumentSync)?P.__textDocumentSync:r.TextDocumentSyncKind.None);for(let e of h)e.fillServerCapabilities(n);return t}))}{let e={capabilities:{textDocumentSync:r.TextDocumentSyncKind.None}};for(let t of h)t.fillServerCapabilities(e.capabilities);return e}})),s.onRequest(r.ShutdownRequest.type,(()=>(t.shutdownReceived=!0,_?_((new r.CancellationTokenSource).token):void 0))),s.onNotification(r.ExitNotification.type,(()=>{try{S&&S()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}})),s.onNotification(r.SetTraceNotification.type,(e=>{c.trace=r.Trace.fromString(e.value)})),P}},9283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentFeature=void 0;const r=n(7745);t.ShowDocumentFeature=e=>class extends e{showDocument(e){return this.connection.sendRequest(r.ShowDocumentRequest.type,e)}}},6960:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return"function"==typeof e}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.thenable=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=r,t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&r(e.then)}},7867:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.parse=t.isUUID=t.v4=t.empty=void 0;class n{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class r extends n{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}}function i(){return new r}r._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],r._timeHighBits=["8","9","a","b"],t.empty=new n("00000000-0000-0000-0000-000000000000"),t.v4=i;const o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function a(e){return o.test(e)}t.isUUID=a,t.parse=function(e){if(!a(e))throw new Error("invalid uuid");return new n(e)},t.generateUuid=function(){return i().asHex()}},518:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFoldersFeature=void 0;const r=n(7745);t.WorkspaceFoldersFeature=e=>class extends e{initialize(e){let t=e.workspace;t&&t.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new r.Emitter,this.connection.onNotification(r.DidChangeWorkspaceFoldersNotification.type,(e=>{this._onDidChangeWorkspaceFolders.fire(e.event)})))}getWorkspaceFolders(){return this.connection.sendRequest(r.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(r.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}},1507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveModulePath=t.FileSystem=t.resolveGlobalYarnPath=t.resolveGlobalNodePath=t.resolve=t.uriToFilePath=void 0;const r=n(8835),i=n(5622),o=n(5747),a=n(3129);function s(){return"win32"===process.platform}function c(e,t,n,r){const s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise(((c,u)=>{let l=process.env,d=Object.create(null);Object.keys(l).forEach((e=>d[e]=l[e])),t&&o.existsSync(t)&&(d.NODE_PATH?d.NODE_PATH=t+i.delimiter+d.NODE_PATH:d.NODE_PATH=t,r&&r(`NODE_PATH value is: ${d.NODE_PATH}`)),d.ELECTRON_RUN_AS_NODE="1";try{let t=a.fork("",[],{cwd:n,env:d,execArgv:["-e",s]});if(void 0===t.pid)return void u(new Error(`Starting process to resolve node module  ${e} failed`));t.on("error",(e=>{u(e)})),t.on("message",(n=>{"r"===n.c&&(t.send({c:"e"}),n.s?c(n.r):u(new Error(`Failed to resolve module: ${e}`)))}));let r={c:"rs",a:e};t.send(r)}catch(e){u(e)}}))}function u(e){let t="npm";const n=Object.create(null);Object.keys(process.env).forEach((e=>n[e]=process.env[e])),n.NO_UPDATE_NOTIFIER="true";const r={encoding:"utf8",env:n};s()&&(t="npm.cmd",r.shell=!0);let o=()=>{};try{process.on("SIGPIPE",o);let n=a.spawnSync(t,["config","get","prefix"],r).stdout;if(!n)return void(e&&e("'npm config get prefix' didn't return a value."));let c=n.trim();return e&&e(`'npm config get prefix' value is: ${c}`),c.length>0?s()?i.join(c,"node_modules"):i.join(c,"lib","node_modules"):void 0}catch(e){return}finally{process.removeListener("SIGPIPE",o)}}var l;t.uriToFilePath=function(e){let t=r.parse(e);if("file:"!==t.protocol||!t.path)return;let n=t.path.split("/");for(var o=0,a=n.length;o<a;o++)n[o]=decodeURIComponent(n[o]);if("win32"===process.platform&&n.length>1){let e=n[0],t=n[1];0===e.length&&t.length>1&&":"===t[1]&&n.shift()}return i.normalize(n.join("/"))},t.resolve=c,t.resolveGlobalNodePath=u,t.resolveGlobalYarnPath=function(e){let t="yarn",n={encoding:"utf8"};s()&&(t="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let o=a.spawnSync(t,["global","dir","--json"],n),s=o.stdout;if(!s)return void(e&&(e("'yarn global dir' didn't return a value."),o.stderr&&e(o.stderr)));let c=s.trim().split(/\r?\n/);for(let e of c)try{let t=JSON.parse(e);if("log"===t.type)return i.join(t.data,"node_modules")}catch(e){}return}catch(e){return}finally{process.removeListener("SIGPIPE",r)}},function(e){let t;function n(){return void 0!==t||(t="win32"!==process.platform&&(!o.existsSync(__filename.toUpperCase())||!o.existsSync(__filename.toLowerCase()))),t}e.isCaseSensitive=n,e.isParent=function(e,t){return n()?0===i.normalize(t).indexOf(i.normalize(e)):0===i.normalize(t).toLowerCase().indexOf(i.normalize(e).toLowerCase())}}(l=t.FileSystem||(t.FileSystem={})),t.resolveModulePath=function(e,t,n,r){return n?(i.isAbsolute(n)||(n=i.join(e,n)),c(t,n,n,r).then((e=>l.isParent(n,e)?e:Promise.reject(new Error(`Failed to load ${t} from node path location.`)))).then(void 0,(n=>c(t,u(r),e,r)))):c(t,u(r),e,r)}},2374:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createConnection=t.Files=void 0;const o=n(6960),a=n(6717),s=n(1507),c=n(4057);i(n(4057),t),i(n(9936),t),function(e){e.uriToFilePath=s.uriToFilePath,e.resolveGlobalNodePath=s.resolveGlobalNodePath,e.resolveGlobalYarnPath=s.resolveGlobalYarnPath,e.resolve=s.resolve,e.resolveModulePath=s.resolveModulePath}(t.Files||(t.Files={}));let u,l=!1;!function(){const e="--clientProcessId";function t(e){try{let t=parseInt(e);isNaN(t)||(u=setInterval((()=>{try{process.kill(t,0)}catch(e){process.exit(l?0:1)}}),3e3))}catch(e){}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===e&&n+1<process.argv.length)return void t(process.argv[n+1]);{let n=r.split("=");n[0]===e&&t(n[1])}}}();const d={initialize:e=>{const t=e.processId;o.number(t)&&void 0===u&&setInterval((()=>{try{process.kill(t,0)}catch(e){process.exit(l?0:1)}}),3e3)},get shutdownReceived(){return l},set shutdownReceived(e){l=e},exit:e=>{process.exit(e)}};t.createConnection=function(e,t,n,r){let i,s,u,f;return void 0!==e&&"features"===e.__brand&&(i=e,e=t,t=n,n=r),c.ConnectionStrategy.is(e)||c.ConnectionOptions.is(e)?f=e:(s=e,u=t,f=n),function(e,t,n,r){if(!e&&!t&&process.argv.length>2){let n,r,o=process.argv.slice(2);for(let a=0;a<o.length;a++){let s=o[a];if("--node-ipc"===s){e=new c.IPCMessageReader(process),t=new c.IPCMessageWriter(process);break}if("--stdio"===s){e=process.stdin,t=process.stdout;break}if("--socket"===s){n=parseInt(o[a+1]);break}if("--pipe"===s){r=o[a+1];break}var i=s.split("=");if("--socket"===i[0]){n=parseInt(i[1]);break}if("--pipe"===i[0]){r=i[1];break}}if(n){let r=c.createServerSocketTransport(n);e=r[0],t=r[1]}else if(r){let n=c.createServerPipeTransport(r);e=n[0],t=n[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+s);if(!t)throw new Error("Connection output stream is not set. "+s);if(o.func(e.read)&&o.func(e.on)){let t=e;t.on("end",(()=>{process.exit(l?0:1)})),t.on("close",(()=>{process.exit(l?0:1)}))}const u=r=>c.createProtocolConnection(e,t,r,n);return a.createConnection(u,d,r)}(s,u,f,i)}},433:(e,t,n)=>{"use strict";e.exports=n(2374)},6630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{URI:()=>h,uriToFsPath:()=>b});var r,i,o,a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});if("object"==typeof process)o="win32"===process.platform;else if("object"==typeof navigator){var s=navigator.userAgent;o=s.indexOf("Windows")>=0}var c=/^\w[\w\d+.-]*$/,u=/^\//,l=/^\/\//;var d="",f="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,h=function(){function e(e,t,n,r,i,o){void 0===o&&(o=!1),"object"==typeof e?(this.scheme=e.scheme||d,this.authority=e.authority||d,this.path=e.path||d,this.query=e.query||d,this.fragment=e.fragment||d):(this.scheme=function(e,t){return e||t?e:"file"}(e,o),this.authority=t||d,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==f&&(t=f+t):t=f}return t}(this.scheme,n||d),this.query=r||d,this.fragment=i||d,function(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+e.authority+'", path: "'+e.path+'", query: "'+e.query+'", fragment: "'+e.fragment+'"}');if(e.scheme&&!c.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!u.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,o))}return e.isUri=function(t){return t instanceof e||!!t&&("string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme&&"function"==typeof t.fsPath&&"function"==typeof t.with&&"function"==typeof t.toString)},Object.defineProperty(e.prototype,"fsPath",{get:function(){return b(this,!1)},enumerable:!0,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,r=e.path,i=e.query,o=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=d),void 0===n?n=this.authority:null===n&&(n=d),void 0===r?r=this.path:null===r&&(r=d),void 0===i?i=this.query:null===i&&(i=d),void 0===o?o=this.fragment:null===o&&(o=d),t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&o===this.fragment?this:new g(t,n,r,i,o)},e.parse=function(e,t){void 0===t&&(t=!1);var n=p.exec(e);return n?new g(n[2]||d,S(n[4]||d),S(n[5]||d),S(n[7]||d),S(n[9]||d),t):new g(d,d,d,d,d)},e.file=function(e){var t=d;if(o&&(e=e.replace(/\\/g,f)),e[0]===f&&e[1]===f){var n=e.indexOf(f,2);-1===n?(t=e.substring(2),e=f):(t=e.substring(2,n),e=e.substring(n)||f)}return new g("file",t,e,d,d)},e.from=function(e){return new g(e.scheme,e.authority,e.path,e.query,e.fragment)},e.prototype.toString=function(e){return void 0===e&&(e=!1),E(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var n=new g(t);return n._formatted=t.external,n._fsPath=t._sep===m?t.fsPath:null,n}return t},e}(),m=o?1:void 0,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return a(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?E(this,!0):(this._formatted||(this._formatted=E(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=m),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(h),y=((i={})[58]="%3A",i[47]="%2F",i[63]="%3F",i[35]="%23",i[91]="%5B",i[93]="%5D",i[64]="%40",i[33]="%21",i[36]="%24",i[38]="%26",i[39]="%27",i[40]="%28",i[41]="%29",i[42]="%2A",i[43]="%2B",i[44]="%2C",i[59]="%3B",i[61]="%3D",i[32]="%20",i);function _(e,t){for(var n=void 0,r=-1,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o)-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),void 0!==n&&(n+=e.charAt(i));else{void 0===n&&(n=e.substr(0,i));var a=y[o];void 0!==a?(-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),n+=a):-1===r&&(r=i)}}return-1!==r&&(n+=encodeURIComponent(e.substring(r))),void 0!==n?n:e}function v(e){for(var t=void 0,n=0;n<e.length;n++){var r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=y[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function b(e,t){var n;return n=e.authority&&e.path.length>1&&"file"===e.scheme?"//"+e.authority+e.path:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,o&&(n=n.replace(/\//g,"\\")),n}function E(e,t){var n=t?v:_,r="",i=e.scheme,o=e.authority,a=e.path,s=e.query,c=e.fragment;if(i&&(r+=i,r+=":"),(o||"file"===i)&&(r+=f,r+=f),o){var u=o.indexOf("@");if(-1!==u){var l=o.substr(0,u);o=o.substr(u+1),-1===(u=l.indexOf(":"))?r+=n(l,!1):(r+=n(l.substr(0,u),!1),r+=":",r+=n(l.substr(u+1),!1)),r+="@"}-1===(u=(o=o.toLowerCase()).indexOf(":"))?r+=n(o,!1):(r+=n(o.substr(0,u),!1),r+=o.substr(u))}if(a){if(a.length>=3&&47===a.charCodeAt(0)&&58===a.charCodeAt(2))(d=a.charCodeAt(1))>=65&&d<=90&&(a="/"+String.fromCharCode(d+32)+":"+a.substr(3));else if(a.length>=2&&58===a.charCodeAt(1)){var d;(d=a.charCodeAt(0))>=65&&d<=90&&(a=String.fromCharCode(d+32)+":"+a.substr(2))}r+=n(a,!0)}return s&&(r+="?",r+=n(s,!1)),c&&(r+="#",r+=t?c:_(c,!1)),r}function T(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+T(e.substr(3)):e}}var w=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S(e){return e.match(w)?e.replace(w,(function(e){return T(e)})):e}},7908:(e,t,n)=>{var r,i,o,a=void 0!==a?a:{};i=[],void 0===(o="function"==typeof(r=function(){var t,r={};for(t in a)a.hasOwnProperty(t)&&(r[t]=a[t]);var i,o,s=[],c="./this.program",u=function(e,t){throw t},l=!1,d=!1;l="object"==typeof window,d="function"==typeof importScripts,i="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,o=!l&&!i&&!d;var f,p,h,m,g,y="";i?(y=d?n(5622).dirname(y)+"/":__dirname+"/",f=function(e,t){return m||(m=n(5747)),g||(g=n(5622)),e=g.normalize(e),m.readFileSync(e,t?null:"utf8")},h=function(e){var t=f(e,!0);return t.buffer||(t=new Uint8Array(t)),x(t.buffer),t},process.argv.length>1&&(c=process.argv[1].replace(/\\/g,"/")),s=process.argv.slice(2),e.exports=a,u=function(e){process.exit(e)},a.inspect=function(){return"[Emscripten Module object]"}):o?("undefined"!=typeof read&&(f=function(e){return read(e)}),h=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(x("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?s=scriptArgs:void 0!==arguments&&(s=arguments),"function"==typeof quit&&(u=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(l||d)&&(d?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),y=0!==y.indexOf("blob:")?y.substr(0,y.lastIndexOf("/")+1):"",f=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(h=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),p=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}),a.print||console.log.bind(console);var _=a.printErr||console.warn.bind(console);for(t in r)r.hasOwnProperty(t)&&(a[t]=r[t]);r=null,a.arguments&&(s=a.arguments),a.thisProgram&&(c=a.thisProgram),a.quit&&(u=a.quit);var v,b=16,E=[];function T(e,t){if(!v){v=new WeakMap;for(var n=0;n<K.length;n++){var r=K.get(n);r&&v.set(r,n)}}if(v.has(e))return v.get(e);var i=function(){if(E.length)return E.pop();try{K.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return K.length-1}();try{K.set(i,e)}catch(n){if(!(n instanceof TypeError))throw n;var o=function(e,t){if("function"==typeof WebAssembly.Function){for(var n={i:"i32",j:"i64",f:"f32",d:"f64"},r={parameters:[],results:"v"==t[0]?[]:[n[t[0]]]},i=1;i<t.length;++i)r.parameters.push(n[t[i]]);return new WebAssembly.Function(r,e)}var o=[1,0,1,96],a=t.slice(0,1),s=t.slice(1),c={i:127,j:126,f:125,d:124};for(o.push(s.length),i=0;i<s.length;++i)o.push(c[s[i]]);"v"==a?o.push(0):o=o.concat([1,c[a]]),o[1]=o.length-2;var u=new Uint8Array([0,97,115,109,1,0,0,0].concat(o,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),l=new WebAssembly.Module(u);return new WebAssembly.Instance(l,{e:{f:e}}).exports.f}(e,t);K.set(i,o)}return v.set(e,i),i}var w,S=function(e){},R=a.dynamicLibraries||[];a.wasmBinary&&(w=a.wasmBinary);var P,N=a.noExitRuntime||!0;function O(e,t,n,r){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":I[e>>0]=t;break;case"i16":M[e>>1]=t;break;case"i32":F[e>>2]=t;break;case"i64":fe=[t>>>0,(de=t,+Math.abs(de)>=1?de>0?(0|Math.min(+Math.floor(de/4294967296),4294967295))>>>0:~~+Math.ceil((de-+(~~de>>>0))/4294967296)>>>0:0)],F[e>>2]=fe[0],F[e+4>>2]=fe[1];break;case"float":j[e>>2]=t;break;case"double":B[e>>3]=t;break;default:ae("invalid type for setValue: "+n)}}function C(e,t,n){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return I[e>>0];case"i16":return M[e>>1];case"i32":case"i64":return F[e>>2];case"float":return j[e>>2];case"double":return B[e>>3];default:ae("invalid type for getValue: "+t)}return null}"object"!=typeof WebAssembly&&ae("no native wasm support detected");var D=!1;function x(e,t){e||ae("Assertion failed: "+t)}var A,I,k,M,F,j,B,L=1,q="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function U(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&q)return q.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|c:(7&a)<<18|s<<12|c<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function H(e,t){return e?U(k,e,t):""}function W(e,t,n,r){if(!(r>0))return 0;for(var i=n,o=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(n>=o)break;t[n++]=s}else if(s<=2047){if(n+1>=o)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=o)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=o)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function $(e,t,n){return W(e,k,t,n)}function z(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}function Y(e){var t=z(e)+1,n=Ye(t);return W(e,I,n,t),n}function G(e){A=e,a.HEAP8=I=new Int8Array(e),a.HEAP16=M=new Int16Array(e),a.HEAP32=F=new Int32Array(e),a.HEAPU8=k=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=new Uint32Array(e),a.HEAPF32=j=new Float32Array(e),a.HEAPF64=B=new Float64Array(e)}var X=a.INITIAL_MEMORY||33554432;(P=a.wasmMemory?a.wasmMemory:new WebAssembly.Memory({initial:X/65536,maximum:32768}))&&(A=P.buffer),X=A.byteLength,G(A);var K=new WebAssembly.Table({initial:13,element:"anyfunc"}),V=[],Q=[],J=[],Z=[],ee=!1,te=0,ne=null,re=null;function ie(e){te++,a.monitorRunDependencies&&a.monitorRunDependencies(te)}function oe(e){if(te--,a.monitorRunDependencies&&a.monitorRunDependencies(te),0==te&&(null!==ne&&(clearInterval(ne),ne=null),re)){var t=re;re=null,t()}}function ae(e){throw a.onAbort&&a.onAbort(e),_(e+=""),D=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}a.preloadedImages={},a.preloadedAudios={},a.preloadedWasm={};var se="data:application/octet-stream;base64,";function ce(e){return e.startsWith(se)}function ue(e){return e.startsWith("file://")}var le,de,fe,pe="tree-sitter.wasm";function he(e){try{if(e==pe&&w)return new Uint8Array(w);if(h)return h(e);throw"both async and sync fetching of the wasm failed"}catch(e){ae(e)}}ce(pe)||(le=pe,pe=a.locateFile?a.locateFile(le,y):y+le);var me={},ge={get:function(e,t){return me[t]||(me[t]=new WebAssembly.Global({value:"i32",mutable:!0})),me[t]}};function ye(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?K.get(n)():K.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(a)}}function _e(e){var t=0;function n(){for(var n=0,r=1;;){var i=e[t++];if(n+=(127&i)*r,r*=128,!(128&i))break}return n}if(e instanceof WebAssembly.Module){var r=WebAssembly.Module.customSections(e,"dylink");x(0!=r.length,"need dylink section"),e=new Int8Array(r[0])}else x(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0],"need to see wasm magic number"),x(0===e[8],"need the dylink section to be first"),t=9,n(),x(6===e[t]),x(e[++t]==="d".charCodeAt(0)),x(e[++t]==="y".charCodeAt(0)),x(e[++t]==="l".charCodeAt(0)),x(e[++t]==="i".charCodeAt(0)),x(e[++t]==="n".charCodeAt(0)),x(e[++t]==="k".charCodeAt(0)),t++;var i={};i.memorySize=n(),i.memoryAlign=n(),i.tableSize=n(),i.tableAlign=n();var o=n();i.neededDynlibs=[];for(var a=0;a<o;++a){var s=n(),c=e.subarray(t,t+s);t+=s;var u=U(c,0);i.neededDynlibs.push(u)}return i}var ve=0;function be(){return N||ve>0}function Ee(e){return 0==e.indexOf("dynCall_")||["stackAlloc","stackSave","stackRestore"].includes(e)?e:"_"+e}function Te(e,t){for(var n in e)if(e.hasOwnProperty(n)){Ue.hasOwnProperty(n)||(Ue[n]=e[n]);var r=Ee(n);a.hasOwnProperty(r)||(a[r]=e[n])}}var we={nextHandle:1,loadedLibs:{},loadedLibNames:{}};function Se(e,t,n){return e.includes("j")?function(e,t,n){var r=a["dynCall_"+e];return n&&n.length?r.apply(null,[t].concat(n)):r.call(null,t)}(e,t,n):K.get(t).apply(null,n)}var Re=5250816;function Pe(e){return["__cpp_exception","__wasm_apply_data_relocs","__dso_handle","__set_stack_limits"].includes(e)}function Ne(e,t){var n={};for(var r in e){var i=e[r];"object"==typeof i&&(i=i.value),"number"==typeof i&&(i+=t),n[r]=i}return function(e){for(var t in e)if(!Pe(t)){var n=!1,r=e[t];t.startsWith("orig$")&&(t=t.split("$")[1],n=!0),me[t]||(me[t]=new WebAssembly.Global({value:"i32",mutable:!0})),(n||0==me[t].value)&&("function"==typeof r?me[t].value=T(r):"number"==typeof r?me[t].value=r:_("unhandled export type for `"+t+"`: "+typeof r))}}(n),n}function Oe(e,t){var n,r;return t&&(n=Ue["orig$"+e]),n||(n=Ue[e]),n||(n=a[Ee(e)]),!n&&e.startsWith("invoke_")&&(r=e.split("_")[1],n=function(){var e=$e();try{return Se(r,arguments[0],Array.prototype.slice.call(arguments,1))}catch(t){if(ze(e),t!==t+0&&"longjmp"!==t)throw t;Ge(1,0)}}),n}function Ce(e,t){var n=_e(e);function r(){var r=Math.pow(2,n.memoryAlign);r=Math.max(r,b);var i,o,a,s=(i=function(e){if(ee)return He(e);var t=Re,n=t+e+15&-16;return Re=n,me.__heap_base.value=n,t}(n.memorySize+r),(o=r)||(o=b),Math.ceil(i/o)*o),c=K.length;K.grow(n.tableSize);for(var u=s;u<s+n.memorySize;u++)I[u]=0;for(u=c;u<c+n.tableSize;u++)K.set(u,null);var l=new Proxy({},{get:function(e,t){switch(t){case"__memory_base":return s;case"__table_base":return c}return t in Ue?Ue[t]:(t in e||(e[t]=function(){return n||(n=function(e){var t=Oe(e,!1);return t||(t=a[e]),t}(t)),n.apply(null,arguments)}),e[t]);var n}}),d={"GOT.mem":new Proxy({},ge),"GOT.func":new Proxy({},ge),env:l,wasi_snapshot_preview1:l};function f(e){for(var r=0;r<n.tableSize;r++){var i=K.get(c+r);i&&v.set(i,c+r)}a=Ne(e.exports,s),t.allowUndefined||xe();var o=a.__wasm_call_ctors;return o||(o=a.__post_instantiate),o&&(ee?o():Q.push(o)),a}if(t.loadAsync){if(e instanceof WebAssembly.Module){var p=new WebAssembly.Instance(e,d);return Promise.resolve(f(p))}return WebAssembly.instantiate(e,d).then((function(e){return f(e.instance)}))}var h=e instanceof WebAssembly.Module?e:new WebAssembly.Module(e);return f(p=new WebAssembly.Instance(h,d))}return t.loadAsync?n.neededDynlibs.reduce((function(e,n){return e.then((function(){return De(n,t)}))}),Promise.resolve()).then((function(){return r()})):(n.neededDynlibs.forEach((function(e){De(e,t)})),r())}function De(e,t){"__main__"!=e||we.loadedLibNames[e]||(we.loadedLibs[-1]={refcount:1/0,name:"__main__",module:a.asm,global:!0},we.loadedLibNames.__main__=-1),t=t||{global:!0,nodelete:!0};var n,r=we.loadedLibNames[e];if(r)return n=we.loadedLibs[r],t.global&&!n.global&&(n.global=!0,"loading"!==n.module&&Te(n.module)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,t.loadAsync?Promise.resolve(r):r;function i(e){if(t.fs){var n=t.fs.readFile(e,{encoding:"binary"});return n instanceof Uint8Array||(n=new Uint8Array(n)),t.loadAsync?Promise.resolve(n):n}return t.loadAsync?(r=e,fetch(r,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load binary file at '"+r+"'";return e.arrayBuffer()})).then((function(e){return new Uint8Array(e)}))):h(e);var r}function o(){if(void 0!==a.preloadedWasm&&void 0!==a.preloadedWasm[e]){var n=a.preloadedWasm[e];return t.loadAsync?Promise.resolve(n):n}return t.loadAsync?i(e).then((function(e){return Ce(e,t)})):Ce(i(e),t)}function s(e){n.global&&Te(e),n.module=e}return r=we.nextHandle++,n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},we.loadedLibNames[e]=r,we.loadedLibs[r]=n,t.loadAsync?o().then((function(e){return s(e),r})):(s(o()),r)}function xe(){for(var e in me)if(0==me[e].value){var t=Oe(e,!0);"function"==typeof t?me[e].value=T(t,t.sig):"number"==typeof t?me[e].value=t:x(!1,"bad export type for `"+e+"`: "+typeof t)}}a.___heap_base=Re;var Ae,Ie=new WebAssembly.Global({value:"i32",mutable:!0},5250816);function ke(){ae()}a._abort=ke,ke.sig="v",Ae=i?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};var Me=!0;function Fe(e,t){var n,r;if(0===e)n=Date.now();else{if(1!==e&&4!==e||!Me)return r=28,F[We()>>2]=r,-1;n=Ae()}return F[t>>2]=n/1e3|0,F[t+4>>2]=n%1e3*1e3*1e3|0,0}function je(e){try{return P.grow(e-A.byteLength+65535>>>16),G(P.buffer),1}catch(e){}}function Be(e){Qe(e)}function Le(e){S(e)}Fe.sig="iii",Be.sig="vi",Le.sig="vi";var qe,Ue={__heap_base:Re,__indirect_function_table:K,__memory_base:1024,__stack_pointer:Ie,__table_base:1,abort:ke,clock_gettime:Fe,emscripten_memcpy_big:function(e,t,n){k.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){var t,n,r=k.length;if((e>>>=0)>2147483648)return!1;for(var i=1;i<=4;i*=2){var o=r*(1+.2/i);if(o=Math.min(o,e+100663296),je(Math.min(2147483648,((t=Math.max(e,o))%(n=65536)>0&&(t+=n-t%n),t))))return!0}return!1},exit:Be,memory:P,setTempRet0:Le,tree_sitter_log_callback:function(e,t){if(ht){const n=H(t);ht(n,0!==e)}},tree_sitter_parse_callback:function(e,t,n,r,i){var o=pt(t,{row:n,column:r});"string"==typeof o?(O(i,o.length,"i32"),function(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=(n-=2)<2*e.length?n/2:e.length,i=0;i<r;++i){var o=e.charCodeAt(i);M[t>>1]=o,t+=2}M[t>>1]=0}(o,e,10240)):O(i,0,"i32")}},He=(function(){var e={env:Ue,wasi_snapshot_preview1:Ue,"GOT.mem":new Proxy(Ue,ge),"GOT.func":new Proxy(Ue,ge)};function t(e,t){var n=e.exports;n=Ne(n,1024),a.asm=n;var r,i=_e(t);i.neededDynlibs&&(R=i.neededDynlibs.concat(R)),Te(n),r=a.asm.__wasm_call_ctors,Q.unshift(r),oe()}function n(e){t(e.instance,e.module)}function r(t){return function(){if(!w&&(l||d)){if("function"==typeof fetch&&!ue(pe))return fetch(pe,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+pe+"'";return e.arrayBuffer()})).catch((function(){return he(pe)}));if(p)return new Promise((function(e,t){p(pe,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return he(pe)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){_("failed to asynchronously prepare wasm: "+e),ae(e)}))}if(ie(),a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}w||"function"!=typeof WebAssembly.instantiateStreaming||ce(pe)||ue(pe)||"function"!=typeof fetch?r(n):fetch(pe,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),r(n)}))}))}(),a.___wasm_call_ctors=function(){return(a.___wasm_call_ctors=a.asm.__wasm_call_ctors).apply(null,arguments)},a._malloc=function(){return(He=a._malloc=a.asm.malloc).apply(null,arguments)}),We=(a._ts_language_symbol_count=function(){return(a._ts_language_symbol_count=a.asm.ts_language_symbol_count).apply(null,arguments)},a._ts_language_version=function(){return(a._ts_language_version=a.asm.ts_language_version).apply(null,arguments)},a._ts_language_field_count=function(){return(a._ts_language_field_count=a.asm.ts_language_field_count).apply(null,arguments)},a._ts_language_symbol_name=function(){return(a._ts_language_symbol_name=a.asm.ts_language_symbol_name).apply(null,arguments)},a._ts_language_symbol_for_name=function(){return(a._ts_language_symbol_for_name=a.asm.ts_language_symbol_for_name).apply(null,arguments)},a._ts_language_symbol_type=function(){return(a._ts_language_symbol_type=a.asm.ts_language_symbol_type).apply(null,arguments)},a._ts_language_field_name_for_id=function(){return(a._ts_language_field_name_for_id=a.asm.ts_language_field_name_for_id).apply(null,arguments)},a._memcpy=function(){return(a._memcpy=a.asm.memcpy).apply(null,arguments)},a._free=function(){return(a._free=a.asm.free).apply(null,arguments)},a._calloc=function(){return(a._calloc=a.asm.calloc).apply(null,arguments)},a._ts_parser_delete=function(){return(a._ts_parser_delete=a.asm.ts_parser_delete).apply(null,arguments)},a._ts_parser_reset=function(){return(a._ts_parser_reset=a.asm.ts_parser_reset).apply(null,arguments)},a._ts_parser_set_language=function(){return(a._ts_parser_set_language=a.asm.ts_parser_set_language).apply(null,arguments)},a._ts_parser_timeout_micros=function(){return(a._ts_parser_timeout_micros=a.asm.ts_parser_timeout_micros).apply(null,arguments)},a._ts_parser_set_timeout_micros=function(){return(a._ts_parser_set_timeout_micros=a.asm.ts_parser_set_timeout_micros).apply(null,arguments)},a._memcmp=function(){return(a._memcmp=a.asm.memcmp).apply(null,arguments)},a._ts_query_new=function(){return(a._ts_query_new=a.asm.ts_query_new).apply(null,arguments)},a._ts_query_delete=function(){return(a._ts_query_delete=a.asm.ts_query_delete).apply(null,arguments)},a._iswspace=function(){return(a._iswspace=a.asm.iswspace).apply(null,arguments)},a._iswalnum=function(){return(a._iswalnum=a.asm.iswalnum).apply(null,arguments)},a._ts_query_pattern_count=function(){return(a._ts_query_pattern_count=a.asm.ts_query_pattern_count).apply(null,arguments)},a._ts_query_capture_count=function(){return(a._ts_query_capture_count=a.asm.ts_query_capture_count).apply(null,arguments)},a._ts_query_string_count=function(){return(a._ts_query_string_count=a.asm.ts_query_string_count).apply(null,arguments)},a._ts_query_capture_name_for_id=function(){return(a._ts_query_capture_name_for_id=a.asm.ts_query_capture_name_for_id).apply(null,arguments)},a._ts_query_string_value_for_id=function(){return(a._ts_query_string_value_for_id=a.asm.ts_query_string_value_for_id).apply(null,arguments)},a._ts_query_predicates_for_pattern=function(){return(a._ts_query_predicates_for_pattern=a.asm.ts_query_predicates_for_pattern).apply(null,arguments)},a._ts_tree_copy=function(){return(a._ts_tree_copy=a.asm.ts_tree_copy).apply(null,arguments)},a._ts_tree_delete=function(){return(a._ts_tree_delete=a.asm.ts_tree_delete).apply(null,arguments)},a._ts_init=function(){return(a._ts_init=a.asm.ts_init).apply(null,arguments)},a._ts_parser_new_wasm=function(){return(a._ts_parser_new_wasm=a.asm.ts_parser_new_wasm).apply(null,arguments)},a._ts_parser_enable_logger_wasm=function(){return(a._ts_parser_enable_logger_wasm=a.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},a._ts_parser_parse_wasm=function(){return(a._ts_parser_parse_wasm=a.asm.ts_parser_parse_wasm).apply(null,arguments)},a._ts_language_type_is_named_wasm=function(){return(a._ts_language_type_is_named_wasm=a.asm.ts_language_type_is_named_wasm).apply(null,arguments)},a._ts_language_type_is_visible_wasm=function(){return(a._ts_language_type_is_visible_wasm=a.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},a._ts_tree_root_node_wasm=function(){return(a._ts_tree_root_node_wasm=a.asm.ts_tree_root_node_wasm).apply(null,arguments)},a._ts_tree_edit_wasm=function(){return(a._ts_tree_edit_wasm=a.asm.ts_tree_edit_wasm).apply(null,arguments)},a._ts_tree_get_changed_ranges_wasm=function(){return(a._ts_tree_get_changed_ranges_wasm=a.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},a._ts_tree_cursor_new_wasm=function(){return(a._ts_tree_cursor_new_wasm=a.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},a._ts_tree_cursor_delete_wasm=function(){return(a._ts_tree_cursor_delete_wasm=a.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},a._ts_tree_cursor_reset_wasm=function(){return(a._ts_tree_cursor_reset_wasm=a.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},a._ts_tree_cursor_goto_first_child_wasm=function(){return(a._ts_tree_cursor_goto_first_child_wasm=a.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},a._ts_tree_cursor_goto_next_sibling_wasm=function(){return(a._ts_tree_cursor_goto_next_sibling_wasm=a.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},a._ts_tree_cursor_goto_parent_wasm=function(){return(a._ts_tree_cursor_goto_parent_wasm=a.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},a._ts_tree_cursor_current_node_type_id_wasm=function(){return(a._ts_tree_cursor_current_node_type_id_wasm=a.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},a._ts_tree_cursor_current_node_is_named_wasm=function(){return(a._ts_tree_cursor_current_node_is_named_wasm=a.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},a._ts_tree_cursor_current_node_is_missing_wasm=function(){return(a._ts_tree_cursor_current_node_is_missing_wasm=a.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},a._ts_tree_cursor_current_node_id_wasm=function(){return(a._ts_tree_cursor_current_node_id_wasm=a.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},a._ts_tree_cursor_start_position_wasm=function(){return(a._ts_tree_cursor_start_position_wasm=a.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},a._ts_tree_cursor_end_position_wasm=function(){return(a._ts_tree_cursor_end_position_wasm=a.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},a._ts_tree_cursor_start_index_wasm=function(){return(a._ts_tree_cursor_start_index_wasm=a.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},a._ts_tree_cursor_end_index_wasm=function(){return(a._ts_tree_cursor_end_index_wasm=a.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},a._ts_tree_cursor_current_field_id_wasm=function(){return(a._ts_tree_cursor_current_field_id_wasm=a.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},a._ts_tree_cursor_current_node_wasm=function(){return(a._ts_tree_cursor_current_node_wasm=a.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},a._ts_node_symbol_wasm=function(){return(a._ts_node_symbol_wasm=a.asm.ts_node_symbol_wasm).apply(null,arguments)},a._ts_node_child_count_wasm=function(){return(a._ts_node_child_count_wasm=a.asm.ts_node_child_count_wasm).apply(null,arguments)},a._ts_node_named_child_count_wasm=function(){return(a._ts_node_named_child_count_wasm=a.asm.ts_node_named_child_count_wasm).apply(null,arguments)},a._ts_node_child_wasm=function(){return(a._ts_node_child_wasm=a.asm.ts_node_child_wasm).apply(null,arguments)},a._ts_node_named_child_wasm=function(){return(a._ts_node_named_child_wasm=a.asm.ts_node_named_child_wasm).apply(null,arguments)},a._ts_node_child_by_field_id_wasm=function(){return(a._ts_node_child_by_field_id_wasm=a.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},a._ts_node_next_sibling_wasm=function(){return(a._ts_node_next_sibling_wasm=a.asm.ts_node_next_sibling_wasm).apply(null,arguments)},a._ts_node_prev_sibling_wasm=function(){return(a._ts_node_prev_sibling_wasm=a.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},a._ts_node_next_named_sibling_wasm=function(){return(a._ts_node_next_named_sibling_wasm=a.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},a._ts_node_prev_named_sibling_wasm=function(){return(a._ts_node_prev_named_sibling_wasm=a.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},a._ts_node_parent_wasm=function(){return(a._ts_node_parent_wasm=a.asm.ts_node_parent_wasm).apply(null,arguments)},a._ts_node_descendant_for_index_wasm=function(){return(a._ts_node_descendant_for_index_wasm=a.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},a._ts_node_named_descendant_for_index_wasm=function(){return(a._ts_node_named_descendant_for_index_wasm=a.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},a._ts_node_descendant_for_position_wasm=function(){return(a._ts_node_descendant_for_position_wasm=a.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},a._ts_node_named_descendant_for_position_wasm=function(){return(a._ts_node_named_descendant_for_position_wasm=a.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},a._ts_node_start_point_wasm=function(){return(a._ts_node_start_point_wasm=a.asm.ts_node_start_point_wasm).apply(null,arguments)},a._ts_node_end_point_wasm=function(){return(a._ts_node_end_point_wasm=a.asm.ts_node_end_point_wasm).apply(null,arguments)},a._ts_node_start_index_wasm=function(){return(a._ts_node_start_index_wasm=a.asm.ts_node_start_index_wasm).apply(null,arguments)},a._ts_node_end_index_wasm=function(){return(a._ts_node_end_index_wasm=a.asm.ts_node_end_index_wasm).apply(null,arguments)},a._ts_node_to_string_wasm=function(){return(a._ts_node_to_string_wasm=a.asm.ts_node_to_string_wasm).apply(null,arguments)},a._ts_node_children_wasm=function(){return(a._ts_node_children_wasm=a.asm.ts_node_children_wasm).apply(null,arguments)},a._ts_node_named_children_wasm=function(){return(a._ts_node_named_children_wasm=a.asm.ts_node_named_children_wasm).apply(null,arguments)},a._ts_node_descendants_of_type_wasm=function(){return(a._ts_node_descendants_of_type_wasm=a.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},a._ts_node_is_named_wasm=function(){return(a._ts_node_is_named_wasm=a.asm.ts_node_is_named_wasm).apply(null,arguments)},a._ts_node_has_changes_wasm=function(){return(a._ts_node_has_changes_wasm=a.asm.ts_node_has_changes_wasm).apply(null,arguments)},a._ts_node_has_error_wasm=function(){return(a._ts_node_has_error_wasm=a.asm.ts_node_has_error_wasm).apply(null,arguments)},a._ts_node_is_missing_wasm=function(){return(a._ts_node_is_missing_wasm=a.asm.ts_node_is_missing_wasm).apply(null,arguments)},a._ts_query_matches_wasm=function(){return(a._ts_query_matches_wasm=a.asm.ts_query_matches_wasm).apply(null,arguments)},a._ts_query_captures_wasm=function(){return(a._ts_query_captures_wasm=a.asm.ts_query_captures_wasm).apply(null,arguments)},a._iswdigit=function(){return(a._iswdigit=a.asm.iswdigit).apply(null,arguments)},a._iswalpha=function(){return(a._iswalpha=a.asm.iswalpha).apply(null,arguments)},a._iswlower=function(){return(a._iswlower=a.asm.iswlower).apply(null,arguments)},a._towupper=function(){return(a._towupper=a.asm.towupper).apply(null,arguments)},a.___errno_location=function(){return(We=a.___errno_location=a.asm.__errno_location).apply(null,arguments)}),$e=(a._memchr=function(){return(a._memchr=a.asm.memchr).apply(null,arguments)},a._strlen=function(){return(a._strlen=a.asm.strlen).apply(null,arguments)},a.stackSave=function(){return($e=a.stackSave=a.asm.stackSave).apply(null,arguments)}),ze=a.stackRestore=function(){return(ze=a.stackRestore=a.asm.stackRestore).apply(null,arguments)},Ye=a.stackAlloc=function(){return(Ye=a.stackAlloc=a.asm.stackAlloc).apply(null,arguments)},Ge=a._setThrew=function(){return(Ge=a._setThrew=a.asm.setThrew).apply(null,arguments)};function Xe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}a.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(a.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=a.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},a.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(a.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=a.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},a.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(a.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=a.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},a.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(a.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=a.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},a.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(a.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=a.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},a.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(a.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=a.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},a.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(a.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=a.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},a.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(a.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=a.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},a.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_=function(){return(a.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_=a.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_).apply(null,arguments)},a.__Znwm=function(){return(a.__Znwm=a.asm._Znwm).apply(null,arguments)},a.__ZdlPv=function(){return(a.__ZdlPv=a.asm._ZdlPv).apply(null,arguments)},a.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=function(){return(a.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=a.asm._ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv).apply(null,arguments)},a._orig$ts_parser_timeout_micros=function(){return(a._orig$ts_parser_timeout_micros=a.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},a._orig$ts_parser_set_timeout_micros=function(){return(a._orig$ts_parser_set_timeout_micros=a.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},a.allocate=function(e,t){var n;return n=t==L?Ye(e.length):He(e.length),e.subarray||e.slice?k.set(e,n):k.set(new Uint8Array(e),n),n},re=function e(){qe||Ve(),qe||(re=e)};var Ke=!1;function Ve(e){function t(){qe||(qe=!0,a.calledRun=!0,D||(ee=!0,ye(Q),ye(J),a.onRuntimeInitialized&&a.onRuntimeInitialized(),Je&&function(e){var t=a._main;if(t){var n=(e=e||[]).length+1,r=Ye(4*(n+1));F[r>>2]=Y(c);for(var i=1;i<n;i++)F[(r>>2)+i]=Y(e[i-1]);F[(r>>2)+n]=0;try{Qe(t(n,r),!0)}catch(e){if(e instanceof Xe)return;if("unwind"==e)return;var o=e;e&&"object"==typeof e&&e.stack&&(o=[e,e.stack]),_("exception thrown: "+o),u(1,e)}}}(e),function(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)e=a.postRun.shift(),Z.unshift(e);var e;ye(Z)}()))}e=e||s,te>0||!Ke&&(function(){if(R.length){if(!h)return ie(),void R.reduce((function(e,t){return e.then((function(){return De(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})}))}),Promise.resolve()).then((function(){oe(),xe()}));R.forEach((function(e){De(e,{global:!0,nodelete:!0,allowUndefined:!0})})),xe()}else xe()}(),Ke=!0,te>0)||(function(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)e=a.preRun.shift(),V.unshift(e);var e;ye(V)}(),te>0||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),t()}),1)):t()))}function Qe(e,t){t&&be()&&0===e||(be()||(a.onExit&&a.onExit(e),D=!0),u(e,new Xe(e)))}if(a.run=Ve,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();var Je=!0;a.noInitialRun&&(Je=!1),Ve();const Ze=a,et={},tt=4,nt=5*tt,rt=2*tt,it=2*tt+2*rt,ot={row:0,column:0},at=/[\w-.]*/g,st=1,ct=2,ut=/^_?tree_sitter_\w+/;var lt,dt,ft,pt,ht,mt=new Promise((e=>{a.onRuntimeInitialized=e})).then((()=>{ft=Ze._ts_init(),lt=C(ft,"i32"),dt=C(ft+tt,"i32")}));class gt{static init(){return mt}constructor(){if(null==ft)throw new Error("You must first call Parser.init() and wait for it to resolve.");Ze._ts_parser_new_wasm(),this[0]=C(ft,"i32"),this[1]=C(ft+tt,"i32")}delete(){Ze._ts_parser_delete(this[0]),Ze._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let t;if(e){if(e.constructor!==bt)throw new Error("Argument must be a Language");{t=e[0];const n=Ze._ts_language_version(t);if(n<dt||lt<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${dt} through ${lt}.`)}}else t=0,e=null;return this.language=e,Ze._ts_parser_set_language(this[0],t),this}getLanguage(){return this.language}parse(e,t,n){if("string"==typeof e)pt=(t,n,r)=>e.slice(t,r);else{if("function"!=typeof e)throw new Error("Argument must be a string or a function");pt=e}this.logCallback?(ht=this.logCallback,Ze._ts_parser_enable_logger_wasm(this[0],1)):(ht=null,Ze._ts_parser_enable_logger_wasm(this[0],0));let r=0,i=0;if(n&&n.includedRanges){r=n.includedRanges.length;let e=i=Ze._calloc(r,it);for(let t=0;t<r;t++)At(e,n.includedRanges[t]),e+=it}const o=Ze._ts_parser_parse_wasm(this[0],this[1],t?t[0]:0,i,r);if(!o)throw pt=null,ht=null,new Error("Parsing failed");const a=new yt(et,o,this.language,pt);return pt=null,ht=null,a}reset(){Ze._ts_parser_reset(this[0])}setTimeoutMicros(e){Ze._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return Ze._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if("function"!=typeof e)throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class yt{constructor(e,t,n,r){St(e),this[0]=t,this.language=n,this.textCallback=r}copy(){const e=Ze._ts_tree_copy(this[0]);return new yt(et,e,this.language,this.textCallback)}delete(){Ze._ts_tree_delete(this[0]),this[0]=0}edit(e){!function(e){let t=ft;Dt(t,e.startPosition),Dt(t+=rt,e.oldEndPosition),Dt(t+=rt,e.newEndPosition),O(t+=rt,e.startIndex,"i32"),O(t+=tt,e.oldEndIndex,"i32"),O(t+=tt,e.newEndIndex,"i32"),t+=tt}(e),Ze._ts_tree_edit_wasm(this[0])}get rootNode(){return Ze._ts_tree_root_node_wasm(this[0]),Nt(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==yt)throw new TypeError("Argument must be a Tree");Ze._ts_tree_get_changed_ranges_wasm(this[0],e[0]);const t=C(ft,"i32"),n=C(ft+tt,"i32"),r=new Array(t);if(t>0){let e=n;for(let n=0;n<t;n++)r[n]=It(e),e+=it;Ze._free(n)}return r}}class _t{constructor(e,t){St(e),this.tree=t}get typeId(){return Pt(this),Ze._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return Pt(this),Ze._ts_node_end_point_wasm(this.tree[0]),xt(ft)}get endIndex(){return Pt(this),Ze._ts_node_end_index_wasm(this.tree[0])}get text(){return Tt(this.tree,this.startIndex,this.endIndex)}isNamed(){return Pt(this),1===Ze._ts_node_is_named_wasm(this.tree[0])}hasError(){return Pt(this),1===Ze._ts_node_has_error_wasm(this.tree[0])}hasChanges(){return Pt(this),1===Ze._ts_node_has_changes_wasm(this.tree[0])}isMissing(){return Pt(this),1===Ze._ts_node_is_missing_wasm(this.tree[0])}equals(e){return this.id===e.id}child(e){return Pt(this),Ze._ts_node_child_wasm(this.tree[0],e),Nt(this.tree)}namedChild(e){return Pt(this),Ze._ts_node_named_child_wasm(this.tree[0],e),Nt(this.tree)}childForFieldId(e){return Pt(this),Ze._ts_node_child_by_field_id_wasm(this.tree[0],e),Nt(this.tree)}childForFieldName(e){const t=this.tree.language.fields.indexOf(e);if(-1!==t)return this.childForFieldId(t)}get childCount(){return Pt(this),Ze._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return Pt(this),Ze._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){Pt(this),Ze._ts_node_children_wasm(this.tree[0]);const e=C(ft,"i32"),t=C(ft+tt,"i32");if(this._children=new Array(e),e>0){let n=t;for(let t=0;t<e;t++)this._children[t]=Nt(this.tree,n),n+=nt;Ze._free(t)}}return this._children}get namedChildren(){if(!this._namedChildren){Pt(this),Ze._ts_node_named_children_wasm(this.tree[0]);const e=C(ft,"i32"),t=C(ft+tt,"i32");if(this._namedChildren=new Array(e),e>0){let n=t;for(let t=0;t<e;t++)this._namedChildren[t]=Nt(this.tree,n),n+=nt;Ze._free(t)}}return this._namedChildren}descendantsOfType(e,t,n){Array.isArray(e)||(e=[e]),t||(t=ot),n||(n=ot);const r=[],i=this.tree.language.types;for(let t=0,n=i.length;t<n;t++)e.includes(i[t])&&r.push(t);const o=Ze._malloc(tt*r.length);for(let e=0,t=r.length;e<t;e++)O(o+e*tt,r[e],"i32");Pt(this),Ze._ts_node_descendants_of_type_wasm(this.tree[0],o,r.length,t.row,t.column,n.row,n.column);const a=C(ft,"i32"),s=C(ft+tt,"i32"),c=new Array(a);if(a>0){let e=s;for(let t=0;t<a;t++)c[t]=Nt(this.tree,e),e+=nt}return Ze._free(s),Ze._free(o),c}get nextSibling(){return Pt(this),Ze._ts_node_next_sibling_wasm(this.tree[0]),Nt(this.tree)}get previousSibling(){return Pt(this),Ze._ts_node_prev_sibling_wasm(this.tree[0]),Nt(this.tree)}get nextNamedSibling(){return Pt(this),Ze._ts_node_next_named_sibling_wasm(this.tree[0]),Nt(this.tree)}get previousNamedSibling(){return Pt(this),Ze._ts_node_prev_named_sibling_wasm(this.tree[0]),Nt(this.tree)}get parent(){return Pt(this),Ze._ts_node_parent_wasm(this.tree[0]),Nt(this.tree)}descendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");Pt(this);let n=ft+nt;return O(n,e,"i32"),O(n+tt,t,"i32"),Ze._ts_node_descendant_for_index_wasm(this.tree[0]),Nt(this.tree)}namedDescendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");Pt(this);let n=ft+nt;return O(n,e,"i32"),O(n+tt,t,"i32"),Ze._ts_node_named_descendant_for_index_wasm(this.tree[0]),Nt(this.tree)}descendantForPosition(e,t=e){if(!Rt(e)||!Rt(t))throw new Error("Arguments must be {row, column} objects");Pt(this);let n=ft+nt;return Dt(n,e),Dt(n+rt,t),Ze._ts_node_descendant_for_position_wasm(this.tree[0]),Nt(this.tree)}namedDescendantForPosition(e,t=e){if(!Rt(e)||!Rt(t))throw new Error("Arguments must be {row, column} objects");Pt(this);let n=ft+nt;return Dt(n,e),Dt(n+rt,t),Ze._ts_node_named_descendant_for_position_wasm(this.tree[0]),Nt(this.tree)}walk(){return Pt(this),Ze._ts_tree_cursor_new_wasm(this.tree[0]),new vt(et,this.tree)}toString(){Pt(this);const e=Ze._ts_node_to_string_wasm(this.tree[0]),t=function(e){for(var t="";;){var n=k[e++>>0];if(!n)return t;t+=String.fromCharCode(n)}}(e);return Ze._free(e),t}}class vt{constructor(e,t){St(e),this.tree=t,Ct(this)}delete(){Ot(this),Ze._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){Pt(e),Ot(this,ft+nt),Ze._ts_tree_cursor_reset_wasm(this.tree[0]),Ct(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return Ot(this),Ze._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return Ot(this),Ze._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return Ot(this),1===Ze._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])}get nodeIsMissing(){return Ot(this),1===Ze._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])}get nodeText(){Ot(this);const e=Ze._ts_tree_cursor_start_index_wasm(this.tree[0]),t=Ze._ts_tree_cursor_end_index_wasm(this.tree[0]);return Tt(this.tree,e,t)}get startPosition(){return Ot(this),Ze._ts_tree_cursor_start_position_wasm(this.tree[0]),xt(ft)}get endPosition(){return Ot(this),Ze._ts_tree_cursor_end_position_wasm(this.tree[0]),xt(ft)}get startIndex(){return Ot(this),Ze._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return Ot(this),Ze._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return Ot(this),Ze._ts_tree_cursor_current_node_wasm(this.tree[0]),Nt(this.tree)}currentFieldId(){return Ot(this),Ze._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){Ot(this);const e=Ze._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return Ct(this),1===e}gotoNextSibling(){Ot(this);const e=Ze._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return Ct(this),1===e}gotoParent(){Ot(this);const e=Ze._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return Ct(this),1===e}}class bt{constructor(e,t){St(e),this[0]=t,this.types=new Array(Ze._ts_language_symbol_count(this[0]));for(let e=0,t=this.types.length;e<t;e++)Ze._ts_language_symbol_type(this[0],e)<2&&(this.types[e]=H(Ze._ts_language_symbol_name(this[0],e)));this.fields=new Array(Ze._ts_language_field_count(this[0])+1);for(let e=0,t=this.fields.length;e<t;e++){const t=Ze._ts_language_field_name_for_id(this[0],e);this.fields[e]=0!==t?H(t):null}}get version(){return Ze._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){const t=this.fields.indexOf(e);return-1!==t?t:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,t){const n=z(e),r=Ze._malloc(n+1);$(e,r,n+1);const i=Ze._ts_language_symbol_for_name(this[0],r,n,t);return Ze._free(r),i||null}get nodeTypeCount(){return Ze._ts_language_symbol_count(this[0])}nodeTypeForId(e){const t=Ze._ts_language_symbol_name(this[0],e);return t?H(t):null}nodeTypeIsNamed(e){return!!Ze._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!Ze._ts_language_type_is_visible_wasm(this[0],e)}query(e){const t=z(e),n=Ze._malloc(t+1);$(e,n,t+1);const r=Ze._ts_query_new(this[0],n,t,ft,ft+tt);if(!r){const t=C(ft+tt,"i32"),r=H(n,C(ft,"i32")).length,i=e.substr(r,100).split("\n")[0];let o,a=i.match(at)[0];switch(t){case 2:o=new RangeError(`Bad node name '${a}'`);break;case 3:o=new RangeError(`Bad field name '${a}'`);break;case 4:o=new RangeError(`Bad capture name @${a}`);break;case 5:o=new TypeError(`Bad pattern structure at offset ${r}: '${i}'...`),a="";break;default:o=new SyntaxError(`Bad syntax at offset ${r}: '${i}'...`),a=""}throw o.index=r,o.length=a.length,Ze._free(n),o}const i=Ze._ts_query_string_count(r),o=Ze._ts_query_capture_count(r),a=Ze._ts_query_pattern_count(r),s=new Array(o),c=new Array(i);for(let e=0;e<o;e++){const t=Ze._ts_query_capture_name_for_id(r,e,ft),n=C(ft,"i32");s[e]=H(t,n)}for(let e=0;e<i;e++){const t=Ze._ts_query_string_value_for_id(r,e,ft),n=C(ft,"i32");c[e]=H(t,n)}const u=new Array(a),l=new Array(a),d=new Array(a),f=new Array(a),p=new Array(a);for(let e=0;e<a;e++){const t=Ze._ts_query_predicates_for_pattern(r,e,ft),n=C(ft,"i32");f[e]=[],p[e]=[];const i=[];let o=t;for(let t=0;t<n;t++){const t=C(o,"i32"),n=C(o+=tt,"i32");if(o+=tt,t===st)i.push({type:"capture",name:s[n]});else if(t===ct)i.push({type:"string",value:c[n]});else if(i.length>0){if("string"!==i[0].type)throw new Error("Predicates must begin with a literal value");const t=i[0].value;let n=!0;switch(t){case"not-eq?":n=!1;case"eq?":if(3!==i.length)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(i.length-1));if("capture"!==i[1].type)throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${i[1].value}"`);if("capture"===i[2].type){const t=i[1].name,r=i[2].name;p[e].push((function(e){let i,o;for(const n of e)n.name===t&&(i=n.node),n.name===r&&(o=n.node);return i.text===o.text===n}))}else{const t=i[1].name,r=i[2].value;p[e].push((function(e){for(const i of e)if(i.name===t)return i.node.text===r===n;return!1}))}break;case"not-match?":n=!1;case"match?":if(3!==i.length)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${i.length-1}.`);if("capture"!==i[1].type)throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${i[1].value}".`);if("string"!==i[2].type)throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${i[2].value}.`);const r=i[1].name,o=new RegExp(i[2].value);p[e].push((function(e){for(const t of e)if(t.name===r)return o.test(t.node.text)===n;return!1}));break;case"set!":if(i.length<2||i.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${i.length-1}.`);if(i.some((e=>"string"!==e.type)))throw new Error('Arguments to `#set!` predicate must be a strings.".');u[e]||(u[e]={}),u[e][i[1].value]=i[2]?i[2].value:null;break;case"is?":case"is-not?":if(i.length<2||i.length>3)throw new Error(`Wrong number of arguments to \`#${t}\` predicate. Expected 1 or 2. Got ${i.length-1}.`);if(i.some((e=>"string"!==e.type)))throw new Error(`Arguments to \`#${t}\` predicate must be a strings.".`);const a="is?"===t?l:d;a[e]||(a[e]={}),a[e][i[1].value]=i[2]?i[2].value:null;break;default:f[e].push({operator:t,operands:i.slice(1)})}i.length=0}}Object.freeze(u[e]),Object.freeze(l[e]),Object.freeze(d[e])}return Ze._free(n),new Et(et,r,s,p,f,Object.freeze(u),Object.freeze(l),Object.freeze(d))}static load(e){let t;if(e instanceof Uint8Array)t=Promise.resolve(e);else{const r=e;if("undefined"!=typeof process&&process.versions&&process.versions.node){const e=n(5747);t=Promise.resolve(e.readFileSync(r))}else t=fetch(r).then((e=>e.arrayBuffer().then((t=>{if(e.ok)return new Uint8Array(t);{const n=new TextDecoder("utf-8").decode(t);throw new Error(`Language.load failed with status ${e.status}.\n\n${n}`)}}))))}const r="function"==typeof loadSideModule?loadSideModule:Ce;return t.then((e=>r(e,{loadAsync:!0}))).then((e=>{const t=Object.keys(e),n=t.find((e=>ut.test(e)&&!e.includes("external_scanner_")));n||console.log(`Couldn't find language function in WASM file. Symbols:\n${JSON.stringify(t,null,2)}`);const r=e[n]();return new bt(et,r)}))}}class Et{constructor(e,t,n,r,i,o,a,s){St(e),this[0]=t,this.captureNames=n,this.textPredicates=r,this.predicates=i,this.setProperties=o,this.assertedProperties=a,this.refutedProperties=s,this.exceededMatchLimit=!1}delete(){Ze._ts_query_delete(this[0]),this[0]=0}matches(e,t,n){t||(t=ot),n||(n=ot),Pt(e),Ze._ts_query_matches_wasm(this[0],e.tree[0],t.row,t.column,n.row,n.column);const r=C(ft,"i32"),i=C(ft+tt,"i32"),o=C(ft+2*tt,"i32"),a=new Array(r);this.exceededMatchLimit=!!o;let s=0,c=i;for(let t=0;t<r;t++){const n=C(c,"i32"),r=C(c+=tt,"i32");c+=tt;const i=new Array(r);if(c=wt(this,e.tree,c,i),this.textPredicates[n].every((e=>e(i)))){a[s++]={pattern:n,captures:i};const e=this.setProperties[n];e&&(a[t].setProperties=e);const r=this.assertedProperties[n];r&&(a[t].assertedProperties=r);const o=this.refutedProperties[n];o&&(a[t].refutedProperties=o)}}return a.length=s,Ze._free(i),a}captures(e,t,n){t||(t=ot),n||(n=ot),Pt(e),Ze._ts_query_captures_wasm(this[0],e.tree[0],t.row,t.column,n.row,n.column);const r=C(ft,"i32"),i=C(ft+tt,"i32"),o=C(ft+2*tt,"i32"),a=[];this.exceededMatchLimit=!!o;const s=[];let c=i;for(let t=0;t<r;t++){const t=C(c,"i32"),n=C(c+=tt,"i32"),r=C(c+=tt,"i32");if(c+=tt,s.length=n,c=wt(this,e.tree,c,s),this.textPredicates[t].every((e=>e(s)))){const e=s[r],n=this.setProperties[t];n&&(e.setProperties=n);const i=this.assertedProperties[t];i&&(e.assertedProperties=i);const o=this.refutedProperties[t];o&&(e.refutedProperties=o),a.push(e)}}return Ze._free(i),a}predicatesForPattern(e){return this.predicates[e]}didExceedMatchLimit(){return this.exceededMatchLimit}}function Tt(e,t,n){const r=n-t;let i=e.textCallback(t,null,n);for(t+=i.length;t<n;){const r=e.textCallback(t,null,n);if(!(r&&r.length>0))break;t+=r.length,i+=r}return t>n&&(i=i.slice(0,r)),i}function wt(e,t,n,r){for(let i=0,o=r.length;i<o;i++){const o=C(n,"i32"),a=Nt(t,n+=tt);n+=nt,r[i]={name:e.captureNames[o],node:a}}return n}function St(e){if(e!==et)throw new Error("Illegal constructor")}function Rt(e){return e&&"number"==typeof e.row&&"number"==typeof e.column}function Pt(e){let t=ft;O(t,e.id,"i32"),O(t+=tt,e.startIndex,"i32"),O(t+=tt,e.startPosition.row,"i32"),O(t+=tt,e.startPosition.column,"i32"),O(t+=tt,e[0],"i32")}function Nt(e,t=ft){const n=C(t,"i32");if(0===n)return null;const r=C(t+=tt,"i32"),i=C(t+=tt,"i32"),o=C(t+=tt,"i32"),a=C(t+=tt,"i32"),s=new _t(et,e);return s.id=n,s.startIndex=r,s.startPosition={row:i,column:o},s[0]=a,s}function Ot(e,t=ft){O(t+0*tt,e[0],"i32"),O(t+1*tt,e[1],"i32"),O(t+2*tt,e[2],"i32")}function Ct(e){e[0]=C(ft+0*tt,"i32"),e[1]=C(ft+1*tt,"i32"),e[2]=C(ft+2*tt,"i32")}function Dt(e,t){O(e,t.row,"i32"),O(e+tt,t.column,"i32")}function xt(e){return{row:C(e,"i32"),column:C(e+tt,"i32")}}function At(e,t){Dt(e,t.startPosition),Dt(e+=rt,t.endPosition),O(e+=rt,t.startIndex,"i32"),O(e+=tt,t.endIndex,"i32"),e+=tt}function It(e){const t={};return t.startPosition=xt(e),e+=rt,t.endPosition=xt(e),e+=rt,t.startIndex=C(e,"i32"),e+=tt,t.endIndex=C(e,"i32"),t}return gt.Language=bt,gt.Parser=gt,gt})?r.apply(t,i):r)||(e.exports=o)},7477:e=>{e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}}},2357:e=>{"use strict";e.exports=require("assert")},3129:e=>{"use strict";e.exports=require("child_process")},6417:e=>{"use strict";e.exports=require("crypto")},8614:e=>{"use strict";e.exports=require("events")},5747:e=>{"use strict";e.exports=require("fs")},1631:e=>{"use strict";e.exports=require("net")},2087:e=>{"use strict";e.exports=require("os")},5622:e=>{"use strict";e.exports=require("path")},2413:e=>{"use strict";e.exports=require("stream")},8835:e=>{"use strict";e.exports=require("url")},1669:e=>{"use strict";e.exports=require("util")}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";const e=__webpack_require__(433),t=__webpack_require__(6288),n=__webpack_require__(7285);const r=e.createConnection();console.log=r.console.log.bind(r.console),console.error=r.console.error.bind(r.console);const i=n.default(r);new class{constructor(n,r){this.connection=n,this.languageFeaturesService=r,this.documents=new e.TextDocuments(t.TextDocument),this.connection.onInitialize(r.onInitialize.bind(r)),this.connection.onInitialized(r.onInitialized.bind(r)),this.connection.onCompletion(r.onCompletion.bind(r)),this.connection.onCompletionResolve(r.onCompletionResolve.bind(r)),this.connection.onDidChangeConfiguration(r.onDidChangeConfiguration.bind(r)),this.connection.onRequest("ColoringService.colorize",(e=>(r.sendColorizeRequest(e.uri),null))),this.connection.onHover(r.onHover.bind(r)),this.documents.onDidClose(r.onDidClose.bind(r)),this.documents.onDidChangeContent(r.onDidChangeContent.bind(r)),this.documents.onDidSave(r.onDidSave.bind(r)),this.connection.onDefinition(r.onDefinition.bind(r)),this.connection.onDidChangeWatchedFiles(r.onDidChangeWatchedFiles.bind(r))}listen(){this.documents.listen(this.connection),this.connection.listen()}}(r,i).listen()})()})();