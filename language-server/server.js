/*! For license information please see server.js.LICENSE.txt */
(()=>{var __webpack_modules__={945:(e,t,n)=>{var r=n(838);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return g(function(e){return e.split("\\\\").join(i).split("\\{").join(o).split("\\}").join(a).split("\\,").join(s).split("\\.").join(c)}(e),!0).map(l)};var i="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",s="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function l(e){return e.split(i).join("\\").split(o).join("{").split(a).join("}").split(s).join(",").split(c).join(".")}function d(e){if(!e)return[""];var t=[],n=r("{","}",e);if(!n)return e.split(",");var i=n.pre,o=n.body,a=n.post,s=i.split(",");s[s.length-1]+="{"+o+"}";var c=d(a);return a.length&&(s[s.length-1]+=c.shift(),s.push.apply(s,c)),t.push.apply(t,s),t}function f(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function h(e,t){return e<=t}function m(e,t){return e>=t}function g(e,t){var n=[],i=r("{","}",e);if(!i)return[e];var o=i.pre,s=i.post.length?g(i.post,!1):[""];if(/\$$/.test(i.pre))for(var c=0;c<s.length;c++){var l=o+"{"+i.body+"}"+s[c];n.push(l)}else{var y,_,v=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),b=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),E=v||b,T=i.body.indexOf(",")>=0;if(!E&&!T)return i.post.match(/,.*\}/)?g(e=i.pre+"{"+i.body+a+i.post):[e];if(E)y=i.body.split(/\.\./);else if(1===(y=d(i.body)).length&&1===(y=g(y[0],!1).map(f)).length)return s.map((function(e){return i.pre+y[0]+e}));if(E){var w=u(y[0]),S=u(y[1]),P=Math.max(y[0].length,y[1].length),R=3==y.length?Math.abs(u(y[2])):1,D=h;S<w&&(R*=-1,D=m);var C=y.some(p);_=[];for(var x=w;D(x,S);x+=R){var N;if(b)"\\"===(N=String.fromCharCode(x))&&(N="");else if(N=String(x),C){var A=P-N.length;if(A>0){var O=new Array(A+1).join("0");N=x<0?"-"+O+N.slice(1):O+N}}_.push(N)}}else{_=[];for(var I=0;I<y.length;I++)_.push.apply(_,g(y[I],!1))}for(I=0;I<_.length;I++)for(c=0;c<s.length;c++){l=o+_[I]+s[c];(!t||E||l)&&n.push(l)}}return n}},3752:(e,t,n)=>{function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.fs=n.fs||i,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var a=process.cwd();r(n,"cwd")?(e.cwd=o.resolve(n.cwd),e.changedCwd=e.cwd!==a):e.cwd=o.resolve(a);e.root=n.root||o.resolve(e.cwd,"/"),e.root=o.resolve(e.root),e.cwdAbs=s(e.cwd)?e.cwd:d(e,e.cwd),e.nomount=!!n.nomount,"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"),e.cwd=e.cwd.replace(/\\/g,"/"),e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));n.nonegate=!0,n.nocomment=!0,n.allowWindowsEscape=!0,e.minimatch=new c(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=d,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var a=Object.keys(o);t?n.push.apply(n,a):a.forEach((function(e){n[e]=!0}))}else if(e.nonull){var s=e.minimatch.globSet[r];t?n.push(s):n[s]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(u));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter((function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[d(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}e.ignore.length&&(n=n.filter((function(t){return!f(e,t)})));e.found=n},t.mark=function(e,t){var n=d(e,t),r=e.cache[n],i=t;if(r){var o="DIR"===r||Array.isArray(r),a="/"===t.slice(-1);if(o&&!a?i+="/":!o&&a&&(i=i.slice(0,-1)),i!==t){var s=d(e,i);e.statCache[s]=e.statCache[n],e.cache[s]=e.cache[n]}}return i},t.isIgnored=f,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var i=n(7147),o=n(1017),a=n(4473),s=n(1017).isAbsolute,c=a.Minimatch;function u(e,t){return e.localeCompare(t,"en")}function l(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new c(n,{dot:!0})}return{matcher:new c(e,{dot:!0}),gmatcher:t}}function d(e,t){var n=t;return n="/"===t.charAt(0)?o.join(e.root,t):s(t)||""===t?t:e.changedCwd?o.resolve(e.cwd,t):o.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function f(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},4099:(e,t,n)=>{e.exports=_;var r=n(2008),i=n(4473),o=(i.Minimatch,n(1800)),a=n(2361).EventEmitter,s=n(1017),c=n(9491),u=n(1017).isAbsolute,l=n(4355),d=n(3752),f=d.setopts,p=d.ownProp,h=n(1656),m=(n(3837),d.childrenIgnored),g=d.isIgnored,y=n(4132);function _(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return l(e,t)}return new b(e,t,n)}_.sync=l;var v=_.GlobSync=l.GlobSync;function b(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new v(e,t)}if(!(this instanceof b))return new b(e,t,n);f(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=y(n),this.on("error",n),this.on("end",(function(e){n(null,e)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,a);function a(){--i._processing,i._processing<=0&&i._finish()}}_.glob=_,_.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new b(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},_.Glob=b,o(b,a),b.prototype._finish=function(){if(c(this instanceof b),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();d.finish(this),this.emit("end",this.found)}},b.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},b.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var i=Object.keys(n),o=this,a=i.length;if(0===a)return t();var s=this.matches[e]=Object.create(null);i.forEach((function(n,i){n=o._makeAbs(n),r.realpath(n,o.realpathCache,(function(r,i){r?"stat"===r.syscall?s[n]=!0:o.emit("error",r):s[i]=!0,0==--a&&(o.matches[e]=s,t())}))}))},b.prototype._mark=function(e){return d.mark(this,e)},b.prototype._makeAbs=function(e){return d.makeAbs(this,e)},b.prototype.abort=function(){this.aborted=!0,this.emit("abort")},b.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},b.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},b.prototype._process=function(e,t,n,r){if(c(this instanceof b),c("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var o,a=0;"string"==typeof e[a];)a++;switch(a){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:o=null;break;default:o=e.slice(0,a).join("/")}var s,l=e.slice(a);null===o?s=".":u(o)||u(e.map((function(e){return"string"==typeof e?e:"[*]"})).join("/"))?(o&&u(o)||(o="/"+o),s=o):s=o;var d=this._makeAbs(s);if(m(this,s))return r();l[0]===i.GLOBSTAR?this._processGlobStar(o,s,d,l,t,n,r):this._processReaddir(o,s,d,l,t,n,r)}},b.prototype._processReaddir=function(e,t,n,r,i,o,a){var s=this;this._readdir(n,o,(function(c,u){return s._processReaddir2(e,t,n,r,i,o,u,a)}))},b.prototype._processReaddir2=function(e,t,n,r,i,o,a,c){if(!a)return c();for(var u=r[0],l=!!this.minimatch.negate,d=u._glob,f=this.dot||"."===d.charAt(0),p=[],h=0;h<a.length;h++){if("."!==(g=a[h]).charAt(0)||f)(l&&!e?!g.match(u):g.match(u))&&p.push(g)}var m=p.length;if(0===m)return c();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(h=0;h<m;h++){var g=p[h];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=s.join(this.root,g)),this._emitMatch(i,g)}return c()}r.shift();for(h=0;h<m;h++){g=p[h];e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(r),i,o,c)}c()},b.prototype._emitMatch=function(e,t){if(!this.aborted&&!g(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=u(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}},b.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,r=h("lstat\0"+e,(function(r,i){if(r&&"ENOENT"===r.code)return t();var o=i&&i.isSymbolicLink();n.symlinks[e]=o,o||!i||i.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())}));r&&n.fs.lstat(e,r)}},b.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=h("readdir\0"+e+"\0"+t,n))){if(t&&!p(this.symlinks,e))return this._readdirInGlobStar(e,n);if(p(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return n();if(Array.isArray(r))return n(null,r)}this.fs.readdir(e,function(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}(this,e,n))}},b.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},b.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},b.prototype._processGlobStar=function(e,t,n,r,i,o,a){var s=this;this._readdir(n,o,(function(c,u){s._processGlobStar2(e,t,n,r,i,o,u,a)}))},b.prototype._processGlobStar2=function(e,t,n,r,i,o,a,s){if(!a)return s();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,i,!1,s);var d=this.symlinks[n],f=a.length;if(d&&o)return s();for(var p=0;p<f;p++){if("."!==a[p].charAt(0)||this.dot){var h=u.concat(a[p],c);this._process(h,i,!0,s);var m=u.concat(a[p],r);this._process(m,i,!0,s)}}s()},b.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,(function(i,o){r._processSimple2(e,t,i,o,n)}))},b.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&u(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},b.prototype._stat=function(e,t){var n=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&p(this.cache,n)){var i=this.cache[n];if(Array.isArray(i)&&(i="DIR"),!r||"DIR"===i)return t(null,i);if(r&&"FILE"===i)return t()}var o=this.statCache[n];if(void 0!==o){if(!1===o)return t(null,o);var a=o.isDirectory()?"DIR":"FILE";return r&&"FILE"===a?t():t(null,a,o)}var s=this,c=h("stat\0"+n,(function(r,i){if(i&&i.isSymbolicLink())return s.fs.stat(n,(function(r,o){r?s._stat2(e,n,null,i,t):s._stat2(e,n,r,o,t)}));s._stat2(e,n,r,i,t)}));c&&s.fs.lstat(n,c)},b.prototype._stat2=function(e,t,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var a=!0;return r&&(a=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||a,o&&"FILE"===a?i():i(null,a,r)}},4355:(e,t,n)=>{e.exports=p,p.GlobSync=h;var r=n(2008),i=n(4473),o=(i.Minimatch,n(4099).Glob,n(3837),n(1017)),a=n(9491),s=n(1017).isAbsolute,c=n(3752),u=c.setopts,l=c.ownProp,d=c.childrenIgnored,f=c.isIgnored;function p(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new h(e,t).found}function h(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof h))return new h(e,t);if(u(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}h.prototype._finish=function(){if(a.ok(this instanceof h),this.realpath){var e=this;this.matches.forEach((function(t,n){var i=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),i[r.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;i[e._makeAbs(o)]=!0}}))}c.finish(this)},h.prototype._process=function(e,t,n){a.ok(this instanceof h);for(var r,o=0;"string"==typeof e[o];)o++;switch(o){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,o).join("/")}var c,u=e.slice(o);null===r?c=".":s(r)||s(e.map((function(e){return"string"==typeof e?e:"[*]"})).join("/"))?(r&&s(r)||(r="/"+r),c=r):c=r;var l=this._makeAbs(c);d(this,c)||(u[0]===i.GLOBSTAR?this._processGlobStar(r,c,l,u,t,n):this._processReaddir(r,c,l,u,t,n))},h.prototype._processReaddir=function(e,t,n,r,i,a){var s=this._readdir(n,a);if(s){for(var c=r[0],u=!!this.minimatch.negate,l=c._glob,d=this.dot||"."===l.charAt(0),f=[],p=0;p<s.length;p++){if("."!==(g=s[p]).charAt(0)||d)(u&&!e?!g.match(c):g.match(c))&&f.push(g)}var h=f.length;if(0!==h)if(1!==r.length||this.mark||this.stat){r.shift();for(p=0;p<h;p++){var m;g=f[p];m=e?[e,g]:[g],this._process(m.concat(r),i,a)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<h;p++){var g=f[p];e&&(g="/"!==e.slice(-1)?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=o.join(this.root,g)),this._emitMatch(i,g)}}}},h.prototype._emitMatch=function(e,t){if(!f(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},h.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=this.fs.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var r=n&&n.isSymbolicLink();return this.symlinks[e]=r,r||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},h.prototype._readdir=function(e,t){if(t&&!l(this.symlinks,e))return this._readdirInGlobStar(e);if(l(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},h.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},h.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},h.prototype._processGlobStar=function(e,t,n,r,i,o){var a=this._readdir(n,o);if(a){var s=r.slice(1),c=e?[e]:[],u=c.concat(s);this._process(u,i,!1);var l=a.length;if(!this.symlinks[n]||!o)for(var d=0;d<l;d++){if("."!==a[d].charAt(0)||this.dot){var f=c.concat(a[d],s);this._process(f,i,!0);var p=c.concat(a[d],r);this._process(p,i,!0)}}}},h.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&s(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=o.join(this.root,e):(e=o.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},h.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&l(this.cache,t)){var r=this.cache[t];if(Array.isArray(r)&&(r="DIR"),!n||"DIR"===r)return r;if(n&&"FILE"===r)return!1}var i=this.statCache[t];if(!i){var o;try{o=this.fs.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(t)}catch(e){i=o}else i=o}this.statCache[t]=i;r=!0;return i&&(r=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||r,(!n||"FILE"!==r)&&r},h.prototype._mark=function(e){return c.mark(this,e)},h.prototype._makeAbs=function(e){return c.makeAbs(this,e)}},3322:e=>{const t="object"==typeof process&&process&&"win32"===process.platform;e.exports=t?{sep:"\\"}:{sep:"/"}},4473:(e,t,n)=>{const r=e.exports=(e,t,n={})=>(g(t),!(!n.nocomment&&"#"===t.charAt(0))&&new _(t,n).match(e));e.exports=r;const i=n(3322);r.sep=i.sep;const o=Symbol("globstar **");r.GLOBSTAR=o;const a=n(945),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="[^/]",u="[^/]*?",l=e=>e.split("").reduce(((e,t)=>(e[t]=!0,e)),{}),d=l("().*{}+?[]^$\\!"),f=l("[.("),p=/\/+/;r.filter=(e,t={})=>(n,i,o)=>r(n,e,t);const h=(e,t={})=>{const n={};return Object.keys(e).forEach((t=>n[t]=e[t])),Object.keys(t).forEach((e=>n[e]=t[e])),n};r.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return r;const t=r,n=(n,r,i)=>t(n,r,h(e,i));return(n.Minimatch=class extends t.Minimatch{constructor(t,n){super(t,h(e,n))}}).defaults=n=>t.defaults(h(e,n)).Minimatch,n.filter=(n,r)=>t.filter(n,h(e,r)),n.defaults=n=>t.defaults(h(e,n)),n.makeRe=(n,r)=>t.makeRe(n,h(e,r)),n.braceExpand=(n,r)=>t.braceExpand(n,h(e,r)),n.match=(n,r,i)=>t.match(n,r,h(e,i)),n},r.braceExpand=(e,t)=>m(e,t);const m=(e,t={})=>(g(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:a(e)),g=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},y=Symbol("subparse");r.makeRe=(e,t)=>new _(e,t||{}).makeRe(),r.match=(e,t,n={})=>{const r=new _(t,n);return e=e.filter((e=>r.match(e))),r.options.nonull&&!e.length&&e.push(t),e};class _{constructor(e,t){g(e),t||(t={}),this.options=t,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}debug(){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();let n=this.globSet=this.braceExpand();t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,n),n=this.globParts=n.map((e=>e.split(p))),this.debug(this.pattern,n),n=n.map(((e,t,n)=>e.map(this.parse,this))),this.debug(this.pattern,n),n=n.filter((e=>-1===e.indexOf(!1))),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;const e=this.pattern;let t=!1,n=0;for(let r=0;r<e.length&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}matchOne(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,a=0,s=e.length,c=t.length;i<s&&a<c;i++,a++){this.debug("matchOne loop");var u,l=t[a],d=e[i];if(this.debug(t,l,d),!1===l)return!1;if(l===o){this.debug("GLOBSTAR",[t,l,d]);var f=i,p=a+1;if(p===c){for(this.debug("** at the end");i<s;i++)if("."===e[i]||".."===e[i]||!r.dot&&"."===e[i].charAt(0))return!1;return!0}for(;f<s;){var h=e[f];if(this.debug("\nglobstar while",e,f,t,p,h),this.matchOne(e.slice(f),t.slice(p),n))return this.debug("globstar found match!",f,s,h),!0;if("."===h||".."===h||!r.dot&&"."===h.charAt(0)){this.debug("dot detected!",e,f,t,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",e,f,t,p),f!==s))}if("string"==typeof l?(u=d===l,this.debug("string match",l,d,u)):(u=d.match(l),this.debug("pattern match",l,d,u)),!u)return!1}if(i===s&&a===c)return!0;if(i===s)return n;if(a===c)return i===s-1&&""===e[i];throw new Error("wtf?")}braceExpand(){return m(this.pattern,this.options)}parse(e,t){g(e);const n=this.options;if("**"===e){if(!n.noglobstar)return o;e="*"}if(""===e)return"";let r="",i=!!n.nocase,a=!1;const l=[],p=[];let h,m,_,v,b=!1,E=-1,T=-1;const w="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",S=()=>{if(h){switch(h){case"*":r+=u,i=!0;break;case"?":r+=c,i=!0;break;default:r+="\\"+h}this.debug("clearStateChar %j %j",h,r),h=!1}};for(let t,o=0;o<e.length&&(t=e.charAt(o));o++)if(this.debug("%s\t%s %s %j",e,o,r,t),a){if("/"===t)return!1;d[t]&&(r+="\\"),r+=t,a=!1}else switch(t){case"/":return!1;case"\\":S(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,o,r,t),b){this.debug("  in class"),"!"===t&&o===T+1&&(t="^"),r+=t;continue}this.debug("call clearStateChar %j",h),S(),h=t,n.noext&&S();continue;case"(":if(b){r+="(";continue}if(!h){r+="\\(";continue}l.push({type:h,start:o-1,reStart:r.length,open:s[h].open,close:s[h].close}),r+="!"===h?"(?:(?!(?:":"(?:",this.debug("plType %j %j",h,r),h=!1;continue;case")":if(b||!l.length){r+="\\)";continue}S(),i=!0,_=l.pop(),r+=_.close,"!"===_.type&&p.push(_),_.reEnd=r.length;continue;case"|":if(b||!l.length){r+="\\|";continue}S(),r+="|";continue;case"[":if(S(),b){r+="\\"+t;continue}b=!0,T=o,E=r.length,r+=t;continue;case"]":if(o===T+1||!b){r+="\\"+t;continue}m=e.substring(T+1,o);try{RegExp("["+m+"]")}catch(e){v=this.parse(m,y),r=r.substr(0,E)+"\\["+v[0]+"\\]",i=i||v[1],b=!1;continue}i=!0,b=!1,r+=t;continue;default:S(),!d[t]||"^"===t&&b||(r+="\\"),r+=t}for(b&&(m=e.substr(T+1),v=this.parse(m,y),r=r.substr(0,E)+"\\["+v[0],i=i||v[1]),_=l.pop();_;_=l.pop()){let e;e=r.slice(_.reStart+_.open.length),this.debug("setting tail",r,_),e=e.replace(/((?:\\{2}){0,64})(\\?)\|/g,((e,t,n)=>(n||(n="\\"),t+t+n+"|"))),this.debug("tail=%j\n   %s",e,e,_,r);const t="*"===_.type?u:"?"===_.type?c:"\\"+_.type;i=!0,r=r.slice(0,_.reStart)+t+"\\("+e}S(),a&&(r+="\\\\");const P=f[r.charAt(0)];for(let e=p.length-1;e>-1;e--){const n=p[e],i=r.slice(0,n.reStart),o=r.slice(n.reStart,n.reEnd-8);let a=r.slice(n.reEnd);const s=r.slice(n.reEnd-8,n.reEnd)+a,c=i.split("(").length-1;let u=a;for(let e=0;e<c;e++)u=u.replace(/\)[+*?]?/,"");a=u;r=i+o+a+(""===a&&t!==y?"$":"")+s}if(""!==r&&i&&(r="(?=.)"+r),P&&(r=w+r),t===y)return[r,i];if(!i)return e.replace(/\\(.)/g,"$1");const R=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+r+"$",R),{_glob:e,_src:r})}catch(e){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,n=t.noglobstar?u:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"";let i=e.map((e=>(e=e.map((e=>"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===o?o:e._src)).reduce(((e,t)=>(e[e.length-1]===o&&t===o||e.push(t),e)),[]),e.forEach(((t,r)=>{t===o&&e[r-1]!==o&&(0===r?e.length>1?e[r+1]="(?:\\/|"+n+"\\/)?"+e[r+1]:e[r]=n:r===e.length-1?e[r-1]+="(?:\\/|"+n+")?":(e[r-1]+="(?:\\/|\\/"+n+"\\/)"+e[r+1],e[r+1]=o))})),e.filter((e=>e!==o)).join("/")))).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch(e){this.regexp=!1}return this.regexp}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const n=this.options;"/"!==i.sep&&(e=e.split(i.sep).join("/")),e=e.split(p),this.debug(this.pattern,"split",e);const r=this.set;let o;this.debug(this.pattern,"set",r);for(let t=e.length-1;t>=0&&(o=e[t],!o);t--);for(let i=0;i<r.length;i++){const a=r[i];let s=e;n.matchBase&&1===a.length&&(s=[o]);if(this.matchOne(s,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(e){return r.defaults(e).Minimatch}}r.Minimatch=_},3506:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(8786),o=n(1555);class a{static checkPublicKey(e){const t=[];if("value_address"!==e.type)return t;const n=a.checkValue(e);n&&t.push(n);const r=a.checkValueSyntax(e);return r&&t.push(r),t}static checkValue(e){if("value_address"!==e.type)return null;const t=e.text;return void 0===i.bech32.decodeUnsafe(t)&&t?r.Diagnostic.create(o.default.range(e),"Account creation failed due to `bech32: InvalidChecksum`.",r.DiagnosticSeverity.Error):null}static checkValueSyntax(e){if("value_address"!==e.type)return null;return e.text.match(/^aleo1[\d\w]{58}$/)?null:r.Diagnostic.create(o.default.range(e),`Error [EPAR0370001]: invalid address literal: '${e.text}'`,r.DiagnosticSeverity.Error)}}t.default=a},9157:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(1555);class o{static checkImplicitWhitespaces(e){const t=[];if(e.text.match(/\s+/)){const[n,o]=e.text.split(/\s+/);t.push(r.Diagnostic.create(i.default.range(e),`Error [EPAR0370004]: Unexpected white space between terms ${n} and ${o}`,r.DiagnosticSeverity.Error))}return t}static checkValueGroupImplicitWhitespaces(e){const t=[];if(!i.default.getNodeByPath(e,["group_tuple"]))return o.checkImplicitWhitespaces(e);if(!e.text.match(/\)group/)){const[n]=e.text.split(/\s+group/);t.push(r.Diagnostic.create(i.default.range(e),`Error [EPAR0370004]: Unexpected white space between terms ${n} and group`,r.DiagnosticSeverity.Error))}return t}}t.default=o},8200:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(2374),s=n(6920),c=n(1555),u=n(4424),l=n(3359),d=n(5226),f=n(8151),p=n(4269),h=n(2431),m=n(9364),g=n(2573),y=n(5907),_=n(5944);let v=class{checkCircuitExist(e,t){const n=[],r=this.cache.get(t);if(c.default.getNamedParentByPath(e,[y.NODE_TYPES.expression,y.NODE_TYPES.statement_return]))return n;if(e.type===y.NODE_TYPES.expression_postfix&&!d.default.isStaticAccessExpression(e)||!r)return n;let i;if(i=e.type===y.NODE_TYPES.expression_circuit_inline?c.default.getNodeByTypes(e,[y.NODE_TYPES.identifier]):c.default.getNodeByType(e,y.NODE_TYPES.identifier),i){const e=i.text,o=r.circuits,s=this.cache.getAllImportedItemsByType(y.NODE_TYPES.circuit_declaration,t).reverse(),u=r.records,d=this.cache.getAllImportedItemsByType(y.NODE_TYPES.record_declaration,t).reverse();!!l.default.findByNameAndAlias([...o,...s,...u,...d,...this.cache.stdPreludeData.circuits],e)||n.push(a.Diagnostic.create(c.default.range(i),`Error [ETYC0372005]: Unknown circuit \`${e}\``,a.DiagnosticSeverity.Error))}return n}checkCircuitSyntax(e){const t=[],n=this.cache.get(e);if(!n)return t;const{circuits:r}=n;return r.forEach((e=>{let n=!1,r=!1;e.node.namedChildren.forEach((e=>{"member_variable_declaration"==e.type&&(n=!0),"function_declaration"==e.type&&(r=!0),r&&"member_variable_declaration"==e.type&&t.push(a.Diagnostic.create(c.default.range(e),"Error [EPAR0370022]: Member functions must come after member variables.",a.DiagnosticSeverity.Error)),r&&"member_constant_declaration"==e.type&&t.push(a.Diagnostic.create(c.default.range(e),"Error [EPAR0370021]: Member functions must come after member consts.",a.DiagnosticSeverity.Error)),n&&!r&&"member_constant_declaration"==e.type&&t.push(a.Diagnostic.create(c.default.range(e),"Error [EPAR0370020]: Member variables must come after member consts.",a.DiagnosticSeverity.Error))}))})),t}static checkCircuitName(e,t){const n=c.default.getNodeByType(e,"identifier"),r=null==t?void 0:t.circuits.find((e=>e.name===(null==n?void 0:n.text)));return n&&!r?u.default.checkPascalCaseName(n):[]}static checkCircuitDefinitionName(e){const t=[],n=c.default.getNodeByType(e,"identifier"),r=u.default.checkSnakeCaseName(n,e.type);return t.push(...r),t}static checkStaticMemberCircuitName(e,t){let n=null;const r=c.default.getNamedParentByPath(e,["access","expression_postfix"]);n=c.default.getNodeByType(r,y.NODE_TYPES.identifier);const i=t.circuits.find((e=>e.name===(null==n?void 0:n.text)));return n&&!i?u.default.checkPascalCaseName(n):[]}static checkStaticMemberName(e){const t=c.default.getNodeByType(e,"identifier");return u.default.checkSnakeCaseName(t,e.type)}checkStaticMemberConstantType(e,t){var n;const r=[],i=this.cache.get(t),o=d.default.getCircuitAstFromChildNode(e,i);if(o){const i=l.default.findAttributesByNameStrict(o.attributes,null===(n=e.firstNamedChild)||void 0===n?void 0:n.text)[0];e.id===i.node.id&&r.push(...this.dataTypeDiagnostic.checkArguments([{type:i.type,node:e.lastNamedChild}],t))}return r}checkCircuitExpressionInline(e,t){var n,r;const i=[],o=this.cache.get(t),s=c.default.getSelfNamedChildrenByTypes(e,["identifier"])[0];if(!s)return[];const u=s.text,d=null!==(n=null==o?void 0:o.circuits)&&void 0!==n?n:[],f=this.cache.getAllImportedItemsByType("circuit_declaration",t).reverse(),p=l.default.findByNameAndAlias([...d,...f],u);if(p){let n=null===(r=p.attributes)||void 0===r?void 0:r.filter((e=>!e.isStatic));const o=[...c.default.getNamedChildrenNodesByPath(e,["circuit_variable_expression","identifier"]),...c.default.getNamedChildrenNodesByPath(e,["circuit_variable_identifier"])];n.length!==o.length&&i.push(a.Diagnostic.create(c.default.range(s),`Circuit expected ${n.length} variables, found ${o.length} variables.`,a.DiagnosticSeverity.Error));const u=[];n.forEach((e=>{const t=o.find((t=>t.text===e.name));t&&u.push({type:e.type,node:"circuit_variable_identifier"===t.type?t:t.nextNamedSibling})})),i.push(...this.dataTypeDiagnostic.checkArguments(u,t)),o.forEach((e=>{n.find((t=>t.name===e.text))?n=n.filter((t=>t.name!==e.text)):i.push(a.Diagnostic.create(c.default.range(e),`Error [EASG0373005]: extra circuit member '${e.text}' for initialization of circuit '${p.name}' is not allowed`,a.DiagnosticSeverity.Error))})),n.forEach((e=>{i.push(a.Diagnostic.create(c.default.range(s),`Error [EASG0373002]: missing circuit member '${e.name}' for initialization of circuit '${p.name}'`,a.DiagnosticSeverity.Error))}))}return i}checkCircuitMemberAccess(e,t){var n,r,i,o;const s=[],u=this.cache.get(t);if(u){const d=c.default.getNamedParentByTypes(e,[y.NODE_TYPES.access,y.NODE_TYPES.access_assignee]);if((null===(n=d.parent)||void 0===n?void 0:n.type)===y.NODE_TYPES.ERROR)return s;if(!this.dataTypeParser.getCallChainTypeByAccessNode(d,t)){const n=c.default.getNodeByType(e,y.NODE_TYPES.identifier),f=c.default.getCallChain(d.startPosition.row,d.startPosition.column,u),p=f[f.length-1];if(p){const u=e=>e.reduce(((e,t)=>e+t.text),"");if(_.default.isFunctionCall(d))s.push(a.Diagnostic.create(c.default.range(n),`Error [EPAR0370023]: The type of \`${u(f)}\` has no associated function \`${n.text}\``,a.DiagnosticSeverity.Error));else{const h=this.dataTypeParser.getCallChainTypeByAccessNode(p,t),g=m.default.isCircuitDataType(h)?this.circuitService.findFromLocalAndImported(h,t):null;if(h&&g){if(g){const t=l.default.findAttributesByNameStrict(g.attributes,n.text);t[0]?e.type==y.NODE_TYPES.access_static_member&&!1===(null===(i=t[0])||void 0===i?void 0:i.isStatic)?s.push(a.Diagnostic.create(c.default.range(n),`Error [EASG0373010]: cannot call member variable '${n.text}' of circuit '${g.name}' from static context`,a.DiagnosticSeverity.Error)):(null===(o=t[0])||void 0===o?void 0:o.isStatic)&&(e.type==y.NODE_TYPES.access_member||m.default.isStaticCallFromInstance(h,p,d))&&s.push(a.Diagnostic.create(c.default.range(n),`Error [EASG0373008]: cannot call static constant '${n.text}' of circuit '${g.name}' from target`,a.DiagnosticSeverity.Error)):s.push(a.Diagnostic.create(c.default.range(n),`Error [ETYC0372018]: Circuit variable ${n.text} is not a member of circuit ${null===(r=g.node)||void 0===r?void 0:r.text}.`,a.DiagnosticSeverity.Error))}}else h||p.type!==y.NODE_TYPES.identifier||s.push(a.Diagnostic.create(c.default.range(p),`Error [ETYC0372005]: Unknown variable \`${p.text}\``,a.DiagnosticSeverity.Error)),s.push(a.Diagnostic.create(c.default.range(n),`Error [ETYC0372004]: Could not determine the type of \`${u(f)}\``,a.DiagnosticSeverity.Error))}}}}return s}checkMemberDuplication(e,t){var n;const r=[],i=this.cache.get(t),o=c.default.getNamedParentByType(e,"circuit_declaration");if(!o)return r;const s=c.default.getNodeByPath(o,["identifier"]),u=c.default.getNodeByPath(e,["identifier"]);if(s&&u){const e=null!==(n=null==i?void 0:i.circuits)&&void 0!==n?n:[],o=this.cache.getAllImportedItemsByType("circuit_declaration",t).reverse(),d=l.default.findByNameAndAlias([...e,...o],s.text);if(d&&d.attributes){const e=d.attributes.filter((e=>e.name===u.text));if(e.length>1&&e[0].range.start.line===u.startPosition.row)for(let t=1;t<e.length;t++)r.push(a.Diagnostic.create(c.default.range(e[t].node),`Error [EASG0373004]: cannot declare circuit member '${e[t].name}' multiple times in circuit '${s.text}'`,a.DiagnosticSeverity.Error))}}return r}checkAttributeSeparator(e){const t=[],n=this.cache.get(e);return n?(n.circuits.forEach((e=>{const n=e.attributes.filter(((e,t,n)=>{const r=e.node.text.slice(-1)[0],i=e=>";"===e||","===e;return i(r)&&n.find((e=>{const t=e.node.text.slice(-1)[0];return i(e.node.text.slice(-1)[0])&&t!==r}))}));n.length&&t.push(a.Diagnostic.create(c.default.range(n[0].node),"Error [EPAR0370006]: Cannot mix use of commas and semi-colons for circuit member variable declarations.",a.DiagnosticSeverity.Error))})),t):t}checkCircuitDuplication(e,t){const n=[],r=this.cache.get(t),i=c.default.getNodeByPath(e,["identifier"]);if(i&&r){const e=r.circuits.filter((e=>e.name===i.text));if(e.length){const t=e[0].range.start.line;if(e.length>1&&t===i.startPosition.row)for(let t=1;t<e.length;t++){const r=c.default.getNodeByPath(e[t].node,["identifier"]);n.push(a.Diagnostic.create(c.default.range(r),`Error [EASG0373045]: a circuit named "${e[t].name}" already exists in this scope`,a.DiagnosticSeverity.Error))}r.typesAliases.find((e=>e.name===i.text))&&n.push(a.Diagnostic.create(c.default.range(i),`Error [EASG0373044]: an alias named "${i.text}" already exists in this scope`,a.DiagnosticSeverity.Error))}}return n}static getMethodUnstableError(e){const t=[];return t.push(a.Diagnostic.create(c.default.range(e),"Error [EPAR0370024]: Circuit functions are currently an unstable feature and are disabled in Leo for testnet3.",a.DiagnosticSeverity.Error)),t}};r([(0,o.inject)(s.TYPE.Cache),i("design:type",f.default)],v.prototype,"cache",void 0),r([(0,o.inject)(s.TYPE.CircuitService),i("design:type",l.default)],v.prototype,"circuitService",void 0),r([(0,o.inject)(s.TYPE.DataTypeDiagnostic),i("design:type",p.default)],v.prototype,"dataTypeDiagnostic",void 0),r([(0,o.inject)(s.TYPE.TypeAliasService),i("design:type",h.default)],v.prototype,"typeAliasService",void 0),r([(0,o.inject)(s.TYPE.DataTypeParser),i("design:type",m.default)],v.prototype,"dataTypeParser",void 0),r([(0,o.inject)(s.TYPE.StdPreludeService),i("design:type",g.default)],v.prototype,"stdPreludeService",void 0),v=r([(0,o.injectable)()],v),t.default=v},8477:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(2374),s=n(1555),c=n(9364),u=n(2936),l=n(6920);let d=class{checkConditionType(e,t){const n=[],r=s.default.getNodeByPath(e,["expression"]);if(r){const e=this.dataTypeParser.getStatementDeclarationDataType(r,t);e&&e!==u.BOOLEAN&&n.push(a.Diagnostic.create(s.default.range(r),`Error [EASG0373025]: unexpected type, expected: '${u.BOOLEAN}', received: '${e}'`,a.DiagnosticSeverity.Error))}return n}};r([(0,o.inject)(l.TYPE.DataTypeParser),i("design:type",c.default)],d.prototype,"dataTypeParser",void 0),d=r([(0,o.injectable)()],d),t.default=d},4269:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegerTypes=void 0;const a=n(5021),s=n(2374),c=n(1555),u=n(5944),l=n(6920),d=n(9364),f=n(8151),p=n(2446),h=n(3950),m=n(2431),g=n(1945),y=n(5907),_=n(2936);t.IntegerTypes={i8:"i8",i16:"i16",i32:"i32",i64:"i64",i128:"i128",u8:"u8",u16:"u16",u32:"u32",u64:"u64",u128:"u128"};let v=r=class{checkArguments(e,t){const n=[];return n.push(...e.reduce(((e,n)=>{if(n.node.hasError())return e;if("circuit_variable_identifier"===n.node.type)return e.push(...this.checkInlineCircuitVariableIdentifier(n,t)),e;const i=this.dataTypeParser.getStatementDeclarationDataType(n.node,t);let o=null;const a=r.isIntType(n.type),s=c.default.getSelfNamedChildByTypes(n.node,["value_field","value_group","value_integer","value_number","value_boolean","value_address"]);i&&!a||!s||"value_number"!==s.type||(o=c.default.getSelfNamedChildByTypes(s,["number_positive"]));const u=this.typeAliasService.compareTypes(t,i,n.type);return u&&u.isEqual||!(!a&&"integer"===i||"integer"!==i&&i.replace(" ","")!==n.type.replace(" ","")||!i&&!a)?a?(e.push(...this.checkIntValue(o,n)),e):e:(e.push(this.mismatchType(o,n,i)),e)}),[])),n}mismatchType(e,t,n){if(!n||e&&!r.isIntType(n)){const n=null!=e?e:t.node;return s.Diagnostic.create(c.default.range(t.node),`Error [EASG0373025]: unexpected type, expected: '${t.type}', received: '${n.text}'.`,s.DiagnosticSeverity.Error)}return s.Diagnostic.create(c.default.range(t.node),`Error [EASG0373025]: unexpected type, expected: '${t.type}', received: '${n}'.`,s.DiagnosticSeverity.Error)}checkInlineCircuitVariableIdentifier(e,t){const n=[],r=c.default.getNamedParentByType(e.node,"function_declaration"),i=this.cache.get(t);if(r&&i){const{functions:r}=i,o=s.Position.create(e.node.endPosition.row,e.node.endPosition.column),a=r.filter((e=>c.default.isInScope(e.range,o)));if(a.length){const{parameters:r,statementDefinitions:i}=a[0],o=[...r,...i].filter((t=>t.name===e.node.text))[0];if(o){const r=this.typeAliasService.compareTypes(t,e.type,o.type);e.type=r.resolvedFirstType,o.type=r.resolvedSecondType,e.type.replace(" ","")!==o.type.replace(" ","")&&n.push(s.Diagnostic.create(c.default.range(e.node),`Error [EASG0373025]: unexpected type, expected: '${e.type}', received: '${o.type}'.`,s.DiagnosticSeverity.Error))}else n.push(s.Diagnostic.create(c.default.range(e.node),`Error [EASG0373027]: failed to resolve variable reference '${e.node.text}'.`,s.DiagnosticSeverity.Error))}}return n}checkIntValue(e,t){const n=[];return e&&!r.isIntValueInRange(t.type,e.text)&&n.push(s.Diagnostic.create(c.default.range(t.node),`Mismatched types. Failed to parse \`${e.text}\` as expected integer type.`,s.DiagnosticSeverity.Error)),n}static isIntType(e){return Object.keys(t.IntegerTypes).includes(e)}static strToBigInt(e){if(!e)return null;try{return BigInt(e)}catch(e){return null}}static isIntValueInRange(e,t){if(!r.isIntType(e))return!1;try{const n=BigInt(t),r={i8:{min:BigInt("-128"),max:BigInt("127")},i16:{min:BigInt("-32768"),max:BigInt("32767")},i32:{min:BigInt("-2147483648"),max:BigInt("2147483647")},i64:{min:BigInt("-9223372036854775808"),max:BigInt("9223372036854775807")},i128:{min:BigInt("-170141183460469231731687303715884105728"),max:BigInt("170141183460469231731687303715884105727")},u8:{min:BigInt("0"),max:BigInt("255")},u16:{min:BigInt("0"),max:BigInt("65535")},u32:{min:BigInt("0"),max:BigInt("4294967295")},u64:{min:BigInt("0"),max:BigInt("18446744073709551615")},u128:{min:BigInt("0"),max:BigInt("340282366920938463463374607431768211455")}};return r[e].min<=n&&n<=r[e].max}catch(e){return!1}}checkFuncParamsAndTypes(e,t){var n,i,o,a;const u=[],l=this.functionsService.getFuncAstFromAccessCallNode(e,t);if(!l)return u;const d=l.parameters.filter((e=>"self"!==e.name)),f=this.functionsService.getParametersSentToFunction(e,t);d.length!==f.length&&u.push(s.Diagnostic.create(c.default.range(e),`Error [EASG0373022]: function call expected ${d.length} arguments, got ${f.length}.`,s.DiagnosticSeverity.Error));for(let e=0;e<f.length;e++){let l=f[e].type,p=(null===(n=d[e])||void 0===n?void 0:n.type)||"";const m=null===(o=null===(i=f[e].node.children[0])||void 0===i?void 0:i.children[0])||void 0===o?void 0:o.text;(null===(a=d[e])||void 0===a?void 0:a.isConstant)&&!f[e].isConstant&&u.push(s.Diagnostic.create(c.default.range(f[e].node),"Error [EASG0373026]: expected const, found non-const value",s.DiagnosticSeverity.Error));const g=this.typeAliasService.compareTypes(t,l,p);l=g.resolvedFirstType,p=g.resolvedSecondType,!m||!r.isIntType(p)||!r.isIntType(l)&&"integer"!=l||isNaN(parseInt(m))||r.isIntValueInRange(p,m)?l&&p&&l.replace(" ","")!==p.replace(" ","")&&!h.default.isNumberTypeMatch(p,l)&&u.push(s.Diagnostic.create(c.default.range(f[e].node),`Error [EASG0373025]: unexpected type, expected: '${p}', received: '${l}'.`,s.DiagnosticSeverity.Error)):u.push(s.Diagnostic.create(c.default.range(f[e].node),`Error [EASG0373030]: Value '${f[e].name}' is out of range '${p}'`,s.DiagnosticSeverity.Error))}return u}checkConsoleAssertParamType(e,t){const n=[],r=c.default.getNodeByPath(e,[y.NODE_TYPES.expression]);let i;if(r.text){const e=this.dataTypeParser.getStatementDeclarationDataType(r,t);e&&e!==_.BOOLEAN&&(i=`Error [EASG0373025]: unexpected type, expected: '${_.BOOLEAN}', received: '${e}'`)}else i="Error [EPAR0370009]: unexpected string: expected 'expression', got ')'";return i&&n.push(s.Diagnostic.create(c.default.range(r),i,s.DiagnosticSeverity.Error)),n}checkTupleType(e,t){const n=[],r=this.cache.get(t);if(!r)return n;const i=p.default.getFunctionAstFromChildNode(e,r),o=c.default.getNamedParentByPath(e,["expression"]),a=c.default.getNamedParentByPath(e,["expression","statement_declaration"]);if(a&&i&&o&&1===o.namedChildCount){const e=c.default.getNamedChildrenNodesByPath(a,["variables","identifier"]);if(1===e.length){const r=u.default.findStatementDefinitionByName(i.statementDefinitions,e[0].text,!0);e.length&&n.push(...this.compareTupleTypes(o,r[0].type,t))}}return n}compareTupleTypes(e,t,n){const i=[],o=d.default.getTupleRootItemsTypes(t),a=c.default.getNamedChildrenNodesByPath(e,["expression_tuple","expression"]);return a.length!==o.length&&i.push(s.Diagnostic.create(c.default.range(e),`Error [EASG0373025]: unexpected type, expected: 'tuple of length ${o.length}', received: 'tuple of length ${a.length}'`,s.DiagnosticSeverity.Error)),a.forEach(((e,t)=>{let a=this.dataTypeParser.getStatementDeclarationDataType(e,n),u=o[t];const l=this.typeAliasService.compareTypes(n,a,null!=u?u:"");if(a=l.resolvedFirstType,u=l.resolvedSecondType,u)if(g.default.rmWhitespaces(a)===g.default.rmWhitespaces(u)||h.default.isNumberTypeMatch(u,a)){if(r.isIntType(u)){const t=c.default.getNodesByTypes(e,["value_number","number_positive"]);t.length&&!r.isIntValueInRange(u,t[0].text)&&i.push(s.Diagnostic.create(c.default.range(t[0]),`Error [EASG0373030]: Value '${t[0].text}' is out of range '${u}'`,s.DiagnosticSeverity.Error))}}else{const t=/([^,\\(\\)\s)]+)/g;let n=[a],r=[u];if(t.test(a)&&t.test(u)){const e=a.match(t);e&&(n=e);const i=u.match(t);i&&(r=i)}if(n&&r&&n.length==r.length)for(let t=0;t<n.length;t++){const o=n[t],l=r[t];if(o!==l&&!h.default.isNumberTypeMatch(l,o)){i.push(s.Diagnostic.create(c.default.range(e),`Error [EASG0373025]: unexpected type, expected: '${u}', received: '${a}'`,s.DiagnosticSeverity.Error));break}}else i.push(s.Diagnostic.create(c.default.range(e),`Error [EASG0373025]: unexpected type, expected: '${u}', received: '${a}'`,s.DiagnosticSeverity.Error))}})),i}checkTupleAccess(e,t){var n;const i=[],o=this.cache.get(t);if(o&&!this.dataTypeParser.getCallChainTypeByAccessNode(e.parent,t)){const a=c.default.getCallChain(e.parent.startPosition.row,e.parent.startPosition.column,o).reverse();let l="",f=r.generateExpectedTupleType(e);const p=c.default.getNodeByType(e,y.NODE_TYPES.number_positive);for(let e=0;e<a.length;e++){if(!c.default.getNodeByPath(a[e],[y.NODE_TYPES.access_tuple])){l=this.dataTypeParser.getCallChainTypeByAccessNode(a[e],t);break}f=r.generateExpectedTupleType(a[e],f)}if(l)if((null===(n=e.parent)||void 0===n?void 0:n.type)===y.NODE_TYPES.access)f=d.default.isTupleType(l)?f:"tuple",i.push(s.Diagnostic.create(c.default.range(p),`Error [EASG0373025]: unexpected type, expected: '${f}', received: '${l}'`,s.DiagnosticSeverity.Error));else{const e=this.dataTypeParser.getCallChainTypeByAccessNode(a[0],t);if(d.default.isTupleType(e))i.push(s.Diagnostic.create(c.default.range(p),`Error [EASG0373018]: tuple index out of bounds: '${p.text}'`,s.DiagnosticSeverity.Error));else{const e=a.reduce(((e,t)=>t.text+e),"");i.push(s.Diagnostic.create(c.default.range(p),`Error [EASG0373017]: failed to index into non-tuple '${e}'`,s.DiagnosticSeverity.Error))}}else 1!==a.length||u.default.isFunctionCall(a[0])||i.push(s.Diagnostic.create(c.default.range(a[0]),`Error [EASG0373027]: failed to resolve variable reference '${a[0].text}'.`,s.DiagnosticSeverity.Error))}return i}static generateExpectedTupleType(e,t="?"){const n=parseInt(c.default.getNodeByType(e,y.NODE_TYPES.number_positive).text);let r="";for(let e=0;e<=n;e++)e===n?r=`(${r}${t})`:r+="?, ";return r}};i([(0,a.inject)(l.TYPE.FunctionsService),o("design:type",u.default)],v.prototype,"functionsService",void 0),i([(0,a.inject)(l.TYPE.Cache),o("design:type",f.default)],v.prototype,"cache",void 0),i([(0,a.inject)(l.TYPE.DataTypeParser),o("design:type",d.default)],v.prototype,"dataTypeParser",void 0),i([(0,a.inject)(l.TYPE.TypeAliasService),o("design:type",m.default)],v.prototype,"typeAliasService",void 0),v=r=i([(0,a.injectable)()],v),t.default=v},3715:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(2374),s=n(6920),c=n(1555),u=n(5226),l=n(2446),d=n(5944),f=n(8151),p=n(9364),h=n(3950),m=n(3359),g=n(5907),y=n(6918),_=n(2431),v=n(4269),b=n(1945);let E=class{checkVariableExist(e,t,n){const r=[];if(c.default.getNamedParentByPath(t,["circuit_name"]))return r;const i=c.default.getNamedParentByType(t,"expression_postfix");if(i&&(u.default.isStaticAccessExpression(i)||l.default.isExpressionFunctionCall(i)))return r;if(c.default.isVariableLoopIndex(t))return r;const o=this.cache.get(n);if(!o)return r;const s=l.default.getFunctionAstFromChildNode(t,o);let f=!1;if(s){const n=d.default.findAnyInFunction(s,e);if(n){const e="statement_declaration"===n.node.type?n.node:c.default.getNamedParentByType(n.node,"statement_declaration"),r=c.default.getNamedParentByType(t,"statement_declaration");e&&r&&e.startPosition.row==r.startPosition.row&&e.startPosition.column==r.startPosition.column&&(f=!0)}}const p=y.default.getAllConstFromFileCache(o);return!(o&&s&&e)||!f&&d.default.findAnyInFunction(s,e)||m.default.findByNameStrict(o.circuits,e)||y.default.findByName(p,e)||r.push(a.Diagnostic.create(c.default.range(t),`Error [EASG0373027]: failed to resolve variable reference '${e}'.`,a.DiagnosticSeverity.Error)),r}checkVariableMutable(e,t){const n=[],r=this.cache.get(t);if(!r)return n;const i=["statement_assign","statement_declaration"];if(i.includes(e.type)){const t=l.default.getFunctionAstFromChildNode(e,r),o=c.default.getNamedChildrenNodesByPath(e,[[g.NODE_TYPES.identifier_assignee,g.NODE_TYPES.variables],g.NODE_TYPES.identifier])[0],s=y.default.getAllConstFromFileCache(r),u=d.default.findAnyInFunction(t,o.text);if(u){if(u.isConstant)if(e.type===i[0])n.push(a.Diagnostic.create(c.default.range(o),`Error [EASG0373032]: illegal assignment to immutable variable '${o.text}'`,a.DiagnosticSeverity.Error));else{const r=c.default.getNodesByType(c.default.getNodeByType(e,"expression"),"identifier");for(const i of r)if(!c.default.getNamedParentByType(i,"expression_postfix")){const r=d.default.findAnyInFunction(t,i.text);if(r&&!r.isConstant)return n.push(a.Diagnostic.create(c.default.range(e),"Error [EASG0373014]: failed to create const variable(s) '{var_name}' with non constant values.".replace("{var_name}",o.text),a.DiagnosticSeverity.Error)),n}}}else y.default.findByName(s,o.text)?n.push(a.Diagnostic.create(c.default.range(o),`Error [EASG0373032]: illegal assignment to immutable variable '${o.text}'`,a.DiagnosticSeverity.Error)):n.push(a.Diagnostic.create(c.default.range(o),`Error [EASG0373027]: failed to resolve variable reference '${o.text}'.`,a.DiagnosticSeverity.Error))}return n}checkForDuplicatesInFunction(e,t){const n=[],r=this.cache.get(t);if(!r)return n;const i=l.default.getFunctionAstFromChildNode(e,r),o=c.default.getNodeByPath(e,["variables","identifier"]);if(!i)return n;const s=d.default.findStatementDefinitionByName(i.statementDefinitions,o.text,!0);return(d.default.findParametersByName(i.parameters,o.text,!0).length||s.length&&s[0].range.start.line<e.startPosition.row)&&n.push(a.Diagnostic.create(c.default.range(o),`Error [EASG0373050]: a variable cannot be named '${o.text}' as a function input or variable with that name already exists in this scope.`,a.DiagnosticSeverity.Error)),n}checkExplicitTypeMatch(e,t){var n,r,i;const o=[],s=null===(n=c.default.getNodeByPath(e,["variables"]))||void 0===n?void 0:n.lastNamedChild;let u="identifier"!==(null==s?void 0:s.type)?null==s?void 0:s.text:"";const l=c.default.getNodeByPath(e,["expression"]);if(l){l.childCount>1&&l.children.forEach((e=>{p.default.parseValueType(e).match(/integer/)&&o.push(a.Diagnostic.create(c.default.range(e),`Error [EPAR0370018]: Could not parse the implicit value: ${e.text}`,a.DiagnosticSeverity.Error))}));let n=this.dataTypeParser.getStatementDeclarationDataType(l,t);const s=this.typeAliasService.compareTypes(t,n,null!=u?u:"");if(n=s.resolvedFirstType,u=s.resolvedSecondType,u&&h.default.isAllowedNumber(u,n)&&"field"!=u){const e=null===(i=null===(r=l.children[0])||void 0===r?void 0:r.children[0])||void 0===i?void 0:i.text;c.default.isNumberUnsigned(u)&&parseInt(e)<0?o.push(a.Diagnostic.create(c.default.range(l),`Error [EASG0373030]: Value '${e}' is out of range '${u}'`,a.DiagnosticSeverity.Error)):parseInt(e)&&(v.default.isIntValueInRange(u,e)||o.push(a.Diagnostic.create(c.default.range(l),`Error [EASG0373030]: Value '${e}' is out of range '${u}'`,a.DiagnosticSeverity.Error)))}if(n.match(/integer/)&&o.push(a.Diagnostic.create(c.default.range(l),`Error [EPAR0370018]: Could not parse the implicit value: ${l.text}`,a.DiagnosticSeverity.Error)),u)!u||n.match(/integer/)||u===n||"address"===u||u.match(/^\(/)&&n.match(/^\(/)?u&&"group"!==u&&"field"!==u&&"integer"===n&&!h.default.isNumberTypeMatch(u,n)&&o.push(a.Diagnostic.create(c.default.range(l),`Error [EASG0373025]: unexpected type, expected: '${u}', received: 'unknown'`,a.DiagnosticSeverity.Error)):o.push(a.Diagnostic.create(c.default.range(l),`Error [ETYC0372003]: Expected type '${u}' but type '${n}' was found`,a.DiagnosticSeverity.Error));else{const t=c.default.getNodeByType(e,"=");t&&o.push(a.Diagnostic.create(c.default.range(t),"Error [EPAR0370005]: expected : -- found '='",a.DiagnosticSeverity.Error))}}return o}checkMultipleVariablesDefinition(e,t){const n=[],r=c.default.getNamedChildrenNodesByPath(e,["variables","identifier"]);if(r.length>1){const i=c.default.getNodeByPath(e,["expression"]);if(i){const o=this.dataTypeParser.getStatementDeclarationDataType(i,t),s=o.replace(/(^\()|(\)$)/g,"").split(/,(?=[\s\w](?!\w+[\\)\]]))/);r.length!==s.length&&n.push(a.Diagnostic.create(c.default.range(e),`Error [EASG0373025]: unexpected type, expected: '${r.length}-ary tuple', received: '${o}'`,a.DiagnosticSeverity.Error))}}return n}checkAssignedExpressionType(e,t){var n;const r=[],i=this.cache.get(t);if(!i)return r;const o=l.default.getFunctionAstFromChildNode(e,i),s=c.default.getSelfNamedChildByTypes(e,["identifier_assignee"]),u=c.default.getNamedChildrenNodesByPath(s,["access_assignee"]),f=u?u[(null==u?void 0:u.length)-1]:null,h=d.default.findAnyInFunction(o,s.text),m=c.default.getNodeByPath(e,["expression"]);if(h&&h.isMutable&&m&&!f){if(c.default.getNodesByType(m,"access").length>1)return r;let e=this.dataTypeParser.getStatementDeclarationDataType(m,t);if(!e)return r;const n=this.typeAliasService.compareTypes(t,e,h.type);e=n.resolvedFirstType,h.type=n.resolvedSecondType,"integer"===e&&h.type&&!v.IntegerTypes.hasOwnProperty(h.type)?r.push(a.Diagnostic.create(c.default.range(m),`Error [EASG0373025]: unexpected type, expected: '${h.type}', received: 'unknown'`,a.DiagnosticSeverity.Error)):"integer"===e||h.type===e||e.match(/^\[.*\]$/)||r.push(a.Diagnostic.create(c.default.range(m),`Error [EASG0373025]: unexpected type, expected: '${h.type}', received: '${e}'`,a.DiagnosticSeverity.Error))}else if(h&&h.isMutable&&m&&f&&"access_tuple"==(null===(n=f.firstChild)||void 0===n?void 0:n.type)){const e=h.type,n=p.default.getTupleRootItemsTypes(e),i=c.default.getNodeByPath(f,["access_tuple","number_positive"]);if(i){const e=this.dataTypeParser.getStatementDeclarationDataType(m,t);if(n.length>parseInt(i.text)){const o=n[parseInt(i.text)];this.typeAliasService.compareTypes(t,e,o).isEqual||r.push(a.Diagnostic.create(c.default.range(m),`Error [EASG0373025]: unexpected type, expected: '${o}', received: '${e}'`,a.DiagnosticSeverity.Error))}}}return r}checkReturnStatementType(e,t){const n=[],r=this.cache.get(t);if(!r)return n;const i=l.default.getFunctionAstFromChildNode(e,r);if(!i)return n;let o=i.returnType;const s=c.default.getNodeByPath(e,["expression"]);if(s){let r=this.dataTypeParser.getStatementDeclarationDataType(s,t);if(-1!=r.indexOf("Self")){const t=c.default.getNamedParentByType(e,g.NODE_TYPES.circuit_declaration);if(t){const e=c.default.getNodeByType(t,g.NODE_TYPES.identifier);e&&(r=r.replace(/Self/g,e.text))}}if(!r||!o)return n;const i=this.typeAliasService.compareTypes(t,r,o);r=i.resolvedFirstType,o=i.resolvedSecondType;const u=c.default.isNumber(o)&&"integer"===r;if(r!==o&&!u)if(p.default.isTupleType(o)&&p.default.isTupleType(r))n.push(...this.dataTypeDiagnostic.compareTupleTypes(c.default.getNodeByType(e,"expression"),o,t));else{if(b.default.rmWhitespaces(r)===b.default.rmWhitespaces(o))return n;n.push(a.Diagnostic.create(c.default.range(s),`Error [EASG0373025]: unexpected type, expected: '${o}', received: '${r}'`,a.DiagnosticSeverity.Error))}}return n}};r([(0,o.inject)(s.TYPE.Cache),i("design:type",f.default)],E.prototype,"cache",void 0),r([(0,o.inject)(s.TYPE.DataTypeParser),i("design:type",p.default)],E.prototype,"dataTypeParser",void 0),r([(0,o.inject)(s.TYPE.TypeAliasService),i("design:type",_.default)],E.prototype,"typeAliasService",void 0),r([(0,o.inject)(s.TYPE.DataTypeDiagnostic),i("design:type",v.default)],E.prototype,"dataTypeDiagnostic",void 0),E=r([(0,o.injectable)()],E),t.default=E},2895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(1555);class o{static checkAll(e,t){"ERROR"===e.type&&t.push(o.checkErrorNode(e)),e.isMissing()&&t.push(o.checkMissingNode(e))}static checkMissingNode(e){return r.Diagnostic.create(i.default.range(e),"Error [EPAR0370005]: expected 'import', 'circuit', 'function', 'test', '@'",r.DiagnosticSeverity.Error)}static checkErrorNode(e){return r.Diagnostic.create(i.default.range(e),"Failed to parse expression",r.DiagnosticSeverity.Error)}}t.default=o},8661:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OPERATIONS=t.OPERATOR_TYPE=void 0;const a=n(5021),s=n(2374),c=n(1555),u=n(6920),l=n(9364),d=n(2446),f=n(8151),p=n(3950),h=n(2431),m=n(4269);t.OPERATOR_TYPE={arithmetic:"arithmetic",logical:"logical",relational:"relation"},t.OPERATIONS={addition:{operators:["+","+="],type:t.OPERATOR_TYPE.arithmetic,supportedTypes:["group","field","integer"],precedence:4,pairs:{integer:["integer","group","field"],group:["group","integer"],field:["field","integer"]}},negation:{operators:["-"],type:t.OPERATOR_TYPE.arithmetic,supportedTypes:["group","field","integer"],precedence:4,pairs:{integer:["integer","group","field"],group:["group","integer"],field:["field","integer"]}},subtraction:{operators:["-","-="],type:t.OPERATOR_TYPE.arithmetic,supportedTypes:["group","field","integer"],precedence:4,pairs:{integer:["integer","group","field"],group:["group","integer"],field:["field","integer"]}},multiplication:{operators:["*","*="],type:t.OPERATOR_TYPE.arithmetic,supportedTypes:["integer","field"],precedence:3,pairs:{field:["field","integer"],integer:["integer","field"]}},division:{operators:["/","/="],type:t.OPERATOR_TYPE.arithmetic,supportedTypes:["field","integer"],precedence:3,pairs:{field:["field","integer"],integer:["integer","field"]}},exponentiation:{operators:["**","**="],type:t.OPERATOR_TYPE.arithmetic,supportedTypes:["integer"],precedence:2},AND:{operators:["&&"],type:t.OPERATOR_TYPE.logical,supportedTypes:["bool"],precedence:7},OR:{operators:["||"],type:t.OPERATOR_TYPE.logical,supportedTypes:["bool"],precedence:7},NOT:{operators:["!"],type:t.OPERATOR_TYPE.logical,supportedTypes:["bool"],precedence:1},equal:{operators:["=="],type:t.OPERATOR_TYPE.relational,precedence:6,supportedTypes:["bool","group","field","integer","address","tuple","circuit_declaration"],pairs:{bool:["bool"],group:["group"],field:["field"],integer:["integer"],address:["address"],tuple:["tuple"],circuit_declaration:["circuit_declaration"]}},notEqual:{operators:["!="],type:t.OPERATOR_TYPE.relational,precedence:6,supportedTypes:["bool","group","field","integer","address","tuple","circuit_declaration"],pairs:{bool:["bool"],group:["group"],field:["field"],integer:["integer"],address:["address"],tuple:["tuple"],circuit_declaration:["circuit_declaration"]}},less:{operators:["<","<="],type:t.OPERATOR_TYPE.relational,supportedTypes:["integer"],precedence:5},greater:{operators:[">",">="],type:t.OPERATOR_TYPE.relational,supportedTypes:["integer"],precedence:5}};let g=r=class{analyzeAndCalcExpression(e,t){var n,r;const i=[];if((m.default.isIntType(e)||"integer"==e)&&"statement_declaration"==(null===(n=t.parent)||void 0===n?void 0:n.type)){let e="";const n=c.default.getNodeByPath(t.parent,["variables"]);n&&n.childCount>1&&n.lastChild&&(e=null===(r=n.lastChild)||void 0===r?void 0:r.text);const o={result:!0,type:"",numbers:[],operations:[]};this.calcExpression(o,t,0),o.result&&(""==e&&(e=o.type),"integer"==e||""==e||m.default.isIntValueInRange(e,o.numbers[0])||i.push(s.Diagnostic.create(c.default.range(t),`Error [EASG0373030]: value '${o.numbers[0]}' is out of range '${e}'`,s.DiagnosticSeverity.Warning)))}return i}analyzeOperationExpression(e,t){const n=[],i=e.namedChildren.filter((e=>e.type.match(/^operation/))),o=e.namedChildren.filter((e=>!e.type.match(/^operation/)));if(!(i&&i.length&&o&&o.length)){if(o&&e.text.startsWith("(")&&e.text.endsWith(")")){const r=o.map((e=>this.dataTypeParser.getStatementDeclarationDataType(e,t)));n.push(...this.analyzeAndCalcExpression(r[0],e))}return n}const a=this.cache.get(t);if(!a)return n;if(!d.default.getFunctionAstFromChildNode(e,a))return n;const s=i.map((e=>({node:e,...r.getOperationType(e)}))).sort(((e,t)=>e.precedence-t.precedence)),c=o.map((e=>this.dataTypeParser.getStatementDeclarationDataType(e,t)));try{for(;s.length;)n.push(...this.checkOperation(s,i,o,c,t));0==n.length&&n.push(...this.analyzeAndCalcExpression(c[0],e))}catch(e){}return n}addNumberToStack(e,t){var n,r;""==e.type&&t.childCount>1&&t.lastChild&&(e.type=null===(n=t.lastChild)||void 0===n?void 0:n.text);const i=m.default.strToBigInt(null===(r=t.firstChild)||void 0===r?void 0:r.text);i?e.numbers.push(i.valueOf()):e.result=!1}calcExpression(e,t,n){if(!e.result)return BigInt(0).valueOf();const r={result:!0,type:"",numbers:[],operations:[]};for(;n<t.namedChildren.length;){if(!e.result)return BigInt(0).valueOf();const i=t.namedChildren[n];if(i.type.match(/^operation/)){if(e.operations.push(i.text),"*"==i.text||"/"==i.text||"**"==i.text)if("expression"!=t.namedChildren[++n].type){if(this.addNumberToStack(e,t.namedChildren[n]),!e.result)return BigInt(0).valueOf();this.evaluateStack(e,!1)}else{const i=this.calcExpression(r,t.namedChildren[n],0);if(""==e.type&&""!=r.type&&(e.type=r.type),!r.result)return BigInt(0).valueOf();e.numbers.push(i),this.evaluateStack(e,!1)}}else if("expression"==i.type){const t=this.calcExpression(r,i,0);if(""==e.type&&""!=r.type&&(e.type=r.type),!r.result)return BigInt(0).valueOf();e.numbers.push(t)}else if(this.addNumberToStack(e,i),!e.result)return BigInt(0).valueOf();n++}for(;e.numbers.length>1;)this.evaluateStack(e,!0);return e.numbers[0]}evaluateStack(e,t){let n,r;const i=t?e.operations.shift():e.operations.pop(),o=t?e.numbers.shift():e.numbers.pop(),a=t?e.numbers.shift():e.numbers.pop();t?(n=a,r=o):(n=o,r=a);let s=BigInt(0).valueOf();r&&n&&("*"==i&&(s=r*n),"**"==i?s=r**n:"/"==i?s=r/n:"+"==i?s=r+n:"-"==i&&(s=r-n),t?e.numbers.unshift(s):e.numbers.push(s))}checkOperation(e,n,r,i,o){const a=[],u=e[0],l=n.findIndex((e=>{var t;return e.startPosition.column===(null===(t=u.node)||void 0===t?void 0:t.startPosition.column)}));if(-1===l)throw"Operation not found";const d=r[l],f=r[l+1],p=i[l],h=i[l+1];return u.type===t.OPERATOR_TYPE.relational&&(i[l]="bool"),e.shift(),n.splice(l,1),r.splice(l+1,1),i.splice(l+1,1),["tuple"].includes(this.getTypeGroupFromType(p))||["tuple"].includes(this.getTypeGroupFromType(h))||u.type===t.OPERATOR_TYPE.relational&&p===h||(u&&u.node&&"arithmetic"===u.type&&("expression_tuple"===d.type&&0===d.namedChildren.length||"expression_tuple"===f.type&&0===f.namedChildren.length)&&(u.node.parent&&"expression_tuple"===f.type&&0===f.namedChildren.length&&"expression_tuple"===d.type&&0===d.namedChildren.length&&a.push(s.Diagnostic.create(c.default.range(u.node.parent),`Error [EASG0373025]: unexpected type, expected: 'integer', received: '${d.text}'`,s.DiagnosticSeverity.Error)),"expression_tuple"!==f.type&&a.push(s.Diagnostic.create(c.default.range(f),`Error [EASG0373025]: unexpected type, expected: '${d.text}', received: '${h}'`,s.DiagnosticSeverity.Error)),"expression_tuple"!==d.type&&a.push(s.Diagnostic.create(c.default.range(f),`Error [EASG0373025]: unexpected type, expected: 'tuple', received: '${p}'`,s.DiagnosticSeverity.Error))),[d,f].forEach((e=>{e&&a.push(...this.compareExpressionTerm(e,p,u,o))}))),a}getTypeGroupFromType(e){let t=e;return e.match(/^(u|i)\d{1,3}$/)?t="integer":e.match(/^\(/)&&(t="tuple"),t}isTypeEqual(e,t){return this.getTypeGroupFromType(e)===this.getTypeGroupFromType(t)}static getOperationType(e){const n=e.text.replace(" ","");return Object.values(t.OPERATIONS).find((e=>e.operators.includes(n)))}compareExpressionTerm(e,n,i,o){var a;const u=[];let l=this.dataTypeParser.getStatementDeclarationDataType(e,o);const d=this.typeAliasService.compareTypes(o,n,l);l=d.resolvedSecondType,n=d.resolvedFirstType;const f=this.getTypeGroupFromType(l);if(l&&f&&n)if(i.supportedTypes.includes(f))l===n||this.checkTypePairs(l,n,i)||p.default.isNumberTypeMatch(l,n)||p.default.isNumberTypeMatch(n,l)||u.push(s.Diagnostic.create(c.default.range(e),`Error [EASG0373025]: unexpected type, expected: '${n}', received: '${l}'`,s.DiagnosticSeverity.Error));else if(i.type===t.OPERATOR_TYPE.relational&&1===i.supportedTypes.length&&l!==i.supportedTypes[0])u.push(s.Diagnostic.create(c.default.range(e),`Error [EASG0373025]: unexpected type, expected: '${i.supportedTypes[0]}', received: '${l}'`,s.DiagnosticSeverity.Error));else{const o=n!==l?n:i.supportedTypes[0];e.nextNamedSibling&&(null===(a=r.getOperationType(e.nextNamedSibling))||void 0===a?void 0:a.type)==t.OPERATOR_TYPE.relational||u.push(s.Diagnostic.create(c.default.range(e),`Error [EASG0373025]: unexpected type, expected: '${o}', received: '${l}'`,s.DiagnosticSeverity.Error))}return u}checkTypePairs(e,t,n){if(!n.pairs||!n.pairs[t])return!1;return!!n.pairs[t].includes(e)}checkConditionalExpression(e,t){const n=[];let r="";const i=c.default.getNamedParentByPath(e,["expression","statement_declaration"]),o=c.default.getNamedParentByPath(e,["expression"]);if((i||o)&&(r=this.dataTypeParser.getStatementDeclarationDataType(i||o,t)),r){const i=c.default.getNamedChildrenNodesByPath(e,["expression"]);if(3===i.length){const e=this.dataTypeParser.getStatementDeclarationDataType(i[1],t),o=this.dataTypeParser.getStatementDeclarationDataType(i[2],t);[{type:e,node:i[1]},{type:o,node:i[2]}].forEach((e=>{var i,o;if(p.default.isAllowedNumber(r,e.type)&&e.type!==r&&("integer"===e.type||"integer"===r)){const t=null===(o=null===(i=e.node.children[0])||void 0===i?void 0:i.children[0])||void 0===o?void 0:o.text;return c.default.isNumberUnsigned(r)&&parseInt(t)<0?n.push(s.Diagnostic.create(c.default.range(e.node),`Error [EASG0373025]: unexpected type, expected: '${r}', received: '${e.type}'`,s.DiagnosticSeverity.Error)):parseInt(t)&&(m.default.isIntValueInRange(r,t)||n.push(s.Diagnostic.create(c.default.range(e.node),`Error [EASG0373030]: Value '${t}' is out of range '${r}'`,s.DiagnosticSeverity.Error))),n}if(e.type!==r){const i=this.typeAliasService.compareTypes(t,r,e.type);if(i.isEqual)return n;n.push(s.Diagnostic.create(c.default.range(e.node),`Error [EASG0373025]: unexpected type, expected: '${i.resolvedFirstType}', received: '${i.resolvedSecondType}'`,s.DiagnosticSeverity.Error))}}))}}return n}checkExpressionAssigned(e,t){var n,r,i;const o=[];let a=!1;try{if(e.children.find((e=>e.type.match(/^operation/)))||"identifier"===(null===(n=e.firstNamedChild)||void 0===n?void 0:n.type)||(null===(r=e.firstNamedChild)||void 0===r?void 0:r.type.startsWith("value_")))throw a=!0,Error();if("expression_conditional"===(null===(i=e.firstNamedChild)||void 0===i?void 0:i.type)){const n=c.default.getNamedChildrenNodesByPath(e,["expression_conditional","expression"]);n.shift(),n.forEach((e=>{o.push(...this.checkExpressionAssigned(e,t))}))}const s=c.default.getNodeByPath(e,["expression_postfix"]);if(s){if(l.default.isTupleAccessExpression(s))throw a=!0,Error();if(this.dataTypeParser.parseExpressionPostfixNodeType(s,t))throw a=!0,Error()}}catch(t){a&&o.push(s.Diagnostic.create(c.default.range(e),"Expected assignment of return values for expression",s.DiagnosticSeverity.Error))}return o}};i([(0,a.inject)(u.TYPE.Cache),o("design:type",f.default)],g.prototype,"cache",void 0),i([(0,a.inject)(u.TYPE.DataTypeParser),o("design:type",l.default)],g.prototype,"dataTypeParser",void 0),i([(0,a.inject)(u.TYPE.TypeAliasService),o("design:type",h.default)],g.prototype,"typeAliasService",void 0),g=r=i([(0,a.injectable)()],g),t.default=g},9059:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(2374),s=n(1555),c=n(8829),u=n(6920);let l=class{checkValue(e){const t=e.text;try{const n=JSON.parse(this.leoWasmApi.module.validate_field(t));if(!1===n.success)return[a.Diagnostic.create(s.default.range(e),n.message,a.DiagnosticSeverity.Error)]}catch(e){}return[]}};r([(0,o.inject)(u.TYPE.LeoWasmApi),i("design:type",c.default)],l.prototype,"leoWasmApi",void 0),l=r([(0,o.injectable)()],l),t.default=l},8055:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(5021),s=n(2374),c=n(6920),u=n(4424),l=n(1555),d=n(2446),f=n(8151),p=n(3359),h=n(9364),m=n(2431),g=n(5944),y=n(2573),_=n(5907),v=n(7173),b=n(8200);let E=r=class{analyze(e,t){const n=[];return n.push(...this.checkIfFunctionReturnsValue(e)),n.push(...r.checkFunctionDefinitionName(e)),n.push(...this.checkReturnStatementMissed(e)),n.push(...r.checkReturnStatementDeadCode(e)),n.push(...this.checkReturnStatementUnnecessary(e,t)),n.push(...this.checkFunctionDuplication(e,t)),n.push(...this.circuitDiagnostic.checkMemberDuplication(e,t)),n.push(...v.default.checkConstFunctionParameters(e)),n.push(...v.default.checkFunctionParametersDuplicates(e)),n.push(...v.default.checkFunctionParametersModifier(e)),n.push(...v.default.checkArgumentsNumber(e)),n.push(...r.checkConstMainFunction(e)),n}checkIfFunctionReturnsValue(e){const t=[],n=l.default.getNodeByPath(e,["return_type"]);return e.children&&e.children.length>1&&"block"==e.children[e.children.length-1].type&&"ERROR"==e.children[e.children.length-2].type?t.push(s.Diagnostic.create(l.default.range(e.children[e.children.length-1].children[0]),"Error [EPAR0370005]: expected 'address', 'bool', 'field', 'group', 'scalar', 'string', 'i8', 'i16', 'i32', 'i64', 'i128', 'u8', 'u16', 'u32', 'u64', 'u128' -- found '{'",s.DiagnosticSeverity.Error)):!n&&e.children&&e.children.length>1&&"block"==e.children[e.children.length-1].type&&"ERROR"!=e.children[e.children.length-2].type&&t.push(s.Diagnostic.create(l.default.range(e.children[e.children.length-1].children[0]),"Error [EPAR0370005]: expected -> -- found '{'",s.DiagnosticSeverity.Error)),t}static checkFunctionDefinitionName(e){const t=[],n=l.default.getNodeByPath(e,["identifier"]),r=u.default.checkSnakeCaseName(n,e.type);return t.push(...r),t}checkCalledFunctionExist(e,t){const n=[],r=this.cache.get(t);if(d.default.isExpressionFunctionCall(e)&&r&&!e.hasError()){const i=l.default.getNodeByPath(e,["keyword_or_identifier"]);if(!i)return n;const o=this.cache.getAllImportedItemsByType("function_declaration",t),a=[...r.functions,...o];!!g.default.findByNameAndAlias(a,i.text)||n.push(s.Diagnostic.create(l.default.range(e),`Error [EASG0373023]: failed to resolve function: '${i.text}'.`,s.DiagnosticSeverity.Error))}return n}checkReturnStatementUnnecessary(e,t){const n=[],r=l.default.getNodeByPath(e,["return_type"]),i=l.default.getNodesByType(e,"statement_return");return!r&&i.length&&i.forEach((e=>{const r=l.default.getNodeByPath(e,["expression"]);if(r){const e=this.dataTypeParser.getStatementDeclarationDataType(r,t);n.push(s.Diagnostic.create(l.default.range(r),`Error [EASG0373025]: unexpected type, expected: '()', received: '${e}'`,s.DiagnosticSeverity.Error))}})),n}checkReturnStatementMissed(e){const t=[],n=l.default.getNodeByPath(e,["identifier"]),i=l.default.getNodeByPath(e,["return_type"]),o=l.default.getNodesByType(e,"statement_return"),a=o.find((e=>!l.default.getNamedParentByTypes(e,[_.NODE_TYPES.statement_conditional,_.NODE_TYPES.else_if,_.NODE_TYPES.statement_for])));if(!i||o.length&&(a||1!=o.length)){if(i&&!a&&o.length>1){if(l.default.getNamedParentByType(o[0],"statement_for"))return t.push(r.getMissingReturnStatementDiagnostic(n)),t;const e=l.default.getNamedParentByType(o[0],"statement_conditional");if(e){const i=[l.default.getNodeByPath(e,["block"]),...l.default.getNamedChildrenNodesByPath(e,["else_if","block"])],o=l.default.getNamedChildrenNodesByPath(e,["else"]);if(o.length){i.push(o[0]);i.find((e=>!l.default.getNodeByPath(e,["statement_return"])))&&t.push(r.getMissingReturnStatementDiagnostic(n))}else t.push(r.getMissingReturnStatementDiagnostic(n))}}}else t.push(r.getMissingReturnStatementDiagnostic(n));return t}static checkReturnStatementDeadCode(e){const t=[],n=`Error [EASG0373034]: function '${l.default.getNodeByPath(e,[_.NODE_TYPES.identifier]).text}' missing return for all paths: 'dead code due to unconditional early return'`,i=l.default.getNodeByPath(e,[_.NODE_TYPES.block]);return t.push(...r.checkBlockReturnStatementDeadCode([...i.namedChildren],n)),t}static checkBlockReturnStatementDeadCode(e,t){const n=[];for(let i,o=0;o<e.length;o++)if(i=e[o],i.type===_.NODE_TYPES.statement_return){if(o<e.length-1){n.push(s.Diagnostic.create(l.default.range(i),t,s.DiagnosticSeverity.Error));break}}else if(i.type===_.NODE_TYPES.statement_conditional){const a=[l.default.getNodeByPath(i,[_.NODE_TYPES.block]),...l.default.getNamedChildrenNodesByPath(i,[_.NODE_TYPES.else_if,_.NODE_TYPES.block]),...l.default.getNamedChildrenNodesByPath(i,[_.NODE_TYPES.else])];if(a.forEach((e=>{n.push(...r.checkBlockReturnStatementDeadCode([...e.namedChildren],t))})),o<e.length-1&&l.default.isConditionalStatementReturnValue(i)){n.push(s.Diagnostic.create(l.default.range(a[a.length-1].lastChild),t,s.DiagnosticSeverity.Error));break}}else if(i.type===_.NODE_TYPES.block){const t=l.default.extractBlockChildren(i);e.splice(o+1,0,...t)}return n}static getMissingReturnStatementDiagnostic(e){return s.Diagnostic.create(l.default.range(e),`Error [EASG0373033]: function '${e.text}' missing return for all paths`,s.DiagnosticSeverity.Error)}checkFunctionDuplication(e,t){const n=[];if(l.default.getNamedParentByType(e,"circuit_declaration"))return n;const r=l.default.getNodeByPath(e,["identifier"]),i=this.cache.get(t);if(r&&i){const e=i.functions.filter((e=>e.name===r.text)),t=i.circuits.filter((e=>e.name===r.text)),o=e[0].range.start.line;if(e.length>1&&o===r.startPosition.row)for(let t=1;t<e.length;t++)n.push(s.Diagnostic.create(l.default.range(e[t].node),`Error [EASG0373015]: a function named "${e[t].name}" already exists in this scope`,s.DiagnosticSeverity.Error));if(e.length>0&&t.length>0&&o===r.startPosition.row){const e=l.default.getNodeByPath(t[0].node,["identifier"]);e&&n.push(s.Diagnostic.create(l.default.range(e),`Error [EASG0373015]: a function named "${t[0].name}" already exists in this scope`,s.DiagnosticSeverity.Error))}i.typesAliases.find((e=>e.name===r.text))&&n.push(s.Diagnostic.create(l.default.range(r),`Error [EASG0373044]: an alias named "${r.text}" already exists in this scope`,s.DiagnosticSeverity.Error))}return n}checkFunctionReturnType(e,t){const n=[];if(l.default.getNodeByPath(e,["type_circuit_or_alias"])&&"Self"!==e.text){const r=this.circuitService.findFromLocalAndImported(e.text,t),i=this.typeAliasService.findByName(t,e.text),o=this.stdPreludeService.findType(e.text);r||i||o||n.push(s.Diagnostic.create(l.default.range(e),`Error [EASG0373000]: failed to resolve circuit: '${e.text}'.`,s.DiagnosticSeverity.Error))}return n}static checkConstMainFunction(e){const t=[],n=l.default.getNodeByPath(e,["identifier"]),r=l.default.getNodeByPath(e,["const_"]);return"main"===n.text&&r&&t.push(s.Diagnostic.create(l.default.range(n),"Error [EASG0373055]: main function cannot be const",s.DiagnosticSeverity.Error)),t}};i([(0,a.inject)(c.TYPE.Cache),o("design:type",f.default)],E.prototype,"cache",void 0),i([(0,a.inject)(c.TYPE.CircuitService),o("design:type",p.default)],E.prototype,"circuitService",void 0),i([(0,a.inject)(c.TYPE.DataTypeParser),o("design:type",h.default)],E.prototype,"dataTypeParser",void 0),i([(0,a.inject)(c.TYPE.TypeAliasService),o("design:type",m.default)],E.prototype,"typeAliasService",void 0),i([(0,a.inject)(c.TYPE.StdPreludeService),o("design:type",y.default)],E.prototype,"stdPreludeService",void 0),i([(0,a.inject)(c.TYPE.CircuitDiagnostic),o("design:type",b.default)],E.prototype,"circuitDiagnostic",void 0),E=r=i([(0,a.injectable)()],E),t.default=E},7173:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(2374),s=n(1555),c=n(6918),u=n(5907),l=n(6920),d=n(8151);let f=class{static checkConstFunctionParameters(e){const t=[];if(s.default.getNodeByPath(e,["const_"])){const n=s.default.getNodeByPath(e,["function_parameters"]);(n?n.namedChildren:[]).forEach((e=>{const n=s.default.getNodeByPath(e,["const_"]),r=s.default.getNodeByPath(e,["identifier"]);n||t.push(a.Diagnostic.create(s.default.range(r||e),"Error [EASG0373056]: const function cannot have non-const input",a.DiagnosticSeverity.Error))}))}return t}static checkFunctionParametersDuplicates(e){const t=[],n=s.default.getNamedChildrenNodesByPath(e,[u.NODE_TYPES.function_parameters,u.NODE_TYPES.function_parameter,u.NODE_TYPES.identifier]),r=[];return n.forEach((e=>{r.find((t=>t.text===e.text))?t.push(a.Diagnostic.create(s.default.range(e),`Error [EASG0373046]: a function input named "${e.text}" already exists in this scope`,a.DiagnosticSeverity.Error)):r.push(e)})),t}checkGlobalConstDuplicates(e,t){const n=[],r=this.cache.get(t);if(!r)return n;const i=s.default.getNodeByPath(e,["identifier"]),o=c.default.getAllConstFromFileCache(r);if(o.length&&i){c.default.findByName(o,i.text)&&n.push(a.Diagnostic.create(s.default.range(i||e),`Error [EASG0373048]: a function input cannot be named '${i.text}' as a global const with that name already exists in this scope`,a.DiagnosticSeverity.Error))}return n}static checkFunctionParametersModifier(e){const t=[],n=s.default.getNodeByPath(e,["function_parameters"]);return(n?n.namedChildren:[]).forEach((e=>{const n=s.default.getNamedChildrenNodesByPath(e,["mode"]),r=s.default.getNodeByPath(e,["identifier"]),i=["const_","constant_","public_"];let o="",c="";if(n.length>0){const e=n[n.length-1].firstChild;e&&(o=e.type);const t=n[0].firstChild;t&&(c=t.type)}if(r&&n.length>0&&"const_"==c){const e=n[0].firstChild;e&&(t.push(a.Diagnostic.create(s.default.range(e),"Warning [WPAR0370000]: `constant` is preferred over `const` for function parameters to indicate a R1CS constant.",a.DiagnosticSeverity.Error)),n.shift())}if(r&&n.length>1&&!i.includes(o)){const e=n[n.length-1].firstChild;e&&t.push(a.Diagnostic.create(s.default.range(e),`Error [EPAR0370005]: expected : -- found '${e.text}'`,a.DiagnosticSeverity.Error))}else if(r&&1==n.length&&!i.includes(o)){n[n.length-1].firstChild&&t.push(a.Diagnostic.create(s.default.range(r),`Error [EPAR0370005]: expected : -- found '${r.text}'`,a.DiagnosticSeverity.Error))}})),t}static checkArgumentsNumber(e){const t=[],n=s.default.getNodeByPath(e,["function_parameters"]);if(n){(n?n.namedChildren:[]).length>8&&t.push(a.Diagnostic.create(s.default.range(n),"Function exceeds maximum number of inputs",a.DiagnosticSeverity.Error))}return t}};r([(0,o.inject)(l.TYPE.Cache),i("design:type",d.default)],f.prototype,"cache",void 0),f=r([(0,o.injectable)()],f),t.default=f},4230:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(2374),s=n(1555),c=n(3359),u=n(5944),l=n(6918),d=n(6920),f=n(8151);let p=class{static checkModifier(e){const t=e.firstNamedChild;return t&&"let_"!==t.type?[]:[a.Diagnostic.create(s.default.range(e),"Only constants are allowed in global context.",a.DiagnosticSeverity.Error)]}checkDuplicates(e,t){const n=[],r=this.cache.get(t);if(!r)return n;const i=l.default.getAllConstFromFileCache(r);if(i.length){const o=s.default.getNodeByPath(e,["variables","identifier"]),c=l.default.findByName(i,o.text);if(c){o.startPosition.row!==c.range.start.line&&n.push(a.Diagnostic.create(s.default.range(o),`Error [EASG0373049]: a variable cannot be named '${o.text}' as a global const with that name already exists in this scope`,a.DiagnosticSeverity.Error))}this.functionService.findFromLocalAndImported(o.text,t)&&n.push(a.Diagnostic.create(s.default.range(e),`Error [EASG0373015]: a function named '${o.text}' already exists in this scope`,a.DiagnosticSeverity.Error));this.circuitService.findFromLocalAndImported(o.text,t)&&n.push(a.Diagnostic.create(s.default.range(e),`Error [EASG0373045]: a circuit named '${o.text}' already exists in this scope`,a.DiagnosticSeverity.Error));r.typesAliases.find((e=>e.name===o.text))&&n.push(a.Diagnostic.create(s.default.range(e),`Error [EASG0373044]: an alias named "${o.text}" already exists in this scope`,a.DiagnosticSeverity.Error))}return n}};r([(0,o.inject)(d.TYPE.Cache),i("design:type",f.default)],p.prototype,"cache",void 0),r([(0,o.inject)(d.TYPE.FunctionsService),i("design:type",u.default)],p.prototype,"functionService",void 0),r([(0,o.inject)(d.TYPE.CircuitService),i("design:type",c.default)],p.prototype,"circuitService",void 0),p=r([(0,o.injectable)()],p),t.default=p},3846:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(2374),s=n(1555),c=n(8829),u=n(6920);let l=class{checkTuple(e){const[t,n]=e.namedChildren;if(!(t&&n&&t.text&&n.text))return[];try{const r=JSON.parse(this.leoWasmApi.module.validateGroupTuple(t.text,n.text));if(!1===r.success)return[a.Diagnostic.create(s.default.range(e),r.message,a.DiagnosticSeverity.Error)]}catch(e){}return[]}checkValue(e){const t=e.text;try{const n=JSON.parse(this.leoWasmApi.module.validateGroupSingle(t));if(!1===n.success)return[a.Diagnostic.create(s.default.range(e),n.message,a.DiagnosticSeverity.Error)]}catch(e){}return[]}};r([(0,o.inject)(u.TYPE.LeoWasmApi),i("design:type",c.default)],l.prototype,"leoWasmApi",void 0),l=r([(0,o.injectable)()],l),t.default=l},1612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROTECTED_NAMES=void 0;const r=n(2374),i=n(1555);t.PROTECTED_NAMES=["address","as","bool","string","circuit","console","const","else","false","field","for","function","group","i8","i16","i32","i64","i128","if","import","in","input","let","mut","return","Self","self","static","true","type",".len()","u8","u16","u32","u64","u128"];t.default=class{static checkDefinition(e,n){var o,a,s,c;const u=[];e.text.match(/^[a-zA-Zα-ωΑ-Ωµ][a-zA-Zα-ωΑ-Ωµ\d_]*$/)||u.push(r.Diagnostic.create(i.default.range(e),"Syntax error: Identifier should start with Alpha and includes Alphanumeric and underscore",r.DiagnosticSeverity.Error));let l=!1;if("expression_postfix"===(null===(a=null===(o=e.parent)||void 0===o?void 0:o.parent)||void 0===a?void 0:a.type)&&3===(null===(c=null===(s=e.parent)||void 0===s?void 0:s.parent)||void 0===c?void 0:c.namedChildCount)){const t=n.circuits.find((t=>t.name===e.text));t&&(l=!!t)}return t.PROTECTED_NAMES.includes(e.text)&&!l&&u.push(r.Diagnostic.create(i.default.range(e),"Identifier can not be protected name",r.DiagnosticSeverity.Error)),u}}},4:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(5021),s=n(2374),c=n(6920),u=n(1555),l=n(8151),d=n(4862),f=n(5862),p=n(1612);let h=r=class{static checkPackageName(e){const t=[];return r.checkPackageByName(e.text)||t.push(s.Diagnostic.create(u.default.range(e),"Error [EPAR0370012]: package names must be lowercase alphanumeric ascii with underscores and singular dashes",s.DiagnosticSeverity.Error)),p.PROTECTED_NAMES.includes(e.text.trim())&&t.push(s.Diagnostic.create(u.default.range(e),`Error [EPAR0370009]: unexpected string: expected 'package name', got '${e.text}'`,s.DiagnosticSeverity.Error)),t}static checkPackageByName(e){return!!e.match(/^(?:[a-z0-9](?:[_-a-z0-9])*)+$/)}getImportsDiagnosticErrors(e){const t=[],n=this.cache.get(e);if(!n)return t;const{imports:r}=n;return r.forEach((e=>{var n;(null===(n=e.errors)||void 0===n?void 0:n.length)&&e.errors.forEach((e=>e instanceof d.DiagnosticError?t.push(s.Diagnostic.create(u.default.range(e.node),e.message,s.DiagnosticSeverity.Error)):e.range?t.push(e):void 0))})),t}checkMultiAccess(e){const t=[],n=f.default.parseMultiImportPackageItems(e);return 1===n.length&&""===n[0].text.trim()&&t.push(s.Diagnostic.create(u.default.range(e),"Error [EPAR0370002]: Cannot import empty list",s.DiagnosticSeverity.Error)),t}};i([(0,a.inject)(c.TYPE.Cache),o("design:type",l.default)],h.prototype,"cache",void 0),h=r=i([(0,a.injectable)()],h),t.default=h},3003:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(5021),s=n(2374),c=n(6630),u=n(1555),l=n(2431),d=n(5907),f=n(6920),p=n(3506),h=n(9157),m=n(4269),g=n(3715),y=n(2895),_=n(9059),v=n(3846),b=n(3950);let E=r=class{static checkNodeError(e,t){(t.hasError()||t.isMissing())&&u.default.forEach(t,(t=>{y.default.checkAll(t,e.diagnostics)}))}static checkConstDeprecated(e,t,n){"const"==e&&t.diagnostics.push(s.Diagnostic.create(u.default.range(n),"Warning [WPAR0370000]: `constant` is preferred over `const` for function parameters to indicate a R1CS constant.",s.DiagnosticSeverity.Error))}checkDefinition(e,t,n,r,i){if(e.diagnostics.push(...this.definitionDiagnostic.checkExplicitTypeMatch(t,i)),"type_tuple"===n.type&&"expression"===r.type&&r.firstNamedChild&&"expression_tuple"===r.firstNamedChild.type&&e.diagnostics.push(...this.dataTypeDiagnostic.compareTupleTypes(r,n.text,i)),"type_field"===n.type&&!t.isMissing()&&!t.hasError()){const t=u.default.getNamedChildrenNodesByPath(r,["value_number"]);t.length>0&&e.diagnostics.push(...this.fieldDiagnostic.checkValue(t[0]))}u.default.forEach(r,(t=>{if("number_positive"===t.type&&e.diagnostics.push(...b.default.checkPositiveNumber(t)),["value_integer","value_field"].includes(t.type)&&e.diagnostics.push(...h.default.checkImplicitWhitespaces(t)),"value_group"===t.type){e.diagnostics.push(...h.default.checkValueGroupImplicitWhitespaces(t));const n=u.default.getSelfNamedChildByTypes(t,["value_number","group_tuple"]);"group_tuple"===n.type&&e.diagnostics.push(...this.groupDiagnostic.checkTuple(n)),"value_number"===n.type&&e.diagnostics.push(...this.groupDiagnostic.checkValue(n))}if("value_field"===t.type){const n=u.default.getSelfNamedChildByTypes(t,["value_number"]);e.diagnostics.push(...this.fieldDiagnostic.checkValue(n))}"address"===t.type&&e.diagnostics.push(...p.default.checkPublicKey(t))}))}analyzeLeoFile(e,t){const n=[];if(c.URI.parse(e).toString()===t.mainFileUri){const r=t.get(t.mainFileUri);if(!r)return n;const i=r.functions.filter((e=>e.contexts.length>0&&"program"===e.contexts[e.contexts.length-1].name)),o=t.getInputs(t.mainInputFileUri);if(!o)return i.forEach((e=>{n.push(s.Diagnostic.create(u.default.range(e.parameters[0].node),`${c.URI.parse(t.mainInputFileUri).fsPath} not found.`,s.DiagnosticSeverity.Error))})),n;r.functions.forEach((r=>{if(r.contexts.length>0&&"program"===r.contexts[r.contexts.length-1].name){const i=o.sections.find((e=>e.name==r.name)),a=u.default.getNodeByPath(r.node,["identifier"]);!i&&a?n.push(s.Diagnostic.create(u.default.range(a),`Section named ${r.name} not found in ${c.URI.parse(t.mainInputFileUri).fsPath}`,s.DiagnosticSeverity.Error)):i&&n.push(...this.checkFunctionArguments(o,i,r,e))}else r.parameters.forEach((e=>{if(e.isConstant||e.isPublic){const t=u.default.getNodeByTypes(e.node,["identifier"]);t&&n.push(s.Diagnostic.create(u.default.range(t),"Error [ETYC0372029]: Helper functions cannot have modes associated with their inputs. Consider removing the mode or adding a `@program` annotation to the function.",s.DiagnosticSeverity.Error))}}))}))}return n}checkFunctionArguments(e,t,n,i){const o=[];return o.push(...r.checkFuncArgsDuplicatesInSections(n.parameters,t.declarations,e.uri)),n.parameters.length&&n.parameters.forEach((n=>{var r,a,l,d,f,p;const h=t.declarations.find((e=>e.name===n.name));if(h){const m="const"==h.mode||"constant"==h.mode,g="public"==h.mode;if(n.isConstant!=m||n.isPublic!=g)return void o.push(s.Diagnostic.create(u.default.range(n.node),`The mode of parameter '${n.name}' is different from the mode declared in the '${t.name}' section of the '${c.URI.parse(e.uri).fsPath}' file`,s.DiagnosticSeverity.Error));const y=this.typeAliasService.findByName(i,n.type);if("type_tuple"===(null===(a=null===(r=n.node)||void 0===r?void 0:r.lastChild)||void 0===a?void 0:a.type)&&"type_tuple"===(null===(f=null===(d=null===(l=h.node)||void 0===l?void 0:l.firstChild)||void 0===d?void 0:d.lastChild)||void 0===f?void 0:f.type)&&this.tupleLength(n.node.lastChild,h.node.firstChild.lastChild,o,n.node),h.type!==n.type&&(!y||h.type!==(null===(p=y.resolvedType)||void 0===p?void 0:p.name))){const t=s.Diagnostic.create(u.default.range(n.node),`Expected data type \`${n.type}\`, found \`${h.type}\`.`,s.DiagnosticSeverity.Error);t.relatedInformation=[s.DiagnosticRelatedInformation.create(s.Location.create(e.uri,u.default.range(h.node)),h.name)],o.push(t)}}else{const r=u.default.getNodeByPath(n.node,["identifier"]);if(r){const i=s.Diagnostic.create(u.default.range(r),`Parameter '${n.name}' not found in section '${t.name}' of file ${c.URI.parse(e.uri).fsPath}`,s.DiagnosticSeverity.Error);i.relatedInformation=[s.DiagnosticRelatedInformation.create(s.Location.create(e.uri,u.default.range(t.node)),t.name)],o.push(i)}}})),o}tupleLength(e,t,n,r){if("type_tuple"===e.type&&"type_tuple"===t.type)if(e.namedChildCount!==t.namedChildCount)n.push(s.Diagnostic.create(u.default.range(r),`Error [ECMP0376014]: Input tuple size mismatch expected ${e.namedChildCount}, found tuple with length ${t.namedChildCount}`,s.DiagnosticSeverity.Error));else for(let i=0;i<e.namedChildren.length;i++)this.tupleLength(e.namedChildren[i],t.namedChildren[i],n,r)}static checkFuncArgsDuplicatesInSections(e,t,n){const r=[];return t.length&&e.forEach((e=>{const i=t.filter((t=>t.name===e.name));if(i.length>1){const t=s.Diagnostic.create(u.default.range(u.default.getNodeByType(e.node,d.NODE_TYPES.identifier)),`Error [ECMP0376018]: Input variable ${e.name} declared twice`,s.DiagnosticSeverity.Error);t.relatedInformation=[s.DiagnosticRelatedInformation.create(s.Location.create(n,u.default.range(i[i.length-1].node)),i[i.length-1].node.text)],r.push(t)}})),r}};i([(0,a.inject)(f.TYPE.DefinitionDiagnostic),o("design:type",g.default)],E.prototype,"definitionDiagnostic",void 0),i([(0,a.inject)(f.TYPE.DataTypeDiagnostic),o("design:type",m.default)],E.prototype,"dataTypeDiagnostic",void 0),i([(0,a.inject)(f.TYPE.GroupDiagnostic),o("design:type",v.default)],E.prototype,"groupDiagnostic",void 0),i([(0,a.inject)(f.TYPE.FieldDiagnostic),o("design:type",_.default)],E.prototype,"fieldDiagnostic",void 0),i([(0,a.inject)(f.TYPE.TypeAliasService),o("design:type",l.default)],E.prototype,"typeAliasService",void 0),E=r=i([(0,a.injectable)()],E),t.default=E},4424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(1945),o=n(1555);t.default=class{static checkSnakeCaseName(e,t){const n=[],a=e.text;if(!/\b([a-z][a-z0-9_]*|_[a-z0-9_]+)\b/.test(a)){const s=i.default.toSnakeCase(a),c="function_declaration"===t?"Function":"Circuit attribute";n.push(r.Diagnostic.create(o.default.range(e),`${c} '${a}' should have a snake case name such as '${s}'`,r.DiagnosticSeverity.Warning))}return n}static checkPascalCaseName(e){const t=[],n=e.text;if(!/\b[A-Z][a-z0-9]*(?:[A-Z][a-z0-9]*)*\b/.test(n)){const a=i.default.toPascalCase(n);t.push(r.Diagnostic.create(o.default.range(e),`Circuit '${n}' should have a pascal case name such as '${a}'`,r.DiagnosticSeverity.Warning))}return t}}},3950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(1555),o=n(4269);t.default=class{static checkPositiveNumber(e){const t=[];return parseInt(e.text)<0&&t.push(r.Diagnostic.create(i.default.range(e),"The number must be positive",r.DiagnosticSeverity.Error)),t}static isNumberTypeMatch(e,t){return"integer"===t&&o.IntegerTypes.hasOwnProperty(e.trim())}static isAllowedNumber(e,t){const n=o.IntegerTypes.hasOwnProperty(t.trim())||"integer"===t,r=o.IntegerTypes.hasOwnProperty(e.trim())||"integer"===e;return!(!n&&!r)&&(!(![e,t].includes("field")||!n&&!r)||n&&r)}}},3966:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(2374),s=n(1555),c=n(6920),u=n(8151),l=n(2446);let d=class{checkExpressions(e,t){const n=[],r=s.default.getNamedChildrenNodesByPath(e,["expression"]);return r&&r.length&&r.forEach((e=>{n.push(...this.checkExpressionType(e,t))})),n}checkExpressionType(e,t){const n=[],r=this.cache.get(t);if(!r)return n;const i=l.default.getFunctionAstFromChildNode(e,r),o=s.default.getNodeByPath(e,["value_number"]),c=s.default.getNodeByPath(e,["value_integer","type_u32"]),u=["type_u8","type_u16","type_u64","type_u128","type_i8","type_i16","type_i32","type_i64","type_i128"];if(!o&&!c){const t=s.default.getNodeByPath(e,["value_integer"]);if(t){const r=s.default.getNodeByTypes(t,u);return n.push(a.Diagnostic.create(s.default.range(e),`Error [EASG0373025]: unexpected type, expected: 'u32', received: '${r?r.type.replace("type_",""):""}'`,a.DiagnosticSeverity.Error)),n}let o=null;const c=s.default.getNodeByPath(e,["identifier"]);c&&i&&(o=[...r.constants,...i.statementDefinitions,...i.parameters,...r.imports.flatMap((e=>e.items)).filter((e=>!!e.isConstant))].find((e=>e.name===c.text)));const l=s.default.getNodeByPath(e,["expression_postfix"]),d=s.default.getNodeByType(e,"identifier");l&&d&&(o=[...r.functions,...r.imports.flatMap((e=>e.items)).filter((e=>!!e.isConstant))].find((e=>e.name===d.text))),o&&!o.isConstant&&n.push(a.Diagnostic.create(s.default.range(e),"Error [EASG0373026]: expected const, found non-const value",a.DiagnosticSeverity.Error))}return n}};r([(0,o.inject)(c.TYPE.Cache),i("design:type",u.default)],d.prototype,"cache",void 0),d=r([(0,o.injectable)()],d),t.default=d},5732:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(2374),s=n(6920),c=n(1555),u=n(3359),l=n(8151),d=n(2431),f=n(9364),p=n(2573);let h=class{checkTypeAliasDuplication(e,t){const n=[],r=this.cache.get(t),i=c.default.getNodeByPath(e,["identifier"]);if(r&&i){let t=!1;for(let o=0;o<r.typesAliases.length;o++){const s=r.typesAliases[o];if(s.name===i.text){if(t){n.push(a.Diagnostic.create(c.default.range(i),`Error [EASG0373044]: an alias named "${i.text}" already exists in this scope`,a.DiagnosticSeverity.Error));break}if(!t&&s.typeNode.startPosition.row==e.startPosition.row)return n;t=!0}}}return n}};r([(0,o.inject)(s.TYPE.Cache),i("design:type",l.default)],h.prototype,"cache",void 0),r([(0,o.inject)(s.TYPE.CircuitService),i("design:type",u.default)],h.prototype,"circuitService",void 0),r([(0,o.inject)(s.TYPE.TypeAliasService),i("design:type",d.default)],h.prototype,"typeAliasService",void 0),r([(0,o.inject)(s.TYPE.DataTypeParser),i("design:type",f.default)],h.prototype,"dataTypeParser",void 0),r([(0,o.inject)(s.TYPE.StdPreludeService),i("design:type",p.default)],h.prototype,"stdPreludeService",void 0),h=r([(0,o.injectable)()],h),t.default=h},1555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2374),i=n(3359),o=n(5907);class a{static getNamedChildrenNodesByPath(e,t){const n=[];return 0===t.length||e.namedChildren.length&&e.namedChildren.forEach((e=>{if((Array.isArray(t[0])?t[0]:[t[0]]).includes(e.type))if(1===t.length)n.push(e);else{const r=a.getNamedChildrenNodesByPath(e,t.slice(1));n.push(...r)}})),n}static getNodeByType(e,t){let n=null;return a.forEach(e,(e=>{e.type===t&&null===n&&(n=e)})),n}static getNodeByTypes(e,t){let n=null;return a.forEach(e,(e=>{t.includes(e.type)&&null===n&&(n=e)})),n}static getNodeById(e,t){let n=null;return a.forEach(e,(e=>{e.id===t&&null===n&&(n=e)})),n}static getNodeByPath(e,t){let n=null;return 0===t.length?e:(e.children.length&&e.children.forEach((e=>{e.type===t[0]&&null===n&&(n=e,t.splice(0,1),n=a.getNodeByPath(e,t))})),n)}static getNodeByValue(e,t){let n=null;return a.forEach(e,(e=>{e.text===t&&null===n&&(n=e)})),n}static forEach(e,t){e&&(t(e),e.children.length&&e.children.forEach((e=>a.forEach(e,t))))}static range(e){return r.Range.create(e.startPosition.row,e.startPosition.column,e.endPosition.row,e.endPosition.column)}static isAddressDefinition(e){return"value_address"===e.type&&e.isNamed()}static isCircuitVariableExpressionIdentifier(e){var t;return e.type===o.NODE_TYPES.identifier&&(null===(t=e.parent)||void 0===t?void 0:t.type)===o.NODE_TYPES.circuit_variable_expression}static getNamedParentByType(e,t){return null===e.parent||"file"===e.parent.type?null:e.parent.type!==t?a.getNamedParentByType(e.parent,t):e.parent}static getNamedParentByTypes(e,t){return null===e.parent||"file"===e.parent.type?null:t.includes(e.parent.type)?e.parent:a.getNamedParentByTypes(e.parent,t)}static getNamedParentByPath(e,t){var n;return 0===t.length?null:(null===(n=e.parent)||void 0===n?void 0:n.type)&&e.parent.isNamed()?1===t.length&&t[0]===e.parent.type?e.parent:1===t.length&&t[0]!==e.parent.type?null:t[0]===e.parent.type?a.getNamedParentByPath(e.parent,t.slice(1)):a.getNamedParentByPath(e.parent,t):null}static getNodeByPosition(e,t,n,r=!1){let i=null;return a.forEach(e,(e=>{const o=e.endPosition;(r?e.text.trim():!i)&&o.column===n&&o.row===t&&(i=e)})),i}static getNodeUnderCursor(e,t,n){let r=null;return a.forEach(e,(e=>{const i=e.startPosition,o=e.endPosition;t>=i.row&&t<=o.row&&n>=i.column&&n<=o.column&&(r=e)})),r}static getNodesByType(e,t){const n=[];return a.forEach(e,(e=>{e.type===t&&n.push(e)})),n}static isInScope({start:e,end:t},n){const r=e.line<n.line||e.line===n.line&&e.character<=n.character,i=t.line>n.line||t.line===n.line&&t.character>=n.character;return r&&i}static getNodesByValue(e,t){const n=[];return a.forEach(e,(e=>{t.includes(e.text)&&n.push(e)})),n}static getParentNotEqual(e,t){const n=e.parent;return null===n?null:n.text.split("\n")[0].trim()===t.trim()?a.getParentNotEqual(n,t):n}static getLineUnderCursor(e,t){const n=r.Range.create(e.position.line,0,e.position.line,e.position.character);return t.getText(n)}static isVisible(e,t){for(const{start:n,end:r}of t){if(e.startPosition.row<=r+1&&n-1<=e.endPosition.row)return!0}return!1}static isCircuitVariableTypeAddress(e,t){const n=a.getNamedParentByPath(e,["expression","circuit_variable_expression"]);if(n){const r=a.getNamedParentByType(e,"expression_circuit_inline").firstNamedChild.text,o=i.default.findByNameAndAlias(t,r);if(o){const e=a.getNodeByType(n,"identifier").text;if(o.attributes.find((t=>t.name===e&&"address"===t.type)))return!0}}return!1}static isCircuitMethodDeclaration(e){return!!a.getNamedParentByType(e,o.NODE_TYPES.circuit_declaration)}static getSelfNamedChildByTypes(e,t){var n;return null===e?null:null!==(n=e.namedChildren.find((e=>t.includes(e.type))))&&void 0!==n?n:null}static getSelfNamedChildrenByTypes(e,t){return e.namedChildren.filter((e=>t.includes(e.type)))}static getNamedParentByWidePath(e,t){var n;if(0===t.length)return null;if((null===(n=e.parent)||void 0===n?void 0:n.type)&&e.parent.isNamed()){const n=Array.isArray(t[0])?t[0]:[t[0]];return 1===t.length&&n.includes(e.parent.type)?e.parent:1!==t.length||n.includes(e.parent.type)?n.includes(e.parent.type)?a.getNamedParentByWidePath(e.parent,t.slice(1)):a.getNamedParentByWidePath(e.parent,t):null}return null}static isNodeInScope(e,t){return a.isInScope({start:{line:e.startPosition.row,character:e.startPosition.column},end:{line:e.endPosition.row,character:e.endPosition.column}},{line:t.startPosition.row,character:t.startPosition.column})}static isPositionEqual(e,t){return e.startPosition.row===t.startPosition.row&&e.startPosition.column===t.startPosition.column&&e.endPosition.row===t.endPosition.row&&e.endPosition.column===t.endPosition.column}static getNodeIndex(e){let t=-1;const n=e.startPosition.column;return e.parent&&e.parent.namedChildren&&e.parent.namedChildren.some(((e,r)=>{if(e.startPosition.column===n)return t=r,!0})),t}static getBinaryOperationNode(e){if(null===e)return null;return(e=>e&&["operation_eq","operation_ne","operation_ge","operation_gt","operation_le","operation_lt","operation_and","operation_or","operation_add","operation_sub","operation_pow","operation_mul","operation_div"].includes(e.type)?e:null)(e.previousNamedSibling)}static getAssigneeOperationNode(e){const t="expression"===(null==e?void 0:e.type)?e:null==e?void 0:e.parent;return t&&t.previousNamedSibling&&"expression"===t.type&&["operation_assign","operation_add_assign","operation_sub_assign","operation_mul_assign","operation_div_assign","operation_pow_assign"].includes(t.previousNamedSibling.type)?t.previousNamedSibling:null}static getUnaryOperationNode(e){return null===e||null===e.previousNamedSibling?null:["operation_not","operation_negate"].includes(e.previousNamedSibling.type)?e.previousNamedSibling:null}static findFunctionByIdentifierNode(e=[],t){return"identifier"===t.type&&t.parent&&"function_declaration"===t.parent.type&&e.find((e=>e.name===t.text&&a.isNodeInScope(e.node,t)))||null}static findFunctionParameterByIdentifierNode(e=[],t){return e.find((e=>{const n=a.getNodeByType(e.node,t.type);return n&&a.isPositionEqual(n,t)}))||null}static findStatementDeclarationByIdentifierNode(e=[],t){return"identifier"===t.type&&e.find((e=>{const n=a.getNodeByType(e.node,t.type);return n&&a.isPositionEqual(n,t)}))||null}static findCircuitByIdentifierNode(e=[],t){return"identifier"===t.type&&e.find((e=>{const n=a.getNodeByType(e.node,t.type);return n&&a.isPositionEqual(n,t)}))||null}static findCircuitAttributeByIdentifierNode(e=[],t){return"identifier"===t.type&&e.find((e=>{const n=a.getNodeByType(e.node,t.type);return n&&a.isPositionEqual(n,t)}))||null}static findImportByChildNode(e=[],t){return e.find((e=>a.isNodeInScope(e.node,t)))||null}static calculateStringLength(e){return e.namedChildren.reduce(((e,t)=>e+="double_slashes"===t.type?2:1),0)}static isNumber(e){return["i8","i16","i32","i64","i128","u8","u16","u32","u64","u128"].includes(e)}static isNumberUnsigned(e){return["u8","u16","u32","u64","u128"].includes(e)}static findByNameStrict(e=[],t=""){var n;return null!==(n=e.find((e=>e.alias===t||e.name===t)))&&void 0!==n?n:null}static getFirstNamedChildNotEqual(e,t){return e.firstNamedChild&&e.firstNamedChild.type!==t?e.firstNamedChild:e.firstNamedChild?a.getFirstNamedChildNotEqual(e.firstNamedChild,t):null}static getNodesByTypes(e,t){const n=[];return a.forEach(e,(e=>{t.includes(e.type)&&n.push(e)})),n}static getCallChain(e,t,n,r=[]){const{tree:i}=n,s=[o.NODE_TYPES.access_static_member,o.NODE_TYPES.access_member,o.NODE_TYPES.access_tuple],c=[o.NODE_TYPES.access_assignee,o.NODE_TYPES.value_field,o.NODE_TYPES.value_group,o.NODE_TYPES.value_integer,o.NODE_TYPES.value_boolean,o.NODE_TYPES.value_address,o.NODE_TYPES.value_string];let u=a.getNodeByPosition(i.rootNode,e,t,!0);do{if(u)if("."===u.type||"::"===u.type)u=a.getPrevPlacedNodeFiltered(null==u?void 0:u.startPosition.row,null==u?void 0:u.startPosition.column,n);else if(")"===u.type)u=a.getPrevNamedSiblingFiltered(a.getNamedParentByType(u,"access"));else if("}"===u.type){if(u=a.getNamedParentByType(u,o.NODE_TYPES.expression_circuit_inline)){r.unshift(u);break}}else{if(u.firstNamedChild&&"access_call"===u.firstNamedChild.type){u=a.getPrevNamedSiblingFiltered(u);continue}u=a.getNamedParentByWidePath(u,[s,"access"])||u,u=a.getNamedParentByTypes(u,c)||u,u=a.getNamedParentByType(u,o.NODE_TYPES.access_assignee)||u,u.isNamed()&&r.unshift(u),u=a.getPrevNamedSiblingFiltered(u)}else u=a.getPrevPlacedNodeFiltered(e,t,n)}while(u);return r}static getPrevNamedSiblingFiltered(e){const t=[o.NODE_TYPES.access,o.NODE_TYPES.access_assignee,o.NODE_TYPES.identifier,o.NODE_TYPES.expression_circuit_inline,o.NODE_TYPES.value_field,o.NODE_TYPES.value_group,o.NODE_TYPES.value_integer,o.NODE_TYPES.value_boolean,o.NODE_TYPES.value_address,o.NODE_TYPES.value_string];return e&&e.previousNamedSibling&&t.includes(e.previousNamedSibling.type)&&(!e.previousSibling||"{"!==e.previousSibling.type&&"("!==e.previousSibling.type)?e.previousNamedSibling:null}static getPrevPlacedNodeFiltered(e,t,n){const r=[o.NODE_TYPES.access,o.NODE_TYPES.access_assignee,o.NODE_TYPES.identifier,o.NODE_TYPES.expression_circuit_inline,o.NODE_TYPES.value_field,o.NODE_TYPES.value_group,o.NODE_TYPES.value_integer,o.NODE_TYPES.value_boolean,o.NODE_TYPES.value_address,o.NODE_TYPES.value_string];return a.getPrevPlacedNode(e,t,n,r)}static getPrevPlacedNode(e,t,n,r=[]){const{tree:i}=n;let o=i.rootNode;for(;o&&o.childCount;)for(let n=o.childCount-1;n>=0;n--){const i=o.children[n];if(i.endPosition.row<e||i.endPosition.row===e&&i.endPosition.column<=t){if(r.length&&r.includes(i.type))return i;if(i.childCount){o=i;break}return r.length?null:i}if((i.startPosition.row!==e||i.startPosition.column!==t)&&a.isInScope({start:{line:i.startPosition.row,character:i.startPosition.column},end:{line:i.endPosition.row,character:i.endPosition.column}},{line:e,character:t})){o=i;break}if(0===n)return null}return null}static getNodeWithEqualPass(e,t,n=!1){const r=n?e.namedChildren.reverse():e.namedChildren;if(0===t.length)return null;for(const e of r)if(t.includes(e.type)){if(1===t.length)return e;if(!!a.getNodeWithEqualPass(e,t.slice(1),n))return e}return null}static getPreviousSibling(e){return e.previousSibling&&!e.previousSibling.text.trim()?a.getPreviousSibling(e.previousSibling):e.previousSibling}static isVariableLoopIndex(e){const t=a.getNamedParentByType(e,o.NODE_TYPES.statement_for);if(t){if(a.getNodeByType(t,o.NODE_TYPES.identifier).text===e.text)return!0}return!1}static isConditionalStatementReturnValue(e){const t=[a.getNodeByPath(e,[o.NODE_TYPES.block]),...a.getNamedChildrenNodesByPath(e,[o.NODE_TYPES.else_if,o.NODE_TYPES.block]),...a.getNamedChildrenNodesByPath(e,[o.NODE_TYPES.else])];for(let e=0;e<t.length;e++){let n=!1;const r=[...t[e].namedChildren];for(let e=0;e<r.length;e++){if(r[e].type===o.NODE_TYPES.statement_return){n=!0;break}if(r[e].type===o.NODE_TYPES.statement_conditional){if(n=a.isConditionalStatementReturnValue(r[e]),n)break}else r[e].type===o.NODE_TYPES.block&&r.splice(e+1,0,...a.extractBlockChildren(r[e]))}if(!n)return!1}return!0}static extractBlockChildren(e){const t=[];return e.namedChildren.forEach((e=>{e.type===o.NODE_TYPES.block?t.push(...a.extractBlockChildren(e)):t.push(e)})),t}}t.default=a},8829:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(5021),o=n(2159);global.Module={onRuntimeInitialized:new Promise((function(e){e()}))};let a=class{async init(){await global.Module.onRuntimeInitialized;const e=o.cwrap("validate_group_tuple","string",["string","string"]),t=o.cwrap("validate_group_single","string",["string"]),n=o.cwrap("validate_field","string",["string"]);this.module={validateGroupTuple:e,validateGroupSingle:t,validate_field:n}}};a=r([(0,i.injectable)()],a),t.default=a},1945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static toSnakeCase(e){return e.replace(/\W+/g," ").split(/ |\B(?=[A-Z])/).map((e=>e.toLowerCase())).join("_")}static toPascalCase(e){return`${e}`.replace(new RegExp(/[-_]+/,"g")," ").replace(new RegExp(/[^\w\s]/,"g"),"").replace(new RegExp(/\s+(.)(\w+)/,"g"),((e,t,n)=>`${t.toUpperCase()+n.toLowerCase()}`)).replace(new RegExp(/\s/,"g"),"").replace(new RegExp(/\w/),(e=>e.toUpperCase()))}static rmWhitespaces(e){return e.replace(/\s/g,"")}}},4272:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(7908),s=n(1017);let c=r=class{constructor(){this.parser=void 0}async getParser(){if(this.parser)return Promise.resolve(this.parser);await a.init();const e=new a,t=await a.Language.load(r.getWasmPath());return e.setLanguage(t),this.parser=e,this.parser}static getWasmPath(){return s.resolve(__dirname+"","tree-sitter-leoInput.wasm")}getParserSync(){return this.parser?this.parser:new a}};c=r=i([(0,o.injectable)()],c),t.default=c},7505:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(7908),s=n(1017);let c=r=class{constructor(){this.parser=void 0}async getParser(){if(this.parser)return Promise.resolve(this.parser);await a.init();const e=new a,t=await a.Language.load(r.getWasmPath());return e.setLanguage(t),this.parser=e,this.parser}static getWasmPath(){return s.join(__dirname,"","tree-sitter-leo.wasm")}getParserSync(){return this.parser?this.parser:new a}};c=r=i([(0,o.injectable)()],c),t.default=c},7285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(8706);const r=n(5021),i=n(2153),o=n(7505),a=n(4272),s=n(8200),c=n(3715),u=n(8055),l=n(5226),d=n(5739),f=n(9364),p=n(2446),h=n(5862),m=n(5947),g=n(3359),y=n(6354),_=n(4835),v=n(6090),b=n(6984),E=n(5944),T=n(7414),w=n(402),S=n(3234),P=n(13),R=n(9767),D=n(6920),C=n(8151),x=n(5513),N=n(4),A=n(4269),O=n(8829),I=n(3846),k=n(2853),F=n(9059),M=n(5471),j=n(8661),B=n(2546),L=n(2561),q=n(3003),U=n(470),H=n(311),W=n(2431),$=n(2573),Y=n(4230),z=n(8477),G=n(3966),X=n(7173),K=n(5732);t.default=e=>{const t=new r.Container;return t.bind(D.TYPE.Cache).to(C.default).inSingletonScope(),t.bind(D.TYPE.SettingsService).to(R.default).inSingletonScope(),t.bind(D.TYPE.LoggerService).toConstantValue(new S.default(e)),t.bind(D.TYPE.TreeSitterLeo).to(o.default).inSingletonScope(),t.bind(D.TYPE.TreeSitterInput).to(a.default).inSingletonScope(),t.bind(D.TYPE.LeoWasmApi).to(O.default).inSingletonScope(),t.bind(D.TYPE.CompletionScopeService).toConstructor(x.default),t.bind(D.TYPE.CompletionScopeServiceFactory).to(x.CompletionScopeServiceFactory),t.bind(D.TYPE.CompletionImportService).toConstructor(w.default),t.bind(D.TYPE.CompletionImportServiceFactory).to(w.CompletionImportServiceFactory),t.bind(D.TYPE.ImportService).toConstructor(T.default),t.bind(D.TYPE.ImportServiceFactory).to(T.ImportServiceFactory),t.bind(D.TYPE.CircuitDiagnostic).to(s.default),t.bind(D.TYPE.DefinitionDiagnostic).to(c.default),t.bind(D.TYPE.FunctionDiagnostic).to(u.default),t.bind(D.TYPE.ImportDiagnostic).to(N.default),t.bind(D.TYPE.DataTypeDiagnostic).to(A.default),t.bind(D.TYPE.GroupDiagnostic).to(I.default),t.bind(D.TYPE.FieldDiagnostic).to(F.default),t.bind(D.TYPE.ExpressionDiagnostic).to(j.default),t.bind(D.TYPE.InputDiagnostic).to(q.default),t.bind(D.TYPE.GlobalConstDiagnostic).to(Y.default),t.bind(D.TYPE.TypeAliasDiagnostic).to(K.default),t.bind(D.TYPE.ConditionalStatementDiagnostic).to(z.default),t.bind(D.TYPE.StatementForDiagnostic).to(G.default),t.bind(D.TYPE.FunctionParameterDiagnostic).to(X.default),t.bind(D.TYPE.CircuitParser).to(l.default),t.bind(D.TYPE.RecordParser).to(d.default),t.bind(D.TYPE.DataTypeParser).to(f.default),t.bind(D.TYPE.FunctionParser).to(p.default),t.bind(D.TYPE.ImportParser).to(h.default),t.bind(D.TYPE.StatementDeclarationParser).to(B.default),t.bind(D.TYPE.InputParser).to(L.default),t.bind(D.TYPE.LeoTomlParser).to(U.default),t.bind(D.TYPE.TypeAliasParser).to(H.default),t.bind(D.TYPE.CircuitService).to(g.default),t.bind(D.TYPE.ColoringService).to(y.default),t.bind(D.TYPE.CompletionService).to(_.default),t.bind(D.TYPE.DiagnosticService).to(v.default),t.bind(D.TYPE.InputDiagnosticService).to(b.default),t.bind(D.TYPE.FunctionsService).to(E.default),t.bind(D.TYPE.ReservedKeywordsService).to(P.default),t.bind(D.TYPE.CacheService).to(m.default),t.bind(D.TYPE.DefinitionService).to(M.default),t.bind(D.TYPE.HoverService).to(k.default),t.bind(D.TYPE.TypeAliasService).to(W.default),t.bind(D.TYPE.StdPreludeService).to($.default),new i.default(e,t.get(D.TYPE.TreeSitterLeo),t.get(D.TYPE.TreeSitterInput),t.get(D.TYPE.CacheService),t.get(D.TYPE.DiagnosticService),t.get(D.TYPE.InputDiagnosticService),t.get(D.TYPE.SettingsService),t.get(D.TYPE.CompletionService),t.get(D.TYPE.ColoringService),t.get(D.TYPE.LeoWasmApi),t.get(D.TYPE.DefinitionService),t.get(D.TYPE.HoverService),t.get(D.TYPE.Cache))}},5226:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(5021),s=n(2374),c=n(6920),u=n(1555),l=n(2446),d=n(3359),f=n(5907);let p=r=class{static parseAttributes(e,t){const n=["member_variable_declaration","member_constant_declaration"],r=[];for(const t of n)r.push(...u.default.getNamedChildrenNodesByPath(e,[t]));const i=[];return r.forEach((e=>{var r;const o=u.default.getNodeByPath(e,["identifier"]);i.push({uri:t,range:u.default.range(e),name:o.text,nameRange:u.default.range(o),type:(null===(r=e.namedChildren[1])||void 0===r?void 0:r.text)||"",node:e,isStatic:e.type===n[1]})})),i}parseRoot(e,t){const n=u.default.getNamedChildrenNodesByPath(e,["circuit_declaration"]),i=[];return[...n,...r.getCircuitsWithErrors(e)].forEach((e=>{const n=e.firstNamedChild;n&&i.push({uri:t,range:r.parseBodyRange(e),name:n.text,nameRange:u.default.range(n),attributes:r.parseAttributes(e,t),node:e})})),i}static getCircuitsWithErrors(e){return[...u.default.getNodesByType(e,"ERROR").filter((e=>e.text.startsWith("circuit")))]}static isMemberAccessExpression(e){var t;return"keyword_or_identifier"===(null===(t=e.firstNamedChild)||void 0===t?void 0:t.type)&&!!u.default.getNodeByPath(e,["access","access_member"])}static isStaticAccessExpression(e){return!!u.default.getNodeByPath(e,["access","access_static_member"])}static isInlineExpressionCompletion(e){if(e.match(/{/)&&e.match(/(let|Self)/)&&!e.match(/}/)){return!!(e.split("{")[0].split(/(=|return)/)[2]||"").trim()}return!1}static parseBodyRange(e){const t={},n=e.lastChild;return t.end={line:n.startPosition.row,character:n.startPosition.column},u.default.forEach(e,(e=>{t.start||"{"!==e.text||(t.start={line:e.endPosition.row,character:e.endPosition.column})})),s.Range.create(t.start,t.end)}static parseCircuitNameFromStaticAccess(e){const t=u.default.getParentNotEqual(e,e.text),n=u.default.getNodeByTypes(t,["keyword_or_identifier","identifier"]);return n?n.text:""}static getCircuitAstFromChildNode(e,t){const{circuits:n}=t,r=u.default.getNamedParentByType(e,f.NODE_TYPES.circuit_declaration);if(r){const e=u.default.getNamedChildrenNodesByPath(r,[f.NODE_TYPES.identifier]);if(e)return d.default.findByNameStrict(n,e[0].text)}return null}};i([(0,a.inject)(c.TYPE.FunctionParser),o("design:type",l.default)],p.prototype,"functionParser",void 0),p=r=i([(0,a.injectable)()],p),t.default=p},9364:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(5021),s=n(6920),c=n(1555),u=n(3359),l=n(5944),d=n(8151),f=n(2446),p=n(5226),h=n(4269),m=n(6918),g=n(2431),y=n(5907);let _=r=class{getStatementDeclarationDataType(e,t){var n,i,o,a,s,u,l,d,f,p,h;if("expression"===e.type&&1===e.namedChildCount&&"identifier"===e.namedChildren[0].type&&(e=e.namedChildren[0]),"identifier"===e.type){const r=this.cache.get(t);if(!r)return"";const i=c.default.getNamedParentByType(e,"function_declaration");if(!i)return"";const o=c.default.getSelfNamedChildByTypes(i,["identifier"]);if(!o)return"";const{functions:a,constants:s}=r,u=e=>e.name===o.text&&c.default.isNodeInScope(e.node,o),l=a.find(u);if(!l)return"";return(null===(n=[...l.parameters,...l.statementDefinitions,...s].filter((t=>t.name===e.text))[0])||void 0===n?void 0:n.type)||""}if("expression_postfix"===e.type){const n=this.parseFunctionCall(e,t);if(n)return n;if(r.isTupleAccessExpression(e)){const n=this.parseExpressionPostfixNodeType(e,t);if(n)return n}}if("expression"===e.type&&1===e.namedChildCount&&"expression_postfix"===(null===(i=e.firstNamedChild)||void 0===i?void 0:i.type)&&(null===(o=e.firstNamedChild)||void 0===o?void 0:o.namedChildCount)>3){const n=c.default.getNodeWithEqualPass(e.firstNamedChild,["access","access_call"],!0);if(n&&"access"===(null===(a=n.previousNamedSibling)||void 0===a?void 0:a.type)){const e=this.getCallChainType([n.previousNamedSibling],t);if(e)return e}}if(["constant_declaration","statement_declaration"].includes(e.type)){const t=c.default.getSelfNamedChildByTypes(e,["variables"]);if((null==t?void 0:t.lastNamedChild)&&"identifier"!==t.lastNamedChild.type)return t.lastNamedChild.text;const n=c.default.getSelfNamedChildByTypes(e,["expression"]);n&&(e=n)}if(e.type.startsWith("value_")){const t=r.parseValueType(e);if(t)return t}if("expression_tuple"===e.type&&0===e.namedChildren.length)return"";let m="expression"===e.type?e:c.default.getNodeByPath(e,["expression"]);if("expression"===m.type&&1===m.namedChildCount&&"expression"===(null===(s=m.namedChildren[0])||void 0===s?void 0:s.type)&&(m=m.namedChildren[0]),"expression"===e.type&&"expression_unary"===(null===(u=e.firstNamedChild)||void 0===u?void 0:u.type)&&"operation_negate"===(null===(d=null===(l=e.firstNamedChild)||void 0===l?void 0:l.firstNamedChild)||void 0===d?void 0:d.type)&&"expression_postfix"===(null===(h=null===(p=null===(f=e.firstNamedChild)||void 0===f?void 0:f.firstNamedChild)||void 0===p?void 0:p.nextNamedSibling)||void 0===h?void 0:h.type)&&(m=e.firstNamedChild.firstNamedChild.nextNamedSibling),!m){if(e.type.startsWith("value_")){const t=r.parseValueType(e);if(t)return t}m=e.parent}const g=r.parseCircuitName(m);if(g)return g;if(r.parseBoolOperation(m))return"bool";const y=this.parseParamsOrVariable(m,t);if(y)return y;const _=r.parseValueType(m);if(_){const e=this.parseFunctionCall(m,t);return e||_}const v=c.default.getNodeByPath(m,["expression_postfix"]);if(v&&r.isTupleAccessExpression(v)){const e=this.parseExpressionPostfixNodeType(v,t);if(e)return e}const b=this.parseCircuitMemberAccess(m,t);if(b)return b;const E=this.parseFunctionCall(m,t);if(E)return E;const T=this.parseTuple(m,t);if(T)return T;const w=this.parseExpressionType(m,t);if(w)return w;if("statement_declaration"===e.type){const t=this.parseMathOperations(e);if(t)return t}return""}parseMathOperations(e){return c.default.getNodeByTypes(e,["operation_add","operation_sub","operation_mul","operation_div","operation_pow"])?"integer":""}static parseCircuitName(e){var t;return(null===(t=c.default.getNamedChildrenNodesByPath(e,["expression_circuit_inline","identifier"])[0])||void 0===t?void 0:t.text)||""}static parseBoolOperation(e){return!!(c.default.getNodeByPath(e,["expression_unary","operation_not"])||c.default.getNodeByPath(e,["operation_and"])||c.default.getNodeByPath(e,["operation_or"])||c.default.getNodeByPath(e,["operation_eq"])||c.default.getNodeByPath(e,["operation_ne"])||c.default.getNodeByPath(e,["operation_ge"])||c.default.getNodeByPath(e,["operation_gt"])||c.default.getNodeByPath(e,["operation_le"])||c.default.getNodeByPath(e,["operation_lt"]))}static parseValueType(e){var t;const n=["value_field","value_group","value_integer","value_number","value_boolean","value_address","value_string","value_scalar"];let r;if(n.includes(e.type))r=e;else{const t=c.default.getSelfNamedChildrenByTypes(e,n);r=e;let i=!1;for(let o=0;o<t.length;o++){const a=t[o];if("value_number"!=a.type||i){if("value_integer"!=a.type){r=c.default.getSelfNamedChildByTypes(e,n)||e;break}i=!0,r=a}else r=a}}if(r)switch(r.type){case"value_address":return"address";case"value_field":return"field";case"value_scalar":return"scalar";case"value_group":return"group";case"value_boolean":return"bool";case"value_integer":return(null===(t=r.lastNamedChild)||void 0===t?void 0:t.text)||"";case"value_number":return"integer";case"value_string":return"string"}return""}parseExistedVariableType(e,t=""){let n="";const r=c.default.getNamedParentByType(e,"function_declaration");if(!r)return this.parseExistedVariableTypeForGlobalVariable(e,t);const i=c.default.getNodesByType(r,"statement_declaration").find((t=>{const n=c.default.getNodeByPath(t,["variables","identifier"]);return n&&n.text===e.text}));let o=null;if(i)n=this.getStatementDeclarationDataType(i,t);else{const i=f.default.parseParameters(r,"").find((t=>t.name===e.text));if(i)n=i.type;else if(o=this.cache.get(t)){const t=m.default.getAllConstFromFileCache(o),r=m.default.findByName(t,e.text);r&&(n=r.type)}}return n}parseExistedVariableTypeForGlobalVariable(e,t=""){const n=c.default.getNodesByType(e.tree.rootNode,"constant_declaration").find((t=>{const n=c.default.getNodeByPath(t,["variables","identifier"]);return n&&n.text===e.text}));return n?this.getStatementDeclarationDataType(n,t):""}parseExpressionPostfixNodeType(e,t){let n="";if(p.default.isMemberAccessExpression(e))return this.parseCircuitMemberAccess(e,t);if(f.default.isExpressionFunctionCall(e))n=this.parseFunctionCall(e,t);else{const t=c.default.getNodeByPath(e,["keyword_or_identifier","identifier"]);t&&(n=this.parseExistedVariableType(t))}return r.isTupleAccessExpression(e)&&(n=r.getTupleAccessType(e,n)),n}static isCircuitDataType(e){return/^[a-zA-Z][a-zA-Z0-9_]*/.test(e)&&!h.default.isIntType(e)&&!["bool","field","address","group","string","scalar"].includes(e)}static parseRangeExpression(e){var t;const n={start:"min",end:"max"},r=c.default.getNamedChildrenNodesByPath(e,[y.NODE_TYPES.expression]);try{if(2===r.length){if(!isNaN(parseInt(r[0].text))&&!isNaN(parseInt(r[1].text)))return n.start=parseInt(r[0].text),n.end=parseInt(r[1].text),n}else{if(1!==r.length)return n;if("expression"===(null===(t=e.firstNamedChild)||void 0===t?void 0:t.type)){if(!isNaN(parseInt(r[0].text)))return n.start=parseInt(r[0].text),n}else if(!isNaN(parseInt(r[0].text)))return n.end=parseInt(r[0].text),n}}catch(e){}return null}parseParamsOrVariable(e,t){const n=c.default.getNodeByPath(e,["identifier"]);if(n&&n.text.trim().length){return this.parseExistedVariableType(n,t)}return""}parseCircuitMemberAccess(e,t){var n;const r=this.cache.get(t);if(!r)return"";let i=e;return"expression_postfix"!==e.type&&(i=c.default.getNodeByPath(e,["expression_postfix"])),i?"keyword_or_identifier"!==(null===(n=i.firstNamedChild)||void 0===n?void 0:n.type)?"":this.getCallChainType(c.default.getCallChain(i.endPosition.row,i.endPosition.column,r),t):""}parseFunctionCall(e,t){let n=e;if("expression_postfix"!==e.type&&(n=c.default.getNodeByPath(e,["expression_postfix"])),!n)return"";const r=c.default.getNamedChildrenNodesByPath(n,["access","access_call"]),i=c.default.getNamedChildrenNodesByPath(n,["access","access_member"]),o=c.default.getNamedChildrenNodesByPath(n,["access","access_static_member"]);if(r.length&&!i.length&&!o.length){const e=this.cache.get(t);if(!e)return"";const r=c.default.getNodeByPath(n,[y.NODE_TYPES.identifier]),i=l.default.findByNameStrict([...e.functions,...e.imports.map((e=>e.items.filter((e=>void 0!==typeof e.returnType)))).flat()],r.text);if(i)return i.returnType}return""}parseTuple(e,t){const n=c.default.getNodeByPath(e,["expression_tuple"]);if(!n)return"";const r=c.default.getNamedChildrenNodesByPath(n,["expression"]),i=[];return r.forEach((e=>{i.push(this.getStatementDeclarationDataType(e,t))})),`(${i.join(", ")})`}static getTupleRootItemsTypes(e){const t=/(^\()|(\)$)/g;if(t.test(e)){return e.trim().replace(t,"").replace(/,(?=(((?!\)).)*\()|[^\(\)]*$)/g,"|||").split("|||").filter((e=>!!e.trim())).map((e=>e.trim()))}return[]}static isTupleAccessExpression(e){return!!c.default.getNamedChildrenNodesByPath(e,["access","access_tuple"]).length}static getTupleAccessType(e,t){let n="",i=r.getTupleRootItemsTypes(t);const o=c.default.getNamedChildrenNodesByPath(e,["access","access_tuple","number_positive"]);for(let e=0;e<o.length;e++){if(n=i[parseInt(o[e].text)]||"",!n)return n;i=r.getTupleRootItemsTypes(n)}return n}static isTupleType(e){return!!e.match(/(^\().+,.*(\)$)/)}parseExpressionType(e,t){var n;if(e.namedChildCount&&"expression"===e.namedChildren[0].type)return this.parseExpressionType(e.namedChildren[0],t);if(e.namedChildren.find((e=>e.type.match(/^operation/)))){const r=e.namedChildren[0];if("expression"===(null===(n=r.namedChildren[0])||void 0===n?void 0:n.type))return this.getStatementDeclarationDataType(r.namedChildren[0],t)}const r=e.namedChildren.find((e=>"expression_conditional"===e.type));if(r){const e=c.default.getNamedChildrenNodesByPath(r,["expression"]);if(e&&3===e.length)return this.getStatementDeclarationDataType(e[1],t)}const i=c.default.getSelfNamedChildByTypes(e,["identifier","expression"]);if(i){const e=this.getStatementDeclarationDataType(i,t);if(e)return e}return""}static isOperationExpression(e){return e.children.some((e=>e.type.match(/^operation/)))}getCallChainTypeByAccessNode(e,t){const n=c.default.getNamedParentByWidePath(e,[["expression_postfix","identifier_assignee"]]);if(n){const r=[];for(const t of n.namedChildren)if(r.push(t),c.default.isPositionEqual(t,e))break;return this.getCallChainType(r,t)}return""}getCallChainType(e,t){let n="",i="";for(let o=0;o<e.length;o++){const a=e[o];if("ERROR"===a.type)return"";if(!r.isCallChainIgnoredNode(a)){if(r.isStaticCallFromInstance(i,e[o-1],a))return"";if(n=this.circuitService.findCircNameByRelatedNode(a,i,t),!(n||(n=this.getMemberAccessTypeOfCallChain(a,i,t),n||(n=r.getTupleAccessTypeOfCallChain(a,i),n||(n=this.circuitService.getCircNameFromCircInlineNode(a,t))||(n=this.getFirstIdentifierTypeOfCallChain(a,t))||(n=this.getFirstIdentifierTypeOfCallChainBroken(a,t))))))return"";i=n}}return n}static isStaticCallFromInstance(e,t,n){return!(!t||!c.default.getNodeByType(n,y.NODE_TYPES.access_static_member)||t.type===y.NODE_TYPES.identifier&&t.text===e)}static isCallChainIgnoredNode(e){return!!c.default.getNodeByType(e,"access_call")}getMemberAccessTypeOfCallChain(e,t,n){if(c.default.getNodeByType(e,y.NODE_TYPES.access_member)||c.default.getNodeByType(e,y.NODE_TYPES.access_static_member)){const r=this.circuitService.findFromLocalAndImported(t,n)||this.cache.stdPreludeData.circuits.find((e=>e.name===t));if(r)return this.circuitService.parseTypeFromAccessNode(e,r)}return""}static getTupleAccessTypeOfCallChain(e,t){if(c.default.getNodeByType(e,"access_tuple")){const n=r.getTupleRootItemsTypes(t),i=c.default.getNodeByPath(c.default.getNodeByType(e,"access_tuple"),["number_positive"]);return n.length&&n[parseInt(i.text)]?n[parseInt(i.text)]:""}return""}getFirstIdentifierTypeOfCallChain(e,t){if("keyword_or_identifier"===e.type||"identifier"===e.type||e.type.startsWith("value_")){const n=c.default.getNamedParentByWidePath(e,[["expression_postfix","identifier_assignee"]]),i=this.cache.get(t);if(!i)return"";if(n&&c.default.isPositionEqual(n.firstNamedChild,e)){if(l.default.isFunctionCall(e)){const t=l.default.findByNameStrict(i.functions,e.text);return t?t.returnType:""}const t=f.default.getFunctionAstFromChildNode(e,i),n=[...l.default.findStatementDefinitionByName(t?t.statementDefinitions:[],e.text,!0),...l.default.findParametersByName(t?t.parameters:[],e.text,!0),...l.default.findStatementDefinitionByName(i.constants,e.text,!0)];return n[0]?n[0].type:r.parseValueType(e)}}return""}getFirstIdentifierTypeOfCallChainBroken(e,t){const n=this.cache.get(t);if(n&&("keyword_or_identifier"===e.type||"identifier"===e.type)){if(l.default.isFunctionCall(e)){const t=l.default.findByNameStrict(n.functions,e.text);return t?t.returnType:""}const t=f.default.getFunctionAstFromChildNodePosition(e,n),r=[...l.default.findStatementDefinitionByName(t?t.statementDefinitions:[],e.text,!0),...l.default.findParametersByName(t?t.parameters:[],e.text,!0),...l.default.findStatementDefinitionByName(n.constants,e.text,!0)];if(r[0])return r[0].type}return""}isExpressionConstant(e,t){var n;if(["expression_circuit_inline","expression_postfix"].includes(null===(n=e.firstNamedChild)||void 0===n?void 0:n.type))return!0;const r=c.default.getNodesByType(e,"identifier");if(r.length){const n=this.cache.get(t);if(!n)return!0;const i=f.default.getFunctionAstFromChildNode(e,n);if(!i)return!0;const o=[...i.statementDefinitions,...i.parameters,...m.default.getAllConstFromFileCache(n)];for(const e of r){const t=o.find((t=>t.name===e.text));if(t&&!t.isConstant)return!1}}return!0}};i([(0,a.inject)(s.TYPE.Cache),o("design:type",d.default)],_.prototype,"cache",void 0),i([(0,a.inject)(s.TYPE.CircuitService),o("design:type",u.default)],_.prototype,"circuitService",void 0),i([(0,a.inject)(s.TYPE.TypeAliasService),o("design:type",g.default)],_.prototype,"typeAliasService",void 0),_=r=i([(0,a.injectable)()],_),t.default=_},2446:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(5021),s=n(2374),c=n(2880),u=n(6920),l=n(1555),d=n(2546),f=n(5907);let p=r=class{parseRoot(e,t){const n=l.default.getSelfNamedChildrenByTypes(e,["function_declaration"]),i=r.getFunctionsWithErrors(e),o=[];return[...n,...i].forEach((e=>{const n=this.getFunctionAst(e,t);n&&o.push(n)})),o}getFunctionAst(e,t){const n=l.default.getSelfNamedChildByTypes(e,["identifier"]);if(!n)return null;const i=r.parseParameters(e,t),o=r.parseReturnType(e),a=r.parseContext(e);return{uri:t,range:l.default.range(e),name:n.text,nameRange:l.default.range(n),parameters:i,returnType:o,statementDefinitions:this.parseStatementDeclarations(e,t),documentation:r.getDocumentation(n.text,i,o),node:e,contexts:a,scopesRanges:r.parseScopesRanges(e)}}static parseContext(e){const t=[];return l.default.getSelfNamedChildrenByTypes(e,["annotation"]).forEach((e=>{var n;t.push({name:(null===(n=e.firstNamedChild)||void 0===n?void 0:n.text)||""})})),t}static parseReturnType(e){const t=l.default.getSelfNamedChildByTypes(e,["return_type"]);return(null==t?void 0:t.text)||""}parseStatementDeclarations(e,t){const n=l.default.getNodesByType(e,"statement_declaration"),r=[];r.push(...this.statementDeclarationParser.parserNodes(n,t));return l.default.getNodesByType(e,"statement_for").forEach((e=>{const n=l.default.getSelfNamedChildByTypes(e,["identifier"]);r.push({uri:t,range:l.default.range(n),declareType:"const",isConstant:!0,accessModifier:"",isMutable:!1,isPublic:!1,name:n.text,nameRange:l.default.range(n),type:"u32",kind:c.CompletionItemKind.Constant,isCircuit:!1,node:n,isGlobalConstant:!1})})),r}parseStatementDefinitionsByPosition(e,t){const n=[],r=t.rootNode.descendantForPosition({row:e.position.line,column:e.position.character});let i=r;if("function_declaration"!==r.type.trim()&&(i=l.default.getNamedParentByType(r,"function_declaration")),i)n.push(...this.parseStatementDeclarations(i,e.textDocument.uri));else if("ERROR"===r.type){const t=l.default.getNamedParentByType(r,"ERROR");t&&n.push(...this.parseStatementDeclarations(t,e.textDocument.uri))}return n}static parseParameters(e,t){const n=[];return l.default.getNamedChildrenNodesByPath(e,["function_parameters",["function_parameter"]]).forEach((e=>{var r;const i={uri:t,range:l.default.range(e),kind:c.CompletionItemKind.Variable,node:e},o=l.default.getNamedChildrenNodesByPath(e,["mode"]);let a="";if(o.length>0){const e=o[o.length-1].firstChild;e&&(a=e.type)}let s=!1,u=!1;"constant_"==a||"const_"==a?s=!0:"public_"==a&&(u=!0);const d=l.default.getSelfNamedChildByTypes(e,["identifier"]);n.push({...i,accessModifier:s?"":"mutable",isMutable:!s,isConstant:s,isPublic:u,name:d.text,nameRange:l.default.range(s?e.firstChild:l.default.getNodeByType(e,f.NODE_TYPES.identifier)),type:(null===(r=e.lastNamedChild)||void 0===r?void 0:r.text)||""})})),n}static getDocumentation(e,t,n){let r=`${e} (${t.map((e=>`${e.name}: ${e.type}`)).join(", ")})`;return n&&(r+=` -> ${n}`),r}static getFunctionsWithErrors(e){return[...l.default.getNodesByType(e,"ERROR").filter((e=>e.text.startsWith("function")))]}static getFunctionAstFromChildNode(e,t){const n=l.default.getNamedParentByType(e,"function_declaration");if(!n||!t)return null;const r=l.default.getNodeByPath(n,["identifier"]);return l.default.findFunctionByIdentifierNode(t.functions,r)}static getFunctionAstFromChildNodePosition(e,t){if(!t)return null;const{functions:n}=t;for(const t of[...n])if(l.default.isInScope(t.range,{line:e.startPosition.row,character:e.startPosition.column}))return t;return null}static isExpressionFunctionCall(e){return!!l.default.getNodeByPath(e,["access","access_call"])}static parseScopesRanges(e){var t,n,r,i,o;const a=l.default.getNodeByType(e,"block"),c={},u={},d={};if(a&&"ERROR"!==e.type)d.start={line:a.startPosition.row,character:a.startPosition.column+1},d.end={line:a.endPosition.row,character:a.endPosition.column>0?a.endPosition.column-1:0},u.end={line:a.startPosition.row,character:a.startPosition.column};else{const t=e.lastChild;d.end={line:t.startPosition.row,character:t.startPosition.column}}return l.default.forEach(e,(e=>{if(c.start||"("!==e.text||(c.start={line:e.endPosition.row,character:e.endPosition.column}),!c.end&&"->"===e.text){let t=e.previousSibling;t||(t=e.parent),c.end={line:t.endPosition.row,character:t.endPosition.column-1},u.start={line:e.endPosition.row,character:e.endPosition.column}}if(d.start||"{"!==e.text||(d.start={line:e.endPosition.row,character:e.endPosition.column},u.end={line:e.startPosition.row,character:e.startPosition.column}),!c.end&&"{"===e.text){let t=e.parent.previousSibling;t&&!t.text.endsWith(")")&&(t=t.previousSibling),t||(t=e.previousSibling),c.end={line:t.endPosition.row,character:t.endPosition.column-1},u.start={line:t.endPosition.row,character:t.endPosition.column}}})),d.start=null!==(t=d.start)&&void 0!==t?t:d.end,c.start=null!==(n=c.start)&&void 0!==n?n:d.end,c.end=null!==(r=c.end)&&void 0!==r?r:d.end,u.start=null!==(i=u.start)&&void 0!==i?i:d.end,u.end=null!==(o=u.end)&&void 0!==o?o:d.end,{parameters:s.Range.create(c.start,c.end),returnType:s.Range.create(u.start,u.end),body:s.Range.create(d.start,d.end)}}};i([(0,a.inject)(u.TYPE.StatementDeclarationParser),o("design:type",d.default)],p.prototype,"statementDeclarationParser",void 0),p=r=i([(0,a.injectable)()],p),t.default=p},5862:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(5021),s=n(5907),c=n(6920),u=n(4862),l=n(1555),d=n(7414),f=n(5944),p=n(3359),h=n(6918),m=n(3234);let g=r=class{async parseRoot(e,t){const n=l.default.getNamedChildrenNodesByPath(e,["import_declaration"]),r=[];n.forEach((e=>{r.push(this.parseImport(e,t))}));return(await Promise.all(r)).flat()}async parseImport(e,t){const n=[],r=this.importServiceFactory.create();try{await r.parseImportNode(e,t);r.getImportedFiles().forEach((r=>{n.push({uri:t,range:l.default.range(e),path:r.uri,items:r.items,node:e,errors:r.errors||[]})}))}catch(r){this.loggerService.log(`ERROR in ImportParser: ${r.message}`),r instanceof u.DiagnosticError||this.loggerService.error(r.stack),n.push({uri:t,range:l.default.range(e),path:"",items:[],node:e,errors:[r]})}return n}static parserImportSymbolNode(e){const t=l.default.getSelfNamedChildrenByTypes(e,[s.NODE_TYPES.identifier]);return{node:t[0],name:t[0].text,alias:t.length>1?t[1].text:""}}static parseSymbolAlias(e){let t="";return l.default.getNamedChildrenNodesByPath(e,[s.NODE_TYPES.identifier]).length>1&&"as"===e.children[1].text.trim()&&(t=e.namedChildren[1].text),{original:e.namedChildren[0].text,alias:t}}static getPackageName(e){const t=l.default.getNodeByType(e,"package_name");return(null==t?void 0:t.text)||""}static parseSymbolFromFile(e,t,n,r,i){var o;let a;return a=p.default.findByNameStrict(t,e),a||(a=f.default.findByNameStrict(n,e),a||(a=h.default.findByName(r,e),a||(a=null!==(o=i.find((t=>t.name===e)))&&void 0!==o?o:null,a||null)))}static generatePathFromImportNode(e,t=[]){const n=[],i=l.default.getNodeByType(e,"package_name");t.push(i);return r.parseMultiImportPackageItems(e).forEach((e=>{switch(e.type){case s.NODE_TYPES.package:case s.NODE_TYPES.packages:n.push(...r.generatePathFromImportNode(e,[...t]));break;default:{const r=[...t];r.push(e),n.push(r);break}}})),n}static parseMultiImportPackageItems(e){return l.default.getSelfNamedChildrenByTypes(e,[s.NODE_TYPES.star,s.NODE_TYPES.packages,s.NODE_TYPES.package,s.NODE_TYPES.import_symbol])}static getPackageEntityAccessNode(e){return l.default.getSelfNamedChildByTypes(e,["star","import_symbol","package","packages"])}};i([(0,a.inject)(c.TYPE.LoggerService),o("design:type",m.default)],g.prototype,"loggerService",void 0),i([(0,a.inject)(c.TYPE.ImportServiceFactory),o("design:type",d.ImportServiceFactory)],g.prototype,"importServiceFactory",void 0),g=r=i([(0,a.injectable)()],g),t.default=g},2561:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(3003),s=n(1555),c=n(6920);let u=class{parse(e,t){const n=s.default.getSelfNamedChildrenByTypes(e.rootNode,["section","ERROR"]),r={textDocument:t,tree:e,uri:t.uri,sections:[],diagnostics:[],mainDeclarations:[]};return n.forEach((e=>{a.default.checkNodeError(r,e),"ERROR"!==e.type&&"MISSING"!==e.type&&this.parseSection(t,e,r)})),r.diagnostics.forEach((e=>{e.source="leo"})),r}parseSection(e,t,n){const r=t.firstNamedChild;let i=[],o={name:r.text,node:r,declarations:i};const c=n.sections.find((e=>e.name==r.text));c&&(o=c,i=o.declarations);s.default.getNodesByType(t,"statement_declaration").forEach((t=>{const r=s.default.getNodeByPath(t,["mode"]),c=s.default.getNodeByPath(t,["variables"]),u=s.default.getNodeByPath(t,["expression"]);let l="";if(r){const e=r.firstChild;e&&(l=e.type,l=l.replace("_","")),a.default.checkConstDeprecated(l,n,r)}if(c&&u){const[r,a]=c.namedChildren,d={name:r.text,node:t,range:s.default.range(t),type:a.text,mode:l,section:o};"main"===o.name&&n.mainDeclarations.push(d),i.push(d),this.inputDiagnostic.checkDefinition(n,t,a,u,e.uri)}})),c||n.sections.push(o)}};r([(0,o.inject)(c.TYPE.InputDiagnostic),i("design:type",a.default)],u.prototype,"inputDiagnostic",void 0),u=r([(0,o.injectable)()],u),t.default=u},470:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(7742),s=n(6630),c=n(6920),u=n(8151),l=n(8318),d=n(3234);let f=class{async parse(){try{const e=s.URI.parse(this.cache.leoTomlUri),t=await(0,l.readFileAsync)(e.fsPath);this.cache.leoTomlCacheData=a.parse(t)}catch(e){this.loggerService.error(e.message),this.loggerService.error(e.stack)}}};r([(0,o.inject)(c.TYPE.Cache),i("design:type",u.default)],f.prototype,"cache",void 0),r([(0,o.inject)(c.TYPE.LoggerService),i("design:type",d.default)],f.prototype,"loggerService",void 0),f=r([(0,o.injectable)()],f),t.default=f},5739:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(2374),s=n(1555),c=n(5907);let u=r=class{static parseAttributes(e,t){const n=[c.NODE_TYPES.member_variable_declaration,c.NODE_TYPES.member_constant_declaration],r=[];for(const t of n)r.push(...s.default.getNamedChildrenNodesByPath(e,[t]));const i=[];return r.forEach((e=>{var r;const o=s.default.getNodeByPath(e,[c.NODE_TYPES.identifier]);i.push({uri:t,range:s.default.range(e),name:o.text,nameRange:s.default.range(o),type:(null===(r=e.namedChildren[1])||void 0===r?void 0:r.text)||"",node:e,isStatic:e.type===n[1]})})),i}static parseRoot(e,t){const n=s.default.getNamedChildrenNodesByPath(e,[c.NODE_TYPES.record_declaration]),i=[];return[...n,...r.getRecordsWithErrors(e)].forEach((e=>{const n=e.firstNamedChild;n&&i.push({uri:t,range:r.parseBodyRange(e),name:n.text,nameRange:s.default.range(n),attributes:r.parseAttributes(e,t),node:e})})),i}static getRecordsWithErrors(e){return[...s.default.getNodesByType(e,c.NODE_TYPES.ERROR).filter((e=>e.text.startsWith("record")))]}static parseBodyRange(e){const t={},n=e.lastChild;return t.end={line:n.startPosition.row,character:n.startPosition.column},s.default.forEach(e,(e=>{t.start||"{"!==e.text||(t.start={line:e.endPosition.row,character:e.endPosition.column})})),a.Range.create(t.start,t.end)}};u=r=i([(0,o.injectable)()],u),t.default=u},2546:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(2374),s=n(1555),c=n(6920),u=n(9364);let l=class{parseRoot(e,t){const n=s.default.getSelfNamedChildrenByTypes(e,["constant_declaration"]);return this.parserNodes(n,t)}parserNodes(e,t){const n=[];return e.length&&e.forEach((e=>{const r=s.default.getNamedChildrenNodesByPath(e,["variables","identifier"]),i=s.default.getSelfNamedChildByTypes(e,["let_","const_"]),o=this.dataTypeParser.getStatementDeclarationDataType(e,t),c=s.default.getNodeByPath(e,["expression"]),l=r.length>1&&c&&u.default.isTupleType(o);let d=[];l&&(d=o.replace(/(^\()|(\)$)/g,"").split(/,(?=[\s\w](?!\w+[\\)\]]))/)),r.forEach(((r,c)=>{var f;const p="const_"===i.type,h=l&&d.length?(null===(f=d[c])||void 0===f?void 0:f.trim())||"":o;n.push({uri:t,nameRange:s.default.range(r),range:s.default.range(e),declareType:p?"const":"let",isConstant:p,accessModifier:p?"":"mutable",isMutable:!p,isPublic:!1,name:r.text,type:h,kind:p?a.CompletionItemKind.Constant:a.CompletionItemKind.Variable,isCircuit:u.default.isCircuitDataType(h),node:e,isGlobalConstant:"constant_declaration"===e.type})}))})),n}};r([(0,o.inject)(c.TYPE.DataTypeParser),i("design:type",u.default)],l.prototype,"dataTypeParser",void 0),l=r([(0,o.injectable)()],l),t.default=l},311:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(1555),s=n(2936),c=n(6920),u=n(8151);let l=class{parseRoot(e,t){const n=a.default.getSelfNamedChildrenByTypes(e,["type_alias_declaration"]),r=[];return n.forEach((e=>{const n=this.prepareTypeAlias(t,e);n&&r.push(n)})),r}prepareTypeAlias(e,t){const[n,r]=t.namedChildren;if(n&&r){const t=r.text;if(s.PRIMITIVE_DATA_TYPES.includes(t))return this.preparePrimitiveType(e,n,r);if("type_circuit_or_alias"===r.type){const t=this.prepareIdentifierType(e,n,r);return t||null}if("type_tuple"===r.type)return this.prepareTupleType(e,n,r)}return null}prepareIdentifierType(e,t,n){const r=this.resolveIdentifierType(e,n);return r?new s.AliasDataType({uri:e,typeNode:t,typeNodeRange:a.default.range(t),name:t.text,referenceNode:n,referenceNodeRange:a.default.range(n),resolvedType:r,resolved:!0}):null}prepareTupleType(e,t,n){const r=this.resolveTupleType(e,n);return new s.AliasDataType({uri:e,typeNode:t,typeNodeRange:a.default.range(t),name:t.text,referenceNode:n,referenceNodeRange:a.default.range(n),resolvedType:r,resolved:!0})}resolveTupleType(e,t){const n=t.namedChildren.map((t=>this.parseType(e,t))).filter((e=>null!==e));return new s.TupleDataType({uri:e,typeNode:t,typeNodeRange:a.default.range(t),name:t.text,resolvedType:n})}resolveIdentifierType(e,t){var n,r;const i=this.cache.get(e);let o=null,c=null;if(i&&(o=null!==(n=i.circuits.find((e=>e.name===t.text)))&&void 0!==n?n:null,o||(c=null!==(r=i.typesAliases.find((e=>e.name===t.text)))&&void 0!==r?r:null),!o&&!c))for(const e of i.imports)for(const n of e.items)if((!n.alias||n.alias===t.text)&&(n.alias||n.name===t.text)){n.referenceNode?c=n:n.attributes&&(o=n);break}if(!o&&!c){const n=a.default.getSelfNamedChildrenByTypes(t.tree.rootNode,["circuit_declaration","type_alias_declaration"]).find((e=>{var n;return(null===(n=e.firstNamedChild)||void 0===n?void 0:n.text)===t.text}));if(n&&"circuit_declaration"===n.type)return new s.CircuitDataType({uri:e,name:t.text,typeNode:t,typeNodeRange:a.default.range(t),referenceNode:n.firstNamedChild,referenceNodeRange:a.default.range(n.firstNamedChild),resolved:!0});n&&"type_alias_declaration"===n.type&&(c=this.prepareTypeAlias(e,n))}return o?new s.CircuitDataType({uri:e,name:t.text,typeNode:t,typeNodeRange:a.default.range(t),referenceNode:o.node,referenceNodeRange:o.nameRange,resolved:!0}):c?new s.AliasDataType({uri:e,typeNode:t,typeNodeRange:a.default.range(t),name:t.text,referenceNode:c.typeNode,referenceNodeRange:c.typeNodeRange,resolvedType:c.resolvedType,resolved:!0}):null}resolvePrimitiveType(e,t){let n=null;switch(t.text){case s.UNSIGNED_INTEGER.u8:case s.UNSIGNED_INTEGER.u16:case s.UNSIGNED_INTEGER.u32:case s.UNSIGNED_INTEGER.u64:case s.UNSIGNED_INTEGER.u128:n=s.UnsignedIntegerDataType;break;case s.SIGNED_INTEGER.i8:case s.SIGNED_INTEGER.i16:case s.SIGNED_INTEGER.i32:case s.SIGNED_INTEGER.i64:case s.SIGNED_INTEGER.i128:n=s.SignedIntegerDataType;break;case s.FIELD:n=s.FieldDataType;break;case s.GROUP:n=s.GroupDataType;break;case s.ADDRESS:n=s.AddressDataType;break;case s.BOOLEAN:n=s.BooleanDataType;break;case s.STRING:n=s.StringDataType}return n?new n({uri:e,name:t.text,typeNode:t,typeNodeRange:a.default.range(t)}):null}preparePrimitiveType(e,t,n){const r=this.resolvePrimitiveType(e,n);return r?new s.AliasDataType({uri:e,typeNode:t,typeNodeRange:a.default.range(t),name:t.text,referenceNode:n,referenceNodeRange:a.default.range(n),resolvedType:r,resolved:!0}):null}parseType(e,t){return s.PRIMITIVE_DATA_TYPES.includes(t.text)?this.resolvePrimitiveType(e,t):"type_circuit_or_alias"===t.type?this.resolveIdentifierType(e,t):"type_tuple"===t.type?this.resolveTupleType(e,t):null}};r([(0,o.inject)(c.TYPE.Cache),i("design:type",u.default)],l.prototype,"cache",void 0),l=r([(0,o.injectable)()],l),t.default=l},5947:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(6288),s=n(6630),c=n(1017),u=n(7742),l=n(6920),d=n(7505),f=n(5226),p=n(5739),h=n(2446),m=n(5862),g=n(3234),y=n(8318),_=n(8151),v=n(2546),b=n(4272),E=n(2561),T=n(470),w=n(311),S=n(2573);let P=class{async setLeoCacheDocument(e){this.cache.changeInProgress(!0),await this.leoTomlParser.parse();const t=this.treeSitterLeo.getParserSync(),n=e.uri;this.loggerService.log(`[UriDataService][setLeoCacheDocument]: ${n}`);const r=e.getText(),i=t.parse(r);let o=this.cache.get(n);o||(this.cache.set(n,{textDocument:e,tree:i,imports:[],circuits:[],records:[],functions:[],constants:[],typesAliases:[]}),o=this.cache.get(n));const a=await this.importParser.parseRoot(i.rootNode,n);this.cache.set(n,{textDocument:e,tree:i,imports:[...a],circuits:[...o.circuits],records:[...o.records],functions:[...o.functions],constants:[...o.constants],typesAliases:[...o.typesAliases]});const s=this.typeAliasParser.parseRoot(i.rootNode,n);this.cache.set(n,{textDocument:e,tree:i,imports:[...a],circuits:[...o.circuits],records:[...o.records],functions:[...o.functions],constants:[...o.constants],typesAliases:[...s]});const c=this.statementDeclarationParser.parseRoot(i.rootNode,n);this.cache.set(n,{textDocument:e,tree:i,imports:[...a],circuits:[...o.circuits],records:[...o.records],functions:[...o.functions],constants:[...c],typesAliases:[...s]});const u=this.functionParser.parseRoot(i.rootNode,n);this.cache.set(n,{textDocument:e,tree:i,imports:[...a],circuits:[...o.circuits],records:[...o.records],functions:[...u],constants:[...c],typesAliases:[...s]});const l=this.circuitParser.parseRoot(i.rootNode,n);this.cache.set(n,{textDocument:e,tree:i,imports:[...a],circuits:[...l],records:[...o.records],functions:[...u],constants:[...c],typesAliases:[...s]});const d=p.default.parseRoot(i.rootNode,n);this.cache.set(n,{textDocument:e,tree:i,imports:[...a],circuits:[...l],records:[...d],functions:[...u],constants:[...c],typesAliases:[...s]}),this.cache.changeInProgress(!1),this.loggerService.log(`\n      [UriDataService][setLeoCacheDocument]: \n          Found imports: ${a.length};\n          Found circuits: ${l.length};\n          Found functions: ${u.length};\n          Found constants: ${c.length};\n      `)}setInputCacheDocument(e){const t=this.treeSitterInput.getParserSync(),n=e.uri;this.loggerService.log(`[UriDataService][setInputCacheDocument]: ${n}`);const r=e.getText(),i=t.parse(r),o=this.inputParser.parse(i,e);this.cache.setInputs(n,o)}async analyzeWorkspace(e){var t,n;if(this.cacheStdPrelude(),e){this.cache.rootFolderFsPath=e;const r=(0,c.join)(e,"Leo.toml");this.cache.leoTomlUri=s.URI.file(r).toString();try{const i=await(0,y.readFileAsync)(r),o=u.parse(i);this.cache.projectName=null!==(n=null===(t=null==o?void 0:o.project)||void 0===t?void 0:t.name)&&void 0!==n?n:(0,c.basename)(e)}catch(t){this.cache.projectName=(0,c.basename)(e)}this.cache.inputsFolderFsPath=(0,c.join)(e,"inputs"),this.cache.mainFileUri=s.URI.file((0,c.join)(e,"src","main.leo")).toString(),this.cache.mainInputFileUri=s.URI.file((0,c.join)(this.cache.inputsFolderFsPath,`${this.cache.projectName}.in`)).toString(),await this.leoTomlParser.parse(),await this.analyzeInputFiles(e),await this.analyzeLeoFiles(e)}}async analyzeLeoFiles(e){const t="**/*.leo";this.loggerService.log(`[UriDataService][analyzeWorkspace]: Analyzing files matching glob "**/*.leo" inside ${e}`);const n=Date.now(),r=()=>(Date.now()-n)/1e3+" seconds";let i=[];try{i=await(0,y.getFilePaths)(t,e)}catch(e){this.loggerService.error(`[UriDataService][analyzeWorkspace]: Failed to analyze leo files using the glob "**/*.leo". The experience will be degraded. Error: ${e.message}.`)}this.loggerService.log(`[UriDataService][analyzeWorkspace]: Glob resolved with ${i.length} files after ${r()}`),await Promise.all(i.map((async e=>{const t=s.URI.file(e).toString();this.loggerService.log(`[UriDataService][analyzeWorkspace]: Analyzing ${t}`);try{const n=await(0,y.readFileAsync)(e),r=a.TextDocument.create(t,"leo",1,n);await this.setLeoCacheDocument(r),await this.setLeoCacheDocument(r)}catch(e){this.loggerService.error(`[UriDataService][analyzeWorkspace]: Failed analyzing ${t}. Error: ${e.message}`)}}))),this.loggerService.log(`[UriDataService][analyzeWorkspace]: Analyzer finished after ${r()}`)}async analyzeInputFiles(e){const t="inputs/*.{in,state}";this.loggerService.log(`[UriDataService][analyzeWorkspace]: Analyzing files matching glob "${t}" inside ${e}`);const n=Date.now(),r=()=>(Date.now()-n)/1e3+" seconds";let i=[];try{i=await(0,y.getFilePaths)(t,e)}catch(e){this.loggerService.error(`[UriDataService][analyzeWorkspace]: Failed to analyze leo inputs files using the glob "${t}". The experience will be degraded. Error: ${e.message}.`)}this.loggerService.log(`[UriDataService][analyzeWorkspace]: Glob resolved with ${i.length} files after ${r()}`),await Promise.all(i.map((async e=>{const t=s.URI.file(e).toString();this.loggerService.log(`[UriDataService][analyzeWorkspace]: Analyzing ${t}`);try{const n=await(0,y.readFileAsync)(e),r=a.TextDocument.create(t,"leoInput",1,n);this.setInputCacheDocument(r),this.setInputCacheDocument(r)}catch(e){this.loggerService.error(`[UriDataService][analyzeWorkspace]: Failed analyzing ${t}. Error: ${e.message}`)}}))),this.loggerService.log(`[UriDataService][analyzeWorkspace]: Analyzer finished after ${r()}`)}cacheStdPrelude(){this.cache.stdPreludeData||(this.cache.stdPreludeData=this.stdPreludeService.parseStdPrelude())}};r([(0,o.inject)(l.TYPE.TreeSitterLeo),i("design:type",d.default)],P.prototype,"treeSitterLeo",void 0),r([(0,o.inject)(l.TYPE.TreeSitterInput),i("design:type",b.default)],P.prototype,"treeSitterInput",void 0),r([(0,o.inject)(l.TYPE.LoggerService),i("design:type",g.default)],P.prototype,"loggerService",void 0),r([(0,o.inject)(l.TYPE.Cache),i("design:type",_.default)],P.prototype,"cache",void 0),r([(0,o.inject)(l.TYPE.CircuitParser),i("design:type",f.default)],P.prototype,"circuitParser",void 0),r([(0,o.inject)(l.TYPE.FunctionParser),i("design:type",h.default)],P.prototype,"functionParser",void 0),r([(0,o.inject)(l.TYPE.ImportParser),i("design:type",m.default)],P.prototype,"importParser",void 0),r([(0,o.inject)(l.TYPE.StatementDeclarationParser),i("design:type",v.default)],P.prototype,"statementDeclarationParser",void 0),r([(0,o.inject)(l.TYPE.InputParser),i("design:type",E.default)],P.prototype,"inputParser",void 0),r([(0,o.inject)(l.TYPE.LeoTomlParser),i("design:type",T.default)],P.prototype,"leoTomlParser",void 0),r([(0,o.inject)(l.TYPE.TypeAliasParser),i("design:type",w.default)],P.prototype,"typeAliasParser",void 0),r([(0,o.inject)(l.TYPE.StdPreludeService),i("design:type",S.default)],P.prototype,"stdPreludeService",void 0),P=r([(0,o.injectable)()],P),t.default=P},3359:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(5021),s=n(2374),c=n(6920),u=n(6014),l=n(4835),d=n(5513),f=n(1555),p=n(5944),h=n(2446),m=n(8151),g=n(9364),y=n(5907);let _=r=class{static findByName(e=[],t=""){return e.filter((e=>e.name.indexOf(t)>-1))}static findByNameStrict(e=[],t=""){return e.find((e=>e.name===t))||null}static findImportByNameStrict(e=[],t=""){for(let n=0;n<e.length;n++){const i=r.findByNameAndAlias(e[n].items,t);if(i)return i}return null}static findAttributesByName(e=[],t=""){return e.filter((e=>e.name.indexOf(t)>-1))}static findAttributesByNameStrict(e=[],t=""){return e.filter((e=>e.name===t))}static findAllByName(e=[],t=""){const n=[];return n.push(...r.findByName(e,t)),e.forEach((({attributes:e})=>{n.push(...r.findAttributesByName(e,t))})),n}static findByNameAndAlias(e,t){return e.find((e=>e.alias&&e.alias===t||!e.alias&&e.name===t))||null}static filterByNameAndAlias(e,t){return e.filter((e=>e.alias&&e.alias===t||!e.alias&&e.name===t))}findFromLocalAndImported(e,t){return this.cache.findAllByTypesAndKeyword(e,[y.NODE_TYPES.circuit_declaration,y.NODE_TYPES.record_declaration],t)[0]||null}filterFromLocalAndImported(e,t){var n;const i=this.cache.get(t),o=this.cache.getAllImportedItemsByType("circuit_declaration",t).reverse(),a=[...null!==(n=null==i?void 0:i.circuits)&&void 0!==n?n:[],...this.filterDuplicatesFromImports(o)];return r.filterByNameAndAlias(a,e)}filterDuplicatesFromImports(e){return e.filter(((e,t,n)=>!n.slice(0,t).find((t=>t.name===e.name&&t.uri===e.uri&&(t.alias===e.alias||!t.alias&&!e.alias||t.alias===t.name&&!e.alias||e.alias===e.name&&!t.alias)))))}getDefinitionNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{circuits:e}=r;e.forEach((e=>{const r=f.default.getNodeByType(e.node,"identifier");r&&f.default.isVisible(r,t)&&n.push({start:r.startPosition,end:r.endPosition})}))}return n}getAttributesNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{tree:e}=r;f.default.forEach(e.rootNode,(e=>{var r;("circuit_variable_identifier"===e.type||"identifier"===e.type&&"circuit_variable_expression"===(null===(r=e.parent)||void 0===r?void 0:r.type))&&f.default.isVisible(e,t)&&n.push({start:e.startPosition,end:e.endPosition})}))}return n}getTypeCircuitNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{tree:e}=r;f.default.forEach(e.rootNode,(e=>{"type_circuit_or_alias"===e.type&&f.default.isVisible(e,t)&&n.push({start:e.startPosition,end:e.endPosition})}))}return n}getInlineDefinitionNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{functions:e}=r,i=({node:e})=>{f.default.getNodesByType(e,"expression_circuit_inline").forEach((e=>{const r=f.default.getSelfNamedChildByTypes(e,["identifier"]);r&&f.default.isVisible(r,t)&&n.push({start:r.startPosition,end:r.endPosition})}))};e.forEach(i)}return n}getStaticCallNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{functions:e}=r,i=({node:e})=>{f.default.getNodesByType(e,"access_static_member").forEach((e=>{const r=f.default.getNamedParentByType(e,"expression_postfix"),i=f.default.getNodeByType(r,"keyword_or_identifier");i&&f.default.isVisible(i,t)&&n.push({start:i.startPosition,end:i.endPosition})}))};e.forEach(i)}return n}getKnownNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{circuits:e,functions:i,imports:o}=r;let a=[];o.forEach((e=>{e.items.forEach((e=>{void 0!==e.attributes&&a.push(e.alias||e.name)}))}));const s=e=>{f.default.getNodesByValue(e.node,a).forEach((e=>{var r;if("function_declaration"==(null===(r=e.parent)||void 0===r?void 0:r.type))return;const i=f.default.getParentNotEqual(e,e.text);f.default.isVisible(e,t)&&(!i||i.text.trim()===e.text||/(?:{.*}?|::?)$/.test(i.text.trim())||i.text.includes("\n"))&&n.push({start:e.startPosition,end:e.endPosition})}))};e.forEach((e=>{a.push(e.name)})),a=(0,u.uniq)(a).filter((e=>e)),i.forEach(s)}return n}getStaticMethodNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{functions:e}=r,i=({node:e})=>{f.default.getNodesByType(e,"access_static_member").forEach((e=>{if(f.default.isVisible(e,t)){const t=f.default.getNodeByType(e,"identifier");n.push({start:t.startPosition,end:t.endPosition})}}))};e.forEach(i)}return n}static isCircuitMethodCall(e){const t=f.default.getNamedChildrenNodesByPath(e,["access","access_member"]),n=f.default.getNamedChildrenNodesByPath(e,["access","access_static_member"]),r=f.default.getNamedChildrenNodesByPath(e,["access","access_call"]);return!(!t.length&&!n.length||!r.length)}autocompleteInlineExpression(e,t){var n;const i=[],o=this.cache.get(t.textDocument.uri);if(!o)return i;const a=(e.split("{")[0].split(/(=|return)/)[2]||"").trim(),s=(e.split("{")[1]||"").split(","),c=s[s.length-1].trim(),u=f.default.getNodeUnderCursor(o.tree.rootNode,t.position.line,t.position.character);let l=null;const d=null!==(n=null==o?void 0:o.circuits)&&void 0!==n?n:[],p=this.cache.getAllImportedItemsByType("circuit_declaration",t.textDocument.uri).reverse();return l=r.findByNameAndAlias([...d,...p],a),l&&i.push(...r.inlineAttributesCompletions(c,l,u,o)),i}static inlineAttributesCompletions(e,t,n,r){const i=[];if(e.match(":")){const t=h.default.getFunctionAstFromChildNode(n,r),o=e.split(":")[1].trim(),a=p.default.findParametersByName(t.parameters,o,!1);[...p.default.findStatementDefinitionByName(t.statementDefinitions,o,!1),...a].forEach((e=>{i.push({label:e.name,kind:e.kind,detail:e.type,preselect:!0,scopes:[d.CompletionScope.functionBody,d.CompletionScope.methodBody,d.CompletionScope.file],sortText:l.CompletionSortOrder.definition+e.name})}))}else{t.attributes.forEach((t=>{t.name.match(e)&&i.push({label:t.name,kind:s.CompletionItemKind.Property,detail:t.type,preselect:!0,scopes:[d.CompletionScope.functionBody,d.CompletionScope.methodBody,d.CompletionScope.file],sortText:l.CompletionSortOrder.attribute+t.name})}))}return i}findCircNameFromPostfixIdentifier(e,t,n){var r,i,o;let a="";if(e.nextNamedSibling&&f.default.getNodeByType(e.nextNamedSibling,"access_static_member"))a=e.text;else{const o=[...p.default.findStatementDefinitionByName(t?t.statementDefinitions:[],e.text,!0),...p.default.findParametersByName(t?t.parameters:[],e.text,!0),...p.default.findStatementDefinitionByName(null!==(i=null===(r=this.cache.get(n))||void 0===r?void 0:r.constants)&&void 0!==i?i:[],e.text,!0)];if(o[0]&&g.default.isCircuitDataType(o[0].type))return o[0].type}return this.findFromLocalAndImported(a,n)||(null===(o=this.cache.stdPreludeData)||void 0===o?void 0:o.circuits.find((e=>e.name===a)))?a:""}findCircNameByRelatedNode(e,t,n){var r;if("keyword_or_identifier"===e.type||"identifier"===e.type){const t=this.cache.get(n);if(!t)return"";const r=h.default.getFunctionAstFromChildNode(e,t);return this.findCircNameFromPostfixIdentifier(e,r,n)}if(f.default.getNodeByType(e,"access_member")||f.default.getNodeByType(e,"access_static_member")){const r=this.findFromLocalAndImported(t,n);if(!r)return"";const i=this.parseTypeFromAccessNode(e,r);if(g.default.isCircuitDataType(i))return i}if(e.type.startsWith("value_")){let t="";switch(e.type){case"value_field":t="field";break;case"value_group":t="group";break;case"value_integer":t=(null===(r=e.lastNamedChild)||void 0===r?void 0:r.text)||t;break;case"value_boolean":t="bool";break;case"value_address":t="address";break;case"value_string":t="string"}return t}return""}parseTypeFromAccessNode(e,t){const n=f.default.getNodeByType(e,"identifier"),i=r.findAttributesByNameStrict(t.attributes,n.text)[0];return i&&(f.default.getNodeByType(e,"access_static_member")&&i.isStatic||f.default.getNodeByType(e,"access_member")&&!i.isStatic)?i.type:""}getCircNameFromCircInlineNode(e,t){var n,r;if(e.type===y.NODE_TYPES.expression_circuit_inline){const i=f.default.getSelfNamedChildrenByTypes(e,[y.NODE_TYPES.identifier])[0];return null!==(r=null===(n=this.findFromLocalAndImported(i.text,t))||void 0===n?void 0:n.name)&&void 0!==r?r:""}return""}};i([(0,a.inject)(c.TYPE.Cache),o("design:type",m.default)],_.prototype,"cache",void 0),_=r=i([(0,a.injectable)()],_),t.default=_},6354:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(6920),s=n(3359),c=n(5944),u=n(7414);let l=class{getScopes(e){const{uri:t,visibleRanges:n}=e,r=this.importServiceFactory.create();return{uri:t,scopes:{"file.definition.circuit.name.server.leo":[...this.circuitService.getDefinitionNameRange(t,n)],"inline.definition.circuit.name.server.leo":[...this.circuitService.getInlineDefinitionNameRange(t,n)],"static.call.circuit.name.server.leo":[...this.circuitService.getStaticCallNameRange(t,n)],"type.circuit.name.server.leo":[...this.circuitService.getTypeCircuitNameRange(t,n)],"import.circuit.name.server.leo":[...r.getCircuitsNameRange(t,n)],"known.circuit.name.server.leo":[...this.circuitService.getKnownNameRange(t,n)],"file.definition.function.name.server.leo":[...this.functionsService.getDefinitionNameRange(t,n)],"import.function.name.server.leo":[...r.getFunctionsNameRange(t,n)],"circuit.method.name.static.call.server.leo":[...this.circuitService.getStaticMethodNameRange(t,n)],"function.name.call.server.leo":[...this.functionsService.getKnownNameRange(t,n),...this.functionsService.getCallNameRange(t,n)],"circuit.attribute.name.server.leo":[...this.circuitService.getAttributesNameRange(t,n)]}}}};r([(0,o.inject)(a.TYPE.CircuitService),i("design:type",s.default)],l.prototype,"circuitService",void 0),r([(0,o.inject)(a.TYPE.FunctionsService),i("design:type",c.default)],l.prototype,"functionsService",void 0),r([(0,o.inject)(a.TYPE.ImportServiceFactory),i("design:type",u.ImportServiceFactory)],l.prototype,"importServiceFactory",void 0),l=r([(0,o.injectable)()],l),t.default=l},402:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionImportServiceFactory=void 0;const a=n(5021),s=n(1017),c=n(2880),u=n(5513),l=n(4835),d=n(8318),f=n(2446),p=n(8976),h=n(8151),m=n(7414),g=n(6920),y=n(2936);let _=r=class{autocompleteImportQuery(e,t){var n,i;const o=[],a=(0,d.dirPathFromFileUri)(t.textDocument.uri),c=(0,d.fileNameFromUri)(t.textDocument.uri),u=(e=e.replace(/^import/,"").trim()).split(".");if(1===u.length)return o.push(...r.autocompleteRootModule(u[0],a,c,this.cache.leoTomlCacheData)),o;if(u.length&&u[0]===p.STD_PACKAGES)return o.push(...p.default.autocompleteStdPackageImport(e)),o;if(c===u[0])return o;const l=`${a}${s.sep}${u[0]}`;if((0,d.checkPathExists)(l))return o.push(...this.autocompleteDeepInFolder(u,l)),o;const f=`${a}${s.sep}${u[0]}.leo`,h=(0,d.checkPathExists)(f),g=null===(i=null===(n=this.cache.leoTomlCacheData)||void 0===n?void 0:n.dependencies)||void 0===i?void 0:i[u[0]];g&&(u[0]=m.default.getPackageNameFromDependency(g));const y=`${a.split(s.sep).slice(0,-1).join(s.sep)}${s.sep}imports${s.sep}${u[0]}`,_=(0,d.checkPathExists)(y);return h?o.push(...this.autocompleteFileItems(u[1],f)):_&&o.push(...this.autocompletePackage(u,`${y}${s.sep}src`)),o}static autocompleteRootModule(e,t,n,r){const i=[],o=(0,d.searchEntriesByName)(t,e,"leo",n),a=(0,d.searchEntriesByName)(t,e),s=new RegExp("src$"),f=t.replace(s,"imports");let h=(0,d.searchEntriesByName)(f,e);return Object.entries((null==r?void 0:r.dependencies)||{}).filter((([t])=>t.startsWith(e))).forEach((([t,n])=>{t.indexOf(e)>-1&&(h=h.filter((e=>e!==m.default.getPackageNameFromDependency(n))),h.push(t))})),[...o,...a,...h].forEach((e=>{i.push({label:e,kind:c.CompletionItemKind.Module,detail:e,preselect:!0,documentation:e,scopes:[u.CompletionScope.file,u.CompletionScope.import],sortText:l.CompletionSortOrder.importPath})})),e&&!p.STD_PACKAGES.match(e)||i.push({label:p.STD_PACKAGES,kind:c.CompletionItemKind.Module,detail:p.STD_PACKAGES,preselect:!0,documentation:p.STD_PACKAGES,scopes:[u.CompletionScope.file,u.CompletionScope.import],sortText:l.CompletionSortOrder.importPath}),i}autocompleteFileItems(e,t){const n=[],r=this.importServiceFactory.create().parseWholeFile(t);return r.items.filter((t=>t.name.match(e))).forEach((e=>{var t,r;"function_declaration"===(null===(t=e.node)||void 0===t?void 0:t.type)?n.push({label:e.name||"",kind:c.CompletionItemKind.Function,detail:f.default.parseReturnType(e.node),preselect:!0,documentation:e.documentation,scopes:[u.CompletionScope.file,u.CompletionScope.import],sortText:l.CompletionSortOrder.importItem}):"constant_declaration"===(null===(r=e.node)||void 0===r?void 0:r.type)?n.push({label:e.name||"",kind:c.CompletionItemKind.Constant,detail:e.type,preselect:!0,documentation:`const ${e.name}`,scopes:[u.CompletionScope.file,u.CompletionScope.import],sortText:l.CompletionSortOrder.importItem}):e instanceof y.AliasDataType?n.push({label:e.name,kind:c.CompletionItemKind.TypeParameter,detail:"Type Alias",preselect:!0,documentation:e.name,scopes:[u.CompletionScope.file,u.CompletionScope.import],sortText:l.CompletionSortOrder.importItem}):n.push({label:e.name||"",kind:c.CompletionItemKind.Class,detail:"Circuit",preselect:!0,documentation:e.name,scopes:[u.CompletionScope.file,u.CompletionScope.import],sortText:l.CompletionSortOrder.importItem})})),r.items.length&&n.push({label:"*",kind:c.CompletionItemKind.Reference,detail:"All",preselect:!0,documentation:"All",scopes:[u.CompletionScope.file,u.CompletionScope.import],sortText:l.CompletionSortOrder.importItem}),n}autocompletePackage(e,t){const n=[];if(2===e.length){const r=`${t}${s.sep}main.leo`;n.push(...this.autocompleteFileItems(e[1],r));[...(0,d.searchEntriesByName)(t,e[1],"leo"),...(0,d.searchEntriesByName)(t,e[1])].forEach((t=>{"lib"!==t&&n.push({label:t,kind:c.CompletionItemKind.File,detail:t,preselect:!0,documentation:`${e[0]}${s.sep}src${s.sep}${t}`,scopes:[u.CompletionScope.file,u.CompletionScope.import],sortText:l.CompletionSortOrder.importPath})}))}else n.push(...this.autocompleteDeepInFolder(e,t));return n}autocompleteDeepInFolder(e,t,n=!1){const r=[],i=e.slice(1,e.length-1).join(s.sep),o=`${t}${s.sep}${i}.leo`,a=(0,d.checkPathExists)(o),f=`${t}${s.sep}${i}`,p=(0,d.checkPathExists)(f),h=e[e.length-1];if(a)r.push(...this.autocompleteFileItems(h,o));else if(p){[...(0,d.searchEntriesByName)(f,h,"leo"),...(0,d.searchEntriesByName)(f,h)].forEach((t=>{r.push({label:t,kind:c.CompletionItemKind.File,detail:t,preselect:!0,documentation:`${e[0]}${s.sep}${n?"":"src"}${s.sep}${i}${s.sep}${t}`,scopes:[u.CompletionScope.file,u.CompletionScope.import],sortText:l.CompletionSortOrder.importPath})}))}return r}static getMultipleImportTextAroundCursor(e,t){const n=t.textDocument,r={line:-1,character:0},i={line:-1,character:0};let o=-1;for(let t=e.position.line;t>=0&&t<=n.lineCount;){const e=c.Range.create(t,0,t,200),a=n.getText(e),s=a.indexOf("("),u=a.indexOf(")");if(-1===r.line&&0===a.indexOf("import")&&-1!==s)r.line=t,r.character=s+1,o=1;else{if(-1!==r.line&&-1!==u){i.line=t,i.character=u+1;break}t+=o}}if(-1!==r.line&&-1!==i.line&&(e.position.line===r.line&&e.position.character>r.character||e.position.line===i.line&&e.position.character<i.character||e.position.line>r.line&&e.position.line<i.line)){const e=c.Range.create(r.line,0,i.line,i.character+1);return n.getText(e)}return""}autocompleteInsideMultipleImport(e,t,n){const r=[];let i="";if(e.match(/^import/)){const t=e.indexOf("("),n=e.slice(0,t),r=e.slice(t,e.length).replace(/(\(|\))/,"").trim().split(",");i=n+(r.length>1?r[r.length-1]:r[0]).trim()}else{const n=e.split(","),r=n.length>1?n[n.length-1]:n[0],o=/\(([^)]+)\);?/;i=t.replace(o,r.trim())}return r.push(...this.autocompleteImportQuery(i,n)),r}};_=r=i([(0,a.injectable)()],_),t.default=_;let v=class{create(){const e=new this.CompletionImportService;return e.cache=this.cache,e.importServiceFactory=this.importServiceFactory,e}};i([(0,a.inject)(g.TYPE.Cache),o("design:type",h.default)],v.prototype,"cache",void 0),i([(0,a.inject)(g.TYPE.ImportServiceFactory),o("design:type",m.ImportServiceFactory)],v.prototype,"importServiceFactory",void 0),i([(0,a.inject)(g.TYPE.CompletionImportService),o("design:type",Object)],v.prototype,"CompletionImportService",void 0),v=i([(0,a.injectable)()],v),t.CompletionImportServiceFactory=v},5513:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionScopeServiceFactory=t.CompletionScope=void 0;const o=n(5021),a=n(6920),s=n(1555),c=n(8151);var u;!function(e){e.file="file",e.functionParameters="functionParameters",e.functionReturnType="functionReturnType",e.functionBody="functionBody",e.methodBody="methodBody",e.circuitBody="circuitBody",e.import="import"}(u=t.CompletionScope||(t.CompletionScope={}));let l=class{getScope(){let e=u.file;const t=this.cache.get(this.param.textDocument.uri);if(!t)return e;const{circuits:n,functions:r}=t;return r.forEach((t=>{const n=s.default.isInScope(t.scopesRanges.parameters,this.param.position),r=s.default.isInScope(t.scopesRanges.returnType,this.param.position);n&&(e=u.functionParameters),r&&(e=u.functionReturnType)})),e===u.file&&n.forEach((t=>{s.default.isInScope(t.range,this.param.position)&&(e=u.circuitBody)})),e}filter(e){return e.filter((e=>e.scopes.includes(this.scope)))}static addFileScopeToAll(e){return e.map((e=>(e.scopes.push(u.file),e)))}};l=r([(0,o.injectable)()],l),t.default=l;let d=class{create(e,t){const n=new this.CompletionScopeService;return n.cache=this.cache,n.param=e,n.query=t,n.scope=n.getScope(),n}};r([(0,o.inject)(a.TYPE.Cache),i("design:type",c.default)],d.prototype,"cache",void 0),r([(0,o.inject)(a.TYPE.CompletionScopeService),i("design:type",Object)],d.prototype,"CompletionScopeService",void 0),d=r([(0,o.injectable)()],d),t.CompletionScopeServiceFactory=d},4835:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionSortOrder=void 0;const a=n(5021),s=n(2880),c=n(6920),u=n(1555),l=n(5226),d=n(2446),f=n(3359),p=n(5944),h=n(13),m=n(3234),g=n(5513),y=n(7414),_=n(8151),v=n(9364),b=n(9767),E=n(402),T=n(2936),w=n(5907);var S;!function(e){e.method="0_",e.attribute="0_",e.definition="1_",e.parameter="1_",e.function="2_",e.circuit="3_",e.reservedKeyword="4_",e.importItem="0_",e.importPath="1_",e.typeAlias="1_"}(S=t.CompletionSortOrder||(t.CompletionSortOrder={}));let P=r=class{static getAllItems(e,t){const n=[],r=[],i=[],o=[];return y.default.combineFileImports(e.imports).reverse().forEach((e=>{e.items.forEach((e=>{var t,a,s;"function_declaration"===(null===(t=e.node)||void 0===t?void 0:t.type)&&r.push(e),"circuit_declaration"===(null===(a=e.node)||void 0===a?void 0:a.type)&&n.push(e),"constant_declaration"===(null===(s=e.node)||void 0===s?void 0:s.type)&&i.push(e),e.aliasDataType instanceof T.AliasDataType&&o.push(e)}))})),n.push(...e.circuits,...t.circuits),r.push(...e.functions,...t.functions),i.push(...e.constants,...t.constants),o.push(...e.typesAliases,...t.typesAliases),{circuits:n,funcs:r,constants:i,typesAliases:o}}static parseLineUnderCursor(e,t,n){let i=t.trim().endsWith("::"),o=t;return u.default.forEach(e.rootNode,(e=>{const a=e.text,s=u.default.range(e);if(n.position.line!==s.start.line||o!==t)return;if(["statement_return","statement_conditional","statement_for","statement_console_assert","statement_console_debug","statement_console_error","statement_console_log","statement_declaration","statement_assign","expression"].includes(e.type)&&0===a.indexOf(t,0)){const{parsedQuery:a,isStaticAccess:s}=r.parseStatement(e,t,n);o=a,i=s}else if("expression"===e.type&&t.endsWith(a)&&u.default.getNodeByType(e,"access_static_member")){const{parsedQuery:a,isStaticAccess:s}=r.parseStatement(e,t,n);o=a,i=s}else["ERROR","assignee"].includes(e.type)&&0===a.indexOf(t,0)?o=r.parseErrorNode(e,t,n):n.position.character===s.end.character&&(o=r.parseNodeUnderCursor(e,t))})),{query:o,static_call:i}}static parseStatement(e,t,n){var i,o;let a={parsedQuery:t,isStaticAccess:!1};if("statement_assign"===e.type){if(a.parsedQuery=r.parseStatementAssign(e),""==a.parsedQuery){const t=u.default.getNodeUnderCursor(e,n.position.line,n.position.character);"identifier"==(null==t?void 0:t.type)&&(a.parsedQuery=t.text)}return a}if("statement_declaration"===e.type){const t=u.default.getNodeUnderCursor(e,n.position.line,n.position.character);return"expression"!==(null===(i=null==t?void 0:t.parent)||void 0===i?void 0:i.type)&&"ERROR"!==(null===(o=null==t?void 0:t.parent)||void 0===o?void 0:o.type)||"identifier"!==(null==t?void 0:t.type)||(a.parsedQuery=t.text),a}return"expression"===e.type&&(a=r.parseExpressionStatement(e,t)),("statement_return"===e.type||"expression"===e.type&&"return;"===e.text)&&(a.parsedQuery=r.parseReturnStatement(e,t),a.isStaticAccess=t.trim().endsWith("::")),a}static parseStatementAssign(e){const t=u.default.getNodeByPath(e,["identifier_assignee","identifier"]);if(t){if(null!==u.default.getNodeByPath(e,["identifier_assignee","access_assignee","access_member"]))return t.text}return""}static parseExpressionStatement(e,t){let n=!1;const r=u.default.getNodeByPath(e,["identifier"]);if(null!==r)return{parsedQuery:r.text,isStaticAccess:n};const i=u.default.getNodeByPath(e,["expression_postfix","keyword_or_identifier"]),o=u.default.getNodeByPath(e,["expression_postfix"]);return o&&l.default.isStaticAccessExpression(o)&&(n=!0),{parsedQuery:i?i.text:t,isStaticAccess:n}}static parseReturnStatement(e,t){t=t.split(" ").pop()||"";const n=u.default.getNodeByPath(e,["expression","expression_postfix","keyword_or_identifier"]);return n&&(t=n.text),t}static parseErrorNode(e,t,n){const r=u.default.getNodeByValue(e,"."),i=u.default.getNodeByValue(e,"::");if(i&&i.endPosition.column===n.position.character)return l.default.parseCircuitNameFromStaticAccess(i);if(r&&r.parent&&r.endPosition.column===n.position.character){const e=u.default.getNodeByType(r.parent,"keyword_or_identifier");if(e)return e.text;const t=u.default.getNodeByType(r.parent,"identifier");if(t)return t.text}else if(u.default.getNodeByType(e,"operation_assign")){const n=e.text.trim().split("=");n.length&&!n[1]&&(t="")}else{const r=u.default.getNodeUnderCursor(e,n.position.line,n.position.character);r&&(t=r.text)}return t}static parseNodeUnderCursor(e,t){var n,r,i,o;if("."===e.text||e.previousSibling&&"."===e.previousSibling.type){const n=e.previousSibling;if("."===e.text&&n)t=n.text;else{const n=u.default.getNamedParentByType(e,"expression_postfix"),r=u.default.getNamedParentByType(e,"identifier_assignee");let i=null;n?i=u.default.getNodeByType(n,"keyword_or_identifier"):r&&(i=u.default.getNodeByType(r,"identifier")),i&&(t=i.text)}}else if("::"===e.text&&(null===(n=e.previousSibling)||void 0===n?void 0:n.type)&&["identifier","keyword_or_identifier"].includes(e.previousSibling.type))t=e.previousSibling.text;else if("="===(null===(r=e.previousSibling)||void 0===r?void 0:r.type))if(v.default.isOperationExpression(e)){const n=e.namedChildren.map((e=>!!e.type.match(/^operation/))).lastIndexOf(!0);t=e.namedChildren[n+1].text}else t=null!==(o=null===(i=u.default.getNodeByType(e,"keyword_or_identifier"))||void 0===i?void 0:i.text)&&void 0!==o?o:e.text;return t}static isSuitableLastNodeInProcessOfCircuitStaticMembers(e,t){const n=u.default.getPreviousSibling(e);return!(![w.NODE_TYPES.identifier,w.NODE_TYPES.access_static_member,":","::"].includes(e.type)||":"===e.type&&e.startPosition.row!==t.position.line||":"===(null==n?void 0:n.type)&&(null==n?void 0:n.startPosition.row)!==t.position.line)}static isSuitablePrevNodeInProcessOfCircuitStaticMembers(e){var t,n,r,i;return(null===(t=e.parent)||void 0===t?void 0:t.type)!==w.NODE_TYPES.circuit_variable_expression&&(null===(n=e.parent)||void 0===n?void 0:n.type)!==w.NODE_TYPES.member_variable_declaration&&(null===(r=e.parent)||void 0===r?void 0:r.type)!==w.NODE_TYPES.member_constant_declaration&&(null===(i=e.parent)||void 0===i?void 0:i.type)!==w.NODE_TYPES.function_parameter}static filterMemberAstInProcessOfCircuitStaticMembers(e,t,n){const r=[];return e.forEach((e=>{e.isStatic&&(!t||e.name.startsWith(t.text)&&u.default.isInScope({start:{line:t.startPosition.row,character:t.startPosition.column},end:{line:t.endPosition.row,character:t.endPosition.column}},n.position))&&r.push(e)})),r}static completeCircuitStaticMembers(e,t,n){var i,o;const a=[];let c=u.default.getNodeByPosition(n.tree.rootNode,t.position.line,t.position.character,!0)||u.default.getPrevPlacedNode(t.position.line,t.position.character,n);if(!c||!r.isSuitableLastNodeInProcessOfCircuitStaticMembers(c,t))return a;const l=(null==c?void 0:c.type)===w.NODE_TYPES.identifier?c:null;c="::"===(null===(i=null==c?void 0:c.previousSibling)||void 0===i?void 0:i.text)?null==c?void 0:c.previousSibling:c;const d=(null==c?void 0:c.type)===w.NODE_TYPES.access_static_member?c.text.trim().replace(/(?<=:)\s*/gm,""):null==c?void 0:c.text;let p,h;if(":"===d||"::"===d){let t=c.previousSibling;if(!t){const e=u.default.getNamedParentByPath(c,[w.NODE_TYPES.access_static_member,w.NODE_TYPES.access]);t=e?e.previousNamedSibling:t}t&&t.type!==w.NODE_TYPES.ERROR||(t=u.default.getPrevPlacedNode(c.startPosition.row,c.startPosition.column,n)),t&&r.isSuitablePrevNodeInProcessOfCircuitStaticMembers(t)&&(t.type===w.NODE_TYPES.expression?(t=u.default.getPrevPlacedNode(c.startPosition.row,c.startPosition.column,n),h=(null==t?void 0:t.type)===w.NODE_TYPES.identifier?t.text:""):t.type===w.NODE_TYPES.keyword_or_identifier?t.firstNamedChild.type===w.NODE_TYPES.identifier&&(h=null===(o=t.firstNamedChild)||void 0===o?void 0:o.text):t.type===w.NODE_TYPES.identifier&&(h=t.text),h&&(p=f.default.findByNameAndAlias(e,h)))}return p&&r.filterMemberAstInProcessOfCircuitStaticMembers(p.attributes,l,t).forEach((e=>{const t=(l?"":":"==d?":":"")+e.name;a.push({label:e.name,insertText:t,kind:s.CompletionItemKind.Constant,detail:e.type,preselect:!0,scopes:[g.CompletionScope.file,g.CompletionScope.functionBody,g.CompletionScope.methodBody],sortText:S.attribute+e.name})})),a}static completeMethodsByCircuitName(e,t,n){const i=f.default.findByNameAndAlias(e,t);i&&r.circuitCompletionItems(i,n)}static checkIfQueryIsCircuitVariable(e,t,n,i){const o=e.find((e=>e.isCircuit&&e.name===t));o&&r.completeMethodsByCircuitName(n,o.type,i)}static circuitCompletionItems(e,t){e.attributes.forEach((e=>{t.push({label:e.name,kind:s.CompletionItemKind.Property,detail:e.type,preselect:!0,scopes:[g.CompletionScope.functionBody,g.CompletionScope.methodBody],sortText:S.attribute+e.name})}))}static getMatchItems(e,t,n){e.forEach((e=>{var i,o,a,c,u,l;const f=e.alias&&0===e.alias.indexOf(n,0);if(f||!e.alias&&0===(null===(i=e.name)||void 0===i?void 0:i.indexOf(n,0))){let n="circuit",i=s.CompletionItemKind.Class,c=e.name||"";"constant_declaration"===(null===(o=e.node)||void 0===o?void 0:o.type)?(n=e.type||"",i=s.CompletionItemKind.Constant,c=`const ${e.name}`):"function_declaration"===(null===(a=e.node)||void 0===a?void 0:a.type)&&(n=d.default.parseReturnType(e.node),i=s.CompletionItemKind.Function,c=e.documentation||"");const u=f?e.alias:e.name;let l={label:u,kind:i,detail:n,preselect:!0,documentation:c,scopes:[g.CompletionScope.functionBody,g.CompletionScope.methodBody,g.CompletionScope.functionReturnType,g.CompletionScope.functionParameters],sortText:("circuit"===n?S.circuit:S.function)+u};i===s.CompletionItemKind.Function&&(l={insertText:r.getFunctionCompletionText(e),insertTextFormat:s.InsertTextFormat.Snippet,...l}),t.push(l)}if(e instanceof T.AliasDataType||e.aliasDataType instanceof T.AliasDataType){const r=null!==(c=e.aliasDataType)&&void 0!==c?c:e;if(e.alias&&-1!==e.alias.indexOf(n,0)||-1!==(null===(u=e.name)||void 0===u?void 0:u.indexOf(n,0))){const n=null!==(l=e.alias)&&void 0!==l?l:e.name,i=r.resolvedTypeToString();t.push({label:n,kind:s.CompletionItemKind.TypeParameter,detail:i,preselect:!0,documentation:i,scopes:[g.CompletionScope.functionBody,g.CompletionScope.methodBody,g.CompletionScope.functionReturnType,g.CompletionScope.functionParameters,g.CompletionScope.file],sortText:S.typeAlias+n})}}}))}static getFunctionCompletionText(e,t=""){const n=e.parameters.filter((e=>"self"!==e.name));return`${t+e.name}(${n.map(((e,t)=>`$${t+1}`)).join(", ")})$${n.length+1}`}static getMatchStatementDefinition(e,t,n){const r=p.default.autocompleteDefinitions(e,t);n.push(...r)}async search(e){const t=await this.cache.getAfterCached(e.textDocument.uri);if(!t)return[];const n=u.default.getLineUnderCursor(e,t.textDocument).trim();try{return this.getAutocomplete(e,n)}catch(e){this.loggerService.log("Autocomplete receiving failed: "+e.message),this.loggerService.error(e.stack)}return[]}getInputCompletions(e,t){var n;const r=this.cache.get(e.textDocument.uri);if(!r)return;const i=r.tree,o=u.default.getNodeUnderCursor(i.rootNode,e.position.line,e.position.character);let a=null;if(o&&")"===o.text){const e=null===(n=o.parent)||void 0===n?void 0:n.parent;if(e){const t=u.default.getNamedChildrenNodesByPath(e,["function_parameters"]);t.length>0&&(a=t[0])}}else o&&(a=u.default.getNamedParentByType(o,"function_parameters"));if(a&&a.parent){const n=u.default.getNamedChildrenNodesByPath(a.parent,["identifier"]);let r=null;if(n.length>0&&"main"===n[0].text){const e=this.cache.getInputs(this.cache.mainInputFileUri);e&&(r=e.sections.find((e=>"main"===e.name)))}else if(n.length>0){const t=this.cache.get(e.textDocument.uri);if(t){if(t.functions.find((e=>e.name===n[0].text))){const e=this.cache.getInputs(this.cache.mainInputFileUri);e&&(r=e.sections.find((e=>"main"===e.name)))}}}null==r||r.declarations.forEach((e=>{const n=e.name+": "+e.type;t.push({insertText:n,label:e.name,kind:s.CompletionItemKind.Variable,detail:e.type,preselect:!0,scopes:[g.CompletionScope.functionParameters],sortText:S.parameter+e.name})}))}}isCursorInsideQuotes(e,t,n){const{tree:r}=n,i=u.default.getNodeUnderCursor(r.rootNode,t.position.line,t.position.character);if(i){const e=["statement_console_log","statement_console_error"];if(["basic_string","formatted_container","escape_sequence"].includes(i.type)&&i.parent&&e.includes(i.parent.type))return!0}return e.replace(/[^"]/g,"").split("").length%2!=0}getAutocomplete(e,t){var n;const i=this.cache.get(e.textDocument.uri);let o=[];const a=this.completionScopeServiceFactory.create(e,t);if(i&&this.isCursorInsideQuotes(t,e,i))return o;this.getInputCompletions(e,o),o.push(...h.default.autocomplete(t,null===(n=this.settingsService.clientInfo)||void 0===n?void 0:n.name));let s="";if(i&&(s=E.default.getMultipleImportTextAroundCursor(e,i)),0===t.indexOf("import")||s){const n=this.completionImportServiceFactory.create();s?o.push(...n.autocompleteInsideMultipleImport(t,s,e)):o.push(...n.autocompleteImportQuery(t,e)),o=o.filter((e=>-1!==e.scopes.indexOf(g.CompletionScope.import)))}if(i){const n=i.tree,{circuits:s,funcs:c,constants:u,typesAliases:d}=r.getAllItems(i,this.cache.stdPreludeData),f=this.functionParser.parseStatementDefinitionsByPosition(e,n);r.getMatchItems(c,o,t),r.getMatchItems(s,o,t),r.getMatchItems(u,o,t),r.getMatchItems(d,o,t),r.getMatchStatementDefinition(f,t,o);const p=r.parseLineUnderCursor(n,t,e).query;p!==t&&(r.getMatchItems(c,o,p),r.getMatchItems(s,o,p),r.getMatchStatementDefinition(f,p,o)),o.push(...r.completeCircuitStaticMembers(s,e,i)),r.checkIfQueryIsCircuitVariable(f,p,s,o),l.default.isInlineExpressionCompletion(t)?o.push(...this.circuitService.autocompleteInlineExpression(t,e)):o.push(...this.functionsService.autocompleteParameters(e,p)),o.push(...this.resolveStdlib(a,u))}return a.filter(this.filterDataTypes(t,o))}filterDataTypes(e,t){if(!(e=e.trim()).match(/::/)&&e.match(/:\s*\w*?$/)&&!e.match(/{/)){const n=e.match(/(?<=(:\s*))\w*?$/);if(n){const e=n[0];t=g.default.addFileScopeToAll(t.filter((t=>t.kind===s.CompletionItemKind.TypeParameter&&t.label.startsWith(e)||t.kind===s.CompletionItemKind.Method||t.kind===s.CompletionItemKind.Constant)))}}return t}resolveStdlib(e,t){if(![g.CompletionScope.functionBody,g.CompletionScope.methodBody].includes(e.getScope()))return[];const{param:n}=e,r=this.cache.get(n.textDocument.uri);if(!r)return[];const i=u.default.getNodeByPosition(r.tree.rootNode,n.position.line,n.position.character,!0);if(i&&(i.type.startsWith("type_")||"identifier"===i.type)){if(!["i8","i16","i32","i64,","i128","u8","u16","u32","u64","u128","address","bool","group","field","string"].includes(i.text)){const e=d.default.getFunctionAstFromChildNode(i,r);if(e){if(![...e.parameters,...e.statementDefinitions,...t].find((e=>e.name===i.text)))return[]}}}return[]}};i([(0,a.inject)(c.TYPE.Cache),o("design:type",_.default)],P.prototype,"cache",void 0),i([(0,a.inject)(c.TYPE.LoggerService),o("design:type",m.default)],P.prototype,"loggerService",void 0),i([(0,a.inject)(c.TYPE.FunctionParser),o("design:type",d.default)],P.prototype,"functionParser",void 0),i([(0,a.inject)(c.TYPE.CircuitService),o("design:type",f.default)],P.prototype,"circuitService",void 0),i([(0,a.inject)(c.TYPE.FunctionsService),o("design:type",p.default)],P.prototype,"functionsService",void 0),i([(0,a.inject)(c.TYPE.CompletionImportServiceFactory),o("design:type",E.CompletionImportServiceFactory)],P.prototype,"completionImportServiceFactory",void 0),i([(0,a.inject)(c.TYPE.CompletionScopeServiceFactory),o("design:type",g.CompletionScopeServiceFactory)],P.prototype,"completionScopeServiceFactory",void 0),i([(0,a.inject)(c.TYPE.SettingsService),o("design:type",b.default)],P.prototype,"settingsService",void 0),i([(0,a.inject)(c.TYPE.DataTypeParser),o("design:type",v.default)],P.prototype,"dataTypeParser",void 0),P=r=i([(0,a.injectable)()],P),t.default=P},5471:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(2374),s=n(6630),c=n(1555),u=n(2936),l=n(5907),d=n(6920),f=n(8151),p=n(3359),h=n(5944),m=n(2431);let g=class{getDefinitionLocation(e,t){const n=this.cache.get(e.textDocument.uri);if(!n)return null;const{circuits:r,functions:i,imports:o}=n,a=p.default.findByNameStrict(r,t.text);if(a)return this.createLocation(a);const s=h.default.findByNameStrict(i,t.text);if(s)return this.createLocation(s);const c=this.typeAliasService.findByName(e.textDocument.uri,t.text);return c?this.createLocation(c instanceof u.AliasDataType?c:c.aliasDataType):this.getImportDefinitionLocation(o,t)}getImportDefinitionLocation(e,t){const n=c.default.findImportByChildNode(e,t);if(n)for(let e=0;e<n.items.length;e++)if(n.items[e].alias==t.text||n.items[e].name==t.text){const t=n.items[e];if(t.uri&&t.nameRange){const e=t.uri.startsWith("file:///")?t.uri:s.URI.file(t.uri);return this.createLocationEx(e.toString(),t.nameRange)}}return null}getKeywordOrIdentifierDefinition(e,t,n){const r=this.cache.get(e);if(!r)return null;const{circuits:i,functions:o,imports:a}=r;if(n){const e=c.default.getNamedParentByType(t,l.NODE_TYPES.circuit_declaration);if(e){const t=c.default.getNamedChildrenNodesByPath(e,[l.NODE_TYPES.identifier]);if(t)return p.default.findByNameStrict(i,t[0].text)}}else for(let e=0;e<o.length;e++){const n=h.default.findStatementDefinitionByName(o[e].statementDefinitions,t.text,!0);if(n.length>0){const e=c.default.getNamedChildrenNodesByPath(n[0].node,[l.NODE_TYPES.expression,l.NODE_TYPES.expression_circuit_inline,l.NODE_TYPES.identifier]);if(e.length>0){const t=p.default.findByNameStrict(i,e[0].text);return t||p.default.findImportByNameStrict(a,e[0].text)}}else{const n=h.default.findParametersByName(o[e].parameters,t.text,!0);if(n.length>0){const e=p.default.findByNameStrict(i,n[0].type);return e||p.default.findImportByNameStrict(a,n[0].type)}}}return null}createLocation(e){const t=e.uri,n=e instanceof u.AliasDataType?e.typeNodeRange:e.nameRange;return a.Location.create(t,a.Range.create(a.Position.create(n.start.line,n.start.character),a.Position.create(n.end.line,n.end.character)))}createLocationEx(e,t){return a.Location.create(e,a.Range.create(a.Position.create(t.start.line,t.start.character),a.Position.create(t.end.line,t.end.character)))}createLocationByPosition(e,t,n){return a.Location.create(e,a.Range.create(a.Position.create(t.row,t.column),a.Position.create(n.row,n.column)))}findCircuitByName(e=[],t=[],n=""){const r=p.default.findByNameStrict(t,n);if(r)return r;const i=p.default.findImportByNameStrict(e,n);return i||null}findFunctionNameByNode(e,t){const n=this.cache.get(e);if(!n)return null;const{functions:r}=n,i=c.default.getNamedParentByType(t,l.NODE_TYPES.function_declaration);if(i){const e=c.default.getSelfNamedChildrenByTypes(i,["identifier"]);if(e.length>0){return h.default.findByNameStrict(r,e[0].text)}}return null}getFunctionAndAccessMemberLocation(e,t){var n;const r=this.cache.get(e.textDocument.uri);if(!r)return null;const{circuits:i,imports:o}=r;let a=c.default.getNamedParentByType(t,l.NODE_TYPES.statement_declaration);if(a||(a=c.default.getNamedParentByType(t,l.NODE_TYPES.expression)),a){const r=c.default.getNodesByType(a,l.NODE_TYPES.expression_postfix);if(r.length){let a=null;for(let s=0;s<r.length;s++)for(let u=0;u<r[s].childCount;u++)if(r[s].children[u].type==l.NODE_TYPES.keyword_or_identifier)if((null===(n=t.parent)||void 0===n?void 0:n.type)==l.NODE_TYPES.keyword_or_identifier){const n=this.findFunctionNameByNode(e.textDocument.uri,t);if(n){const r=h.default.findStatementDefinitionByName(n.statementDefinitions,t.text,!0);if(r.length>0)return this.createLocation(r[0]);{const r=this.getDefinitionLocation(e,t);if(r)return r;const i=h.default.findParametersByName(n.parameters,t.text,!0);if(i.length>0)return this.createLocation(i[0])}}}else{let t=this.getKeywordOrIdentifierDefinition(e.textDocument.uri,r[s].children[u],!1);if(t)a=t;else{if(t=this.getKeywordOrIdentifierDefinition(e.textDocument.uri,r[s].children[u],!0),!t)return null;a=t}}else if(r[s].children[u].type==l.NODE_TYPES.access){const e=c.default.getNamedChildrenNodesByPath(r[s].children[u],[l.NODE_TYPES.access_member,l.NODE_TYPES.identifier]);if(e.length>0)if(e[0].text==t.text){const t=p.default.findAttributesByNameStrict(null==a?void 0:a.attributes,e[0].text);if(t.length)return this.createLocation(t[0])}else{const t=p.default.findAttributesByNameStrict(null==a?void 0:a.attributes,e[0].text);if(!(t.length>0))return null;{const e=this.findCircuitByName(o,i,t[0].type);e&&(a=e)}}}}}return null}getCircuitMemberLocation(e,t){var n;const r=[];if((null===(n=t.parent)||void 0===n?void 0:n.type)!=l.NODE_TYPES.circuit_variable_expression){const n=this.getDefinedVariableLocation(e,t);n&&r.push(n)}const i=this.cache.get(e.textDocument.uri);if(!i)return r;const{circuits:o,imports:a}=i,s=c.default.getNamedParentByType(t,l.NODE_TYPES.expression_circuit_inline);if(s){let e=c.default.getNamedChildrenNodesByPath(s,["identifier"]);if(e&&0==e.length){const n=c.default.getNamedParentByType(t,l.NODE_TYPES.circuit_declaration);n&&(e=c.default.getSelfNamedChildrenByTypes(n,["identifier"]))}if(e.length>0){for(let n=0;n<o.length;n++)if(o[n].name==e[0].text)for(let e=0;e<o[n].attributes.length;e++)if(o[n].attributes[e].name==t.text){const t=this.createLocation(o[n].attributes[e]);return t&&r.push(t),r}const n=p.default.findImportByNameStrict(a,e[0].text);if(n){const e=p.default.findAttributesByNameStrict(n.attributes,t.text);if(e.length>0){const t=this.createLocationEx(e[0].uri,e[0].nameRange);return t&&r.push(t),r}}}}return r}getDefinedVariableLocation(e,t){const n=this.findFunctionNameByNode(e.textDocument.uri,t);if(n){const r=h.default.findStatementDefinitionByName(n.statementDefinitions,t.text,!0);if(r.length>0)return this.createLocation(r[0]);{const r=h.default.findParametersByName(n.parameters,t.text,!0);if(r.length>0)return this.createLocation(r[0]);const i=this.cache.get(e.textDocument.uri);if(!i)return null;const{constants:o}=i,a=h.default.findStatementDefinitionByName(o,t.text,!0);if(a.length>0)return this.createLocation(a[0])}}return null}resolveGoToDefinition(e){var t,n,r,i,o,a,s,u,d;const f=this.cache.get(e.textDocument.uri);if(!f)return null;const{tree:p}=f,h=c.default.getNodeUnderCursor(p.rootNode,e.position.line,e.position.character);return null!=h?h.type!=l.NODE_TYPES.identifier||(null===(t=h.parent)||void 0===t?void 0:t.type)!=l.NODE_TYPES.access_member&&(null===(n=h.parent)||void 0===n?void 0:n.type)!=l.NODE_TYPES.keyword_or_identifier?h.type==l.NODE_TYPES.identifier&&(null===(r=h.parent)||void 0===r?void 0:r.type)==l.NODE_TYPES.circuit_variable_expression||h.type==l.NODE_TYPES.circuit_variable_identifier&&(null===(i=h.parent)||void 0===i?void 0:i.type)==l.NODE_TYPES.expression_circuit_inline?this.getCircuitMemberLocation(e,h):(null===(o=h.parent)||void 0===o?void 0:o.type)==l.NODE_TYPES.expression||(null===(a=h.parent)||void 0===a?void 0:a.type)==l.NODE_TYPES.identifier_assignee?this.getDefinedVariableLocation(e,h):(null===(s=h.parent)||void 0===s?void 0:s.type)==l.NODE_TYPES.function_declaration||(null===(u=h.parent)||void 0===u?void 0:u.type)==l.NODE_TYPES.variables||(null===(d=h.parent)||void 0===d?void 0:d.type)==l.NODE_TYPES.variable_declaration?this.createLocationByPosition(e.textDocument.uri,h.startPosition,h.endPosition):this.getDefinitionLocation(e,h):this.getFunctionAndAccessMemberLocation(e,h):null}};r([(0,o.inject)(d.TYPE.Cache),i("design:type",f.default)],g.prototype,"cache",void 0),r([(0,o.inject)(d.TYPE.TypeAliasService),i("design:type",m.default)],g.prototype,"typeAliasService",void 0),g=r([(0,o.injectable)()],g),t.default=g},6090:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(6920),s=n(1555),c=n(3506),u=n(9157),l=n(8200),d=n(3715),f=n(2895),p=n(8055),h=n(1612),m=n(4),g=n(3950),y=n(8151),_=n(4269),v=n(3846),b=n(9059),E=n(8661),T=n(4230),w=n(3003),S=n(8477),P=n(2431),R=n(7173),D=n(3966),C=n(5732),x=n(5907);let N=class{analyze(e){const t=this.cache.get(e),n=[];if(!t)return n;const{tree:r}=t;return s.default.forEach(r.rootNode,(r=>{var i;if(f.default.checkAll(r,n),"member_variable_declaration"!==r.type&&"member_constant_declaration"!==r.type||(n.push(...l.default.checkCircuitDefinitionName(r)),n.push(...this.circuitDiagnostic.checkMemberDuplication(r,e))),r.type===x.NODE_TYPES.function_declaration&&(s.default.isCircuitMethodDeclaration(r)?n.push(...l.default.getMethodUnstableError(r)):n.push(...this.functionDiagnostic.analyze(r,e))),"circuit_declaration"===r.type&&(n.push(...l.default.checkCircuitName(r,this.cache.stdPreludeData)),n.push(...this.circuitDiagnostic.checkCircuitDuplication(r,e))),"number_positive"===r.type&&n.push(...g.default.checkPositiveNumber(r)),"value_integer"!==r.type&&"value_field"!==r.type||n.push(...u.default.checkImplicitWhitespaces(r)),"value_group"===r.type){n.push(...u.default.checkValueGroupImplicitWhitespaces(r));const e=s.default.getSelfNamedChildByTypes(r,["value_number","group_tuple"]);"group_tuple"===e.type&&n.push(...this.groupDiagnostic.checkTuple(e)),"value_number"===e.type&&n.push(...this.groupDiagnostic.checkValue(e))}if("value_field"===r.type){const e=s.default.getSelfNamedChildByTypes(r,["value_number"]);n.push(...this.fieldDiagnostic.checkValue(e))}if("type_alias_declaration"===r.type&&n.push(...this.typeAliasDiagnostic.checkTypeAliasDuplication(r,e)),"type_field"===r.type&&r.previousNamedSibling&&"identifier"===r.previousNamedSibling.type){const e=s.default.getNamedParentByPath(r,["variables","statement_declaration"]);if(null!=e&&!e.isMissing()&&!e.hasError()){const t=s.default.getNamedChildrenNodesByPath(e,["expression","value_number"]);t.length>0&&n.push(...this.fieldDiagnostic.checkValue(t[0]))}}if("expression_circuit_inline"===r.type){const t=this.circuitDiagnostic.checkCircuitExist(r,e);t.length||n.push(...this.circuitDiagnostic.checkCircuitExpressionInline(r,e)),n.push(...t)}if("expression_postfix"===r.type&&n.push(...this.circuitDiagnostic.checkCircuitExist(r,e)),"expression_postfix"===r.type&&n.push(...this.functionDiagnostic.checkCalledFunctionExist(r,e)),"access_call"===r.type&&n.push(...this.dataTypeDiagnostic.checkFuncParamsAndTypes(r,e)),"expression"===r.type){const o=s.default.getNodesByTypes(r,["keyword_or_identifier","identifier"]);for(const a of o)s.default.isCircuitVariableTypeAddress(a,[...t.circuits,...this.cache.getAllImportedItemsByType("circuit_declaration",e).reverse()])||s.default.isAddressDefinition(a)||s.default.isCircuitVariableExpressionIdentifier(a)||"expression_circuit_inline"===r.namedChildren[0].type||r.namedChildren[0].type.startsWith("value_")||"expression_postfix"===r.namedChildren[0].type||"access_member"==(null===(i=a.parent)||void 0===i?void 0:i.type)||n.push(...this.definitionDiagnostic.checkVariableExist(a.text,a,e));"block"===r.parent.type&&n.push(...this.expressionDiagnostic.checkExpressionAssigned(r,e));try{n.push(...this.expressionDiagnostic.analyzeOperationExpression(r,e))}catch(e){}}["statement_declaration","constant_declaration"].includes(r.type)&&(n.push(...this.definitionDiagnostic.checkForDuplicatesInFunction(r,e)),n.push(...this.definitionDiagnostic.checkExplicitTypeMatch(r,e)),n.push(...this.definitionDiagnostic.checkMultipleVariablesDefinition(r,e)),n.push(...this.globalConstDiagnostic.checkDuplicates(r,e))),"function_parameter"===r.type&&n.push(...this.functionParameterDiagnostic.checkGlobalConstDuplicates(r,e)),n.push(...this.definitionDiagnostic.checkVariableMutable(r,e)),"statement_assign"===r.type&&n.push(...this.definitionDiagnostic.checkAssignedExpressionType(r,e)),"access_member"!==r.type&&"access_static_member"!==r.type||n.push(...this.circuitDiagnostic.checkCircuitMemberAccess(r,e)),"access_static_member"===r.type&&(n.push(...l.default.checkStaticMemberCircuitName(r,this.cache.stdPreludeData)),n.push(...l.default.checkStaticMemberName(r))),"member_constant_declaration"===r.type&&n.push(...this.circuitDiagnostic.checkStaticMemberConstantType(r,e)),"statement_for"===r.type&&n.push(...this.statementForDiagnostic.checkExpressions(r,e)),"value_address"===r.type&&n.push(...c.default.checkPublicKey(r)),"expression_tuple"===r.type&&n.push(...this.dataTypeDiagnostic.checkTupleType(r,e)),"access_tuple"===r.type&&n.push(...this.dataTypeDiagnostic.checkTupleAccess(r,e)),"identifier"===r.type&&r.text&&n.push(...h.default.checkDefinition(r,this.cache.stdPreludeData)),"package_name"===r.type&&n.push(...m.default.checkPackageName(r)),"expression_conditional"===r.type&&n.push(...this.expressionDiagnostic.checkConditionalExpression(r,e)),"statement_conditional"===r.type&&n.push(...this.conditionalStatementDiagnostic.checkConditionType(r,e)),"constant_declaration"===r.type&&n.push(...T.default.checkModifier(r)),"statement_return"===r.type&&n.push(...this.definitionDiagnostic.checkReturnStatementType(r,e)),"return_type"===r.type&&n.push(...this.functionDiagnostic.checkFunctionReturnType(r,e)),"packages"===r.type&&n.push(...this.importDiagnostic.checkMultiAccess(r)),r.type===x.NODE_TYPES.statement_console_assert&&n.push(...this.dataTypeDiagnostic.checkConsoleAssertParamType(r,e))})),n.push(...this.circuitDiagnostic.checkCircuitSyntax(e)),n.push(...this.importDiagnostic.getImportsDiagnosticErrors(e)),n.push(...this.circuitDiagnostic.checkAttributeSeparator(e)),n.push(...this.inputDiagnostic.analyzeLeoFile(e,this.cache)),n.forEach((e=>{e.source="leo"})),n}};r([(0,o.inject)(a.TYPE.Cache),i("design:type",y.default)],N.prototype,"cache",void 0),r([(0,o.inject)(a.TYPE.CircuitDiagnostic),i("design:type",l.default)],N.prototype,"circuitDiagnostic",void 0),r([(0,o.inject)(a.TYPE.DefinitionDiagnostic),i("design:type",d.default)],N.prototype,"definitionDiagnostic",void 0),r([(0,o.inject)(a.TYPE.FunctionDiagnostic),i("design:type",p.default)],N.prototype,"functionDiagnostic",void 0),r([(0,o.inject)(a.TYPE.ImportDiagnostic),i("design:type",m.default)],N.prototype,"importDiagnostic",void 0),r([(0,o.inject)(a.TYPE.DataTypeDiagnostic),i("design:type",_.default)],N.prototype,"dataTypeDiagnostic",void 0),r([(0,o.inject)(a.TYPE.GroupDiagnostic),i("design:type",v.default)],N.prototype,"groupDiagnostic",void 0),r([(0,o.inject)(a.TYPE.FieldDiagnostic),i("design:type",b.default)],N.prototype,"fieldDiagnostic",void 0),r([(0,o.inject)(a.TYPE.ExpressionDiagnostic),i("design:type",E.default)],N.prototype,"expressionDiagnostic",void 0),r([(0,o.inject)(a.TYPE.GlobalConstDiagnostic),i("design:type",T.default)],N.prototype,"globalConstDiagnostic",void 0),r([(0,o.inject)(a.TYPE.ConditionalStatementDiagnostic),i("design:type",S.default)],N.prototype,"conditionalStatementDiagnostic",void 0),r([(0,o.inject)(a.TYPE.TypeAliasService),i("design:type",P.default)],N.prototype,"typeAliasService",void 0),r([(0,o.inject)(a.TYPE.StatementForDiagnostic),i("design:type",D.default)],N.prototype,"statementForDiagnostic",void 0),r([(0,o.inject)(a.TYPE.InputDiagnostic),i("design:type",w.default)],N.prototype,"inputDiagnostic",void 0),r([(0,o.inject)(a.TYPE.FunctionParameterDiagnostic),i("design:type",R.default)],N.prototype,"functionParameterDiagnostic",void 0),r([(0,o.inject)(a.TYPE.TypeAliasDiagnostic),i("design:type",C.default)],N.prototype,"typeAliasDiagnostic",void 0),N=r([(0,o.injectable)()],N),t.default=N},5944:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(5021),s=n(2374),c=n(6920),u=n(5513),l=n(4835),d=n(6014),f=n(1555),p=n(8151),h=n(3359),m=n(5226),g=n(2446),y=n(9364),_=n(6918),v=n(5907);let b=r=class{static findByName(e=[],t=""){return t?e.filter((e=>e.name.indexOf(t)>-1)):e}static findByNameStrict(e=[],t=""){return e.find((e=>e.name===t))||null}static findParametersByName(e=[],t="",n=!1){return t?e.filter((e=>n?e.name===t:e.name.indexOf(t)>-1)):e}static findStatementDefinitionByName(e=[],t="",n=!1){return t?e.filter((e=>n?e.name===t:e.name.indexOf(t)>-1)):e}static autocompleteDefinitions(e=[],t=""){const n=[];return r.findStatementDefinitionByName(e,t).forEach((e=>{n.push({label:e.name,kind:e.kind,detail:e.type,preselect:!0,scopes:[u.CompletionScope.functionBody,u.CompletionScope.methodBody],sortText:l.CompletionSortOrder.definition+e.name})})),n}static findAllByName(e=[],t=""){const n=[];return n.push(...r.findByName(e,t)),e.forEach((({parameters:e,statementDefinitions:i})=>{n.push(...r.findParametersByName(e,t)),n.push(...r.findStatementDefinitionByName(i,t))})),n}static findByNameAndAlias(e,t){return e.find((e=>e.alias&&e.alias===t||!e.alias&&e.name===t))||null}autocompleteParameters(e,t){const n=[],r=this.cache.get(e.textDocument.uri);if(!r)return n;const i=t.split(" "),{functions:o,tree:a}=r,s=f.default.getNodeByPosition(a.rootNode,e.position.line,e.position.character,!0),c=e=>{(e.name.includes(t)||e.name.includes(i[i.length-1])||s&&e.name.includes(s.text)||!t)&&n.push({label:e.name,kind:e.kind,detail:e.type,preselect:!0,scopes:[u.CompletionScope.functionBody,u.CompletionScope.methodBody],sortText:l.CompletionSortOrder.parameter+e.name})};return o.forEach((t=>{f.default.isInScope(t.range,e.position)&&t.parameters.forEach(c)})),n}getDefinitionNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{functions:e}=r,i=({node:e})=>{const r=f.default.getSelfNamedChildByTypes(e,["identifier"]);r&&f.default.isVisible(r,t)&&n.push({start:r.startPosition,end:r.endPosition})};e.forEach(i)}return n}getKnownNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{functions:e,imports:i}=r;let o=[];const a=e=>{f.default.getNodesByValue(e.node,o).forEach((e=>{const r=e.parent;f.default.isVisible(e,t)&&"function_declaration"!==r.type&&n.push({start:e.startPosition,end:e.endPosition})}))};i.forEach((e=>{e.items.forEach((e=>{void 0!==e.parameters&&o.push(e.alias||e.name)}))})),[...e].forEach((e=>{o.push(e.name)})),o=(0,d.uniq)(o).filter((e=>e)),e.forEach(a)}return n}getCallNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{functions:e}=r,i=e=>{f.default.getNodesByType(e.node,"access_call").forEach((e=>{if(f.default.isVisible(e,t)){const t=e.parent.previousSibling;switch(t.type){case"access":{const e=f.default.getNodeByType(t,"identifier");n.push({start:e.startPosition,end:e.endPosition});break}case"keyword_or_identifier":n.push({start:t.startPosition,end:t.endPosition})}}}))};e.forEach(i)}return n}findFromLocalAndImported(e,t){const n=this.cache.get(t);return n?r.findByNameAndAlias([...n.functions,...this.cache.getAllImportedItemsByType("function_declaration",t)],e):null}static findAnyInFunction(e,t){const n=r.findStatementDefinitionByName(e.statementDefinitions,t,!0);if(n.length)return n[0];const i=r.findParametersByName(e.parameters,t,!0);return i.length?i[0]:null}getFuncAstFromAccessCallNode(e,t){var n,i;const o=this.cache.get(t);if(!o)return null;const a=null===(n=e.parent)||void 0===n?void 0:n.previousNamedSibling;if(!a)return null;if(a.type===v.NODE_TYPES.identifier){const e=[];return o.imports.forEach((t=>{const n=t.items.filter((e=>"function_declaration"===e.node.type));e.push(...n)})),r.findByNameStrict([...o.functions,...e],a.text)}if(!f.default.getNamedParentByType(e,"expression_postfix"))return null;if(!(null===(i=a.firstNamedChild)||void 0===i?void 0:i.firstNamedChild))return null;const s=[];return o.imports.reverse().forEach((e=>{const t=e.items.filter((e=>{var t;return"circuit_declaration"===(null===(t=e.node)||void 0===t?void 0:t.type)}));s.push(...t)})),null}getFuncAstFromExpressionPostfixNode(e,t){let n=null;const i=this.cache.get(t);if(!i)return null;if(m.default.isStaticAccessExpression(e)){const e=[];i.imports.reverse().forEach((t=>{const n=t.items.filter((e=>{var t;return"circuit_declaration"===(null===(t=e.node)||void 0===t?void 0:t.type)}));e.push(...n)}))}else{const t=f.default.getNodeByPath(e,["keyword_or_identifier","identifier"]);if(t){const e=[];i.imports.forEach((t=>{const n=t.items.filter((e=>"function_declaration"===e.node.type));e.push(...n)})),n=r.findByNameStrict([...i.functions,...e],t.text)}}return n}getParametersSentToFunction(e,t){const n=[],r=this.cache.get(t),i=r?g.default.getFunctionAstFromChildNode(e,r):null,o=r&&i?[...(null==i?void 0:i.statementDefinitions)||[],...(null==i?void 0:i.parameters)||[],..._.default.getAllConstFromFileCache(r)]:[];return f.default.getSelfNamedChildrenByTypes(e,["expression"]).forEach((e=>{const r=f.default.getNodeByPath(e,["identifier"]);if(r){const e=o.find((e=>e.name===r.text));e&&n.push({...e,node:r})}else{const r=this.dataTypeParser.getStatementDeclarationDataType(e,t);n.push({uri:t,range:f.default.range(e),nameRange:f.default.range(e),kind:s.CompletionItemKind.Variable,node:e,accessModifier:"",isMutable:!1,isPublic:!1,isConstant:this.dataTypeParser.isExpressionConstant(e,t),name:e.text,type:r})}})),n}static isFunctionCall(e){return!(!e.nextNamedSibling||"access"!==e.nextNamedSibling.type||!e.nextNamedSibling.firstChild||"access_call"!==e.nextNamedSibling.firstChild.type)}getParametersOfCalledFunction(e,t){let n=[];const r=f.default.getNamedParentByType(e,"expression_postfix");if(r){const e=this.getFuncAstFromExpressionPostfixNode(r,t);e&&(n=e.parameters.filter((e=>"self"!==e.name)))}return n}};i([(0,a.inject)(c.TYPE.Cache),o("design:type",p.default)],b.prototype,"cache",void 0),i([(0,a.inject)(c.TYPE.CircuitService),o("design:type",h.default)],b.prototype,"circuitService",void 0),i([(0,a.inject)(c.TYPE.DataTypeParser),o("design:type",y.default)],b.prototype,"dataTypeParser",void 0),b=r=i([(0,a.injectable)()],b),t.default=b},6918:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static findByName(e=[],t=""){return e.find((e=>e.name===t))||null}static getAllConstFromFileCache(e){const t=[];return e.imports.forEach((e=>{t.push(...e.items.filter((e=>!!e.isGlobalConstant)))})),t.push(...e.constants),t}}},2853:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(6920),s=n(8151),c=n(1555),u=n(5944),l=n(2446),d=n(9364),f=n(3359),p=n(5226),h=n(6630),m=n(1017),g=n(13),y=n(2431),_=n(2936);let v=class{generate(e){var t;this.uri=e.textDocument.uri;const n=this.cache.get(e.textDocument.uri);if(!n)return null;const r=c.default.getNodeUnderCursor(n.tree.rootNode,e.position.line,e.position.character);if(r){let e=this.getFunctionKeyNode(r);if(e&&u.default.isFunctionCall(e))return this.analyzeFunction(e);if(e=this.getAttributeAccessKeyNode(r),e&&!u.default.isFunctionCall(e))return this.analyzeAttributeAccess(r,e);if(this.getAttributeDeclarationKeyNode(r))return this.analyzeAttributeDeclaration(r);if(this.getAttributeKeyNodeInCircuitInline(r))return this.analyzeAttributeInCircuitInline(r);if(this.getImportSymbolKeyNode(r))return this.analyzeImportSymbol(r);if(this.getCircIdentifierInFileDefKeyNode(r))return this.generateCircuitHover(r.text);if(this.getTypeCircuitKeyNode(r))return this.analyzeCircuitByIdentifier(r)||this.analyzeTypeAlias(r);if("identifier"===r.type&&"type_alias_declaration"===(null===(t=r.parent)||void 0===t?void 0:t.type))return this.analyzeTypeAlias(r);if(this.getExpressionCircuitInlineKeyNode(r))return this.analyzeCircuitByIdentifier(r);if(this.getFunctionDefinitionKeyNode(r))return this.analyzeFunctionDefinition(r);if(this.getFunctionParameterKeyNode(r))return this.analyzeFunctionParameter(r);if(this.getVariableDefinitionKeyNode(r))return this.analyzeVariableDefinition(r);if(this.getGlobalConstantDefinitionKeyNode(r))return this.analyzeGlobalConstantDefinition(r);if(this.getIdentifierKeyNodeInExpression(r)||this.getIdentifierKeyNodeInIdentifierAssignee(r))return this.analyzeIdentifierOfParamAndDeclaration(r);if(this.getIdentifierKeyNodeInKeywordOrIdentifier(r))return this.analyzeIdentifierInKeywordOrIdentifier(r);if(this.getIdentifierKeyNodeInStatementFor(r))return this.generateIdentifierStatementForHover(r);if("package_name"===r.type)return this.analyzeImportPackageName(r);if(this.getImportStarKeyNode(r))return this.analyzeImportStar(r);if(g.default.isConsoleFunction(r))return this.generateConsoleFunctionHover(r);if(e=this.getTupleAccessKeyNode(r))return this.analyzeTupleAccess(e)}return null}generateCallableHover(e){const t=e.parameters.reduce(((e,t)=>"self"===t.type?e:e+`, ${t.isConstant?"const ":""}${t.name}: ${t.type}`),""),n=e.returnType?`->${e.returnType}`:"";let r="";return r=`function ${void 0!==e.alias&&""!==e.alias?e.alias:e.name}(${t.substring(2)})${n}`,r=r.trim(),this.generateHover(r)}generateFunctionImportHover(e){const t=e.parameters.reduce(((e,t)=>e+`, ${t.name}: ${t.type}`),""),n=e.returnType?`->${e.returnType}`:"";let r=`function ${e.name}(${t.substring(2)})${n}\nimport ${e.name}`;return e.alias&&(r=`(alias: ${e.alias}) `+r),this.generateHover(r)}generateAttributeHover(e,t){let n=`(circuit member variable) ${t}.${e.name}: ${e.type}`;return e.isStatic&&(n=`(circuit member static constant) ${t}::${e.name}: ${e.type}`),this.generateHover(n)}generateCircuitHover(e){let t;return"string"==typeof e?t=`circuit ${e}`:void 0!==e.alias?(t=`circuit ${e.name}\nimport ${e.name}`,e.alias&&(t=`(alias: ${e.alias}) `+t)):t=`circuit ${e.name}`,this.generateHover(t)}generateFunctionParameterHover(e){const t=`(parameter)${e.isConstant?" const":""} ${e.name}: ${e.type}`;return this.generateHover(t)}generateVariableDefinitionHover(e){return this.generateHover(`${e.declareType} ${e.name}: ${e.type}`)}generateIdentifierStatementForHover(e){return this.generateHover(`const ${e.text}: u32`)}generateConsoleFunctionHover(e){const t=g.default.autocompleteMacros().find((t=>t.label.indexOf(e.type)>-1));return t?this.generateHover(t.detail):null}generateHover(e){return{contents:{language:"leohover",value:e}}}getFunctionKeyNode(e){return c.default.getNamedParentByWidePath(e,["keyword_or_identifier"])}getMethodKeyNode(e){return c.default.getNamedParentByWidePath(e,[["access_member","access_static_member"],["access"]])}getFunctionDefinitionKeyNode(e){if("identifier"===e.type){const t=c.default.getNamedParentByWidePath(e,[["function_declaration"]]);return t&&t.parent&&"circuit_declaration"!==t.parent.type?t:null}return null}getMethodDefinitionKeyNode(e){if("identifier"===e.type){const t=c.default.getNamedParentByWidePath(e,[["function_declaration"]]);return t&&t.parent&&"circuit_declaration"===t.parent.type?t:null}return null}getAttributeAccessKeyNode(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,[["access_member","access_static_member"],["access","access_assignee"]])||c.default.getNamedParentByWidePath(e,[["access_member"]]):null}getAttributeDeclarationKeyNode(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,[["member_variable_declaration","member_constant_declaration"]]):null}getAttributeKeyNodeInCircuitInline(e){return"circuit_variable_identifier"===e.type?e:c.default.getNamedParentByWidePath(e,[["circuit_variable_expression"]])||null}getImportSymbolKeyNode(e){return c.default.getNamedParentByWidePath(e,[["import_symbol"]])}getCircIdentifierInFileDefKeyNode(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,[["circuit_declaration"]]):null}getTypeCircuitKeyNode(e){return c.default.getNamedParentByWidePath(e,[["type_circuit_or_alias"]])}getExpressionCircuitInlineKeyNode(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,[["expression_circuit_inline"]]):null}getFunctionParameterKeyNode(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,["function_parameter"]):null}getVariableDefinitionKeyNode(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,["variables","statement_declaration"]):null}getGlobalConstantDefinitionKeyNode(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,["variables","constant_declaration"]):null}getIdentifierKeyNodeInExpression(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,["expression"]):null}getIdentifierKeyNodeInIdentifierAssignee(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,["identifier_assignee"]):null}getIdentifierKeyNodeInKeywordOrIdentifier(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,["keyword_or_identifier"]):null}getIdentifierKeyNodeInStatementFor(e){return"identifier"===e.type?c.default.getNamedParentByWidePath(e,["statement_for"]):null}getImportStarKeyNode(e){return"*"===e.type?c.default.getNamedParentByWidePath(e,["star"]):null}getTupleAccessKeyNode(e){return"number_positive"===e.type?c.default.getNamedParentByWidePath(e,[["access_tuple"],["access"]]):null}analyzeFunction(e){const t=this.functionsService.findFromLocalAndImported(e.text,this.uri);return t?this.generateCallableHover(t):null}analyzeFunctionDefinition(e){const t=this.cache.get(this.uri);if(!t)return null;const n=[...t.functions],r=c.default.findFunctionByIdentifierNode(n,e);return r?this.generateCallableHover(r):null}analyzeAttributeAccess(e,t){const n=this.dataTypeParser.getCallChainTypeByAccessNode(t.previousSibling,this.uri);if(n&&d.default.isCircuitDataType(n)){const t=this.circuitService.findFromLocalAndImported(n,this.uri);if(t){const r=f.default.findAttributesByNameStrict(t.attributes,e.text)[0];if(r)return this.generateAttributeHover(r,n)}}return null}analyzeAttributeDeclaration(e){const t=this.cache.get(this.uri);if(!t)return null;const n=c.default.findCircuitByIdentifierNode(t.circuits,c.default.getNodeByType(c.default.getNamedParentByType(e,"circuit_declaration"),"identifier")),r=c.default.findCircuitAttributeByIdentifierNode(n.attributes,e);return r?this.generateAttributeHover(r,n.name):null}analyzeAttributeInCircuitInline(e){const t=c.default.getNodeByPath(c.default.getNamedParentByType(e,"expression_circuit_inline"),["identifier"]).text;if(t){const n=this.circuitService.filterFromLocalAndImported(t,this.uri);if(1===n.length){const r=f.default.findAttributesByNameStrict(n[0].attributes,e.text);if(1===r.length&&!r[0].isStatic)return this.generateAttributeHover(r[0],t)}}return null}analyzeImportSymbol(e){let t=this.cache.getAllImportedItemsByType("circuit_declaration",this.uri),n=f.default.findByNameAndAlias(t,e.text);return n?this.generateCircuitHover(n):(t=this.cache.getAllImportedItemsByType("function_declaration",this.uri),n=f.default.findByNameAndAlias(t,e.text),n?this.generateFunctionImportHover(n):null)}analyzeCircuitByIdentifier(e){const t=this.circuitService.findFromLocalAndImported(e.text,this.uri);return t?this.generateCircuitHover(t):null}analyzeTypeAlias(e){const t=this.typeAliasService.findByName(this.uri,e.text);return t?this.generateTypeAliasHover(t):null}generateTypeAliasHover(e){var t;if(e instanceof _.AliasDataType)return this.generateHover(`type ${e.resolvedTypeToString()}`);let n="";return e.alias&&(n=`(alias: ${e.alias}) `),n+=`type ${null===(t=e.aliasDataType)||void 0===t?void 0:t.resolvedTypeToString()}\nimport ${e.name}`,this.generateHover(n)}analyzeFunctionParameter(e){const t=this.cache.get(this.uri);if(!t)return null;const n=l.default.getFunctionAstFromChildNode(e,t);if(n){const t=c.default.findFunctionParameterByIdentifierNode(n.parameters,e);if(t)return this.generateFunctionParameterHover(t)}return null}analyzeVariableDefinition(e){const t=this.cache.get(this.uri);if(!t)return null;const n=l.default.getFunctionAstFromChildNode(e,t);if(n){const t=c.default.findStatementDeclarationByIdentifierNode(n.statementDefinitions,e);return this.generateVariableDefinitionHover(t)}return null}analyzeGlobalConstantDefinition(e){const t=this.cache.get(this.uri);if(!t)return null;const n=c.default.findStatementDeclarationByIdentifierNode(t.constants,e);return this.generateVariableDefinitionHover(n)}analyzeIdentifierOfParamAndDeclaration(e){const t=this.cache.get(this.uri);if(!t)return null;const n=l.default.getFunctionAstFromChildNode(e,t),r=u.default.findParametersByName(n?n.parameters:[],e.text,!0),i=u.default.findStatementDefinitionByName(n?n.statementDefinitions:[],e.text,!0),o=u.default.findStatementDefinitionByName(t.constants,e.text,!0);return 1===[...r,...i,...o].length?r[0]?this.generateFunctionParameterHover(r[0]):i[0]?this.generateVariableDefinitionHover(i[0]):this.generateVariableDefinitionHover(o[0]):null}analyzeIdentifierInKeywordOrIdentifier(e){return p.default.isStaticAccessExpression(c.default.getNamedParentByPath(e,["keyword_or_identifier","expression_postfix"]))?this.analyzeCircuitByIdentifier(e):this.analyzeIdentifierOfParamAndDeclaration(e)}analyzeImportPackageName(e){const t=this.cache.get(this.uri);if(!t)return null;const n=c.default.findImportByChildNode(t.imports,e);if(n&&n.path){if("import_symbol"===e.nextNamedSibling.type||"star"===e.nextNamedSibling.type)return this.generateHover(`import "${n.path}"`);{const t=c.default.getNodesByType(e.nextNamedSibling,"package_name"),r=h.URI.parse(n.path),i=r.fsPath.split(m.sep);return this.generateHover(`import "${r.scheme}:${i.slice(0,i.length-t.length).join(m.sep)}"`)}}return null}analyzeImportStar(e){const t=this.cache.get(this.uri);if(!t)return null;const n=c.default.findImportByChildNode(t.imports,e);return n&&n.path?this.generateHover(`import "${n.path}"`):null}analyzeTupleAccess(e){const t=this.dataTypeParser.getCallChainTypeByAccessNode(e,this.uri);return t?d.default.isCircuitDataType(t)?this.generateCircuitHover(t):this.generateHover(t):null}};r([(0,o.inject)(a.TYPE.Cache),i("design:type",s.default)],v.prototype,"cache",void 0),r([(0,o.inject)(a.TYPE.CircuitService),i("design:type",f.default)],v.prototype,"circuitService",void 0),r([(0,o.inject)(a.TYPE.FunctionsService),i("design:type",u.default)],v.prototype,"functionsService",void 0),r([(0,o.inject)(a.TYPE.TypeAliasService),i("design:type",y.default)],v.prototype,"typeAliasService",void 0),r([(0,o.inject)(a.TYPE.DataTypeParser),i("design:type",d.default)],v.prototype,"dataTypeParser",void 0),v=r([(0,o.injectable)()],v),t.default=v},7414:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ImportServiceFactory=void 0;const a=n(5021),s=n(1017),c=n(6288),u=n(6630),l=n(6920),d=n(5907),f=n(4862),p=n(8318),h=n(7505),m=n(1555),g=n(5862),y=n(5226),_=n(2446),v=n(8976),b=n(8151),E=n(2546),T=n(311),w=n(2936);let S=r=class{constructor(){this.files=[],this.rootDirPath=""}getImportedFiles(){return this.files}static findAny(e,t){return e.find((e=>e.name===t||e.alias===t))}static findType(e,t){return e.find((e=>{var n;return!(void 0===e.aliasDataType&&"circuit_declaration"!==(null===(n=e.node)||void 0===n?void 0:n.type)||e.name!==t&&e.alias!==t)}))}async parseImportNode(e,t){this.rootDirPath=(0,p.dirPathFromFileUri)(t);const n=m.default.getNodeByTypes(e,[d.NODE_TYPES.package,d.NODE_TYPES.packages]);await this.parsePackageNode(n)}pushFileData(e){const t=this.files.findIndex((t=>t.uri===e.uri));-1!==t?this.files[t].items=this.files[t].items.concat(e.items):this.files.push(e)}async parsePackageNode(e){var t,n;let i=g.default.getPackageName(e);if(i===v.STD_PACKAGES)return this.parseStdPackages(e);const o=null===(n=null===(t=this.cache.leoTomlCacheData)||void 0===t?void 0:t.dependencies)||void 0===n?void 0:n[i];o&&(i=r.getPackageNameFromDependency(o));const a=`${this.rootDirPath}${s.sep}${i}.leo`,c=(0,p.checkPathExists)(a),u=`${this.rootDirPath}${s.sep}${i}`,l=(0,p.checkPathExists)(u),d=`${this.rootDirPath.split(s.sep).slice(0,-1).join(s.sep)}${s.sep}imports${s.sep}${i}`,h=(0,p.checkPathExists)(d);if(!c&&!h&&!l)throw new f.DiagnosticError(`Error [EIMP0374006]: Cannot find imported package "${i}" in source files or import directory`,e);if(c&&h)throw new f.DiagnosticError(`Error [EIMP0374000]: conflicting imports found for "${i}"`,e);c&&!h&&await this.parseFilePackageAccess(e,a),!c&&l&&await this.parsePackageFromImports(e,u,!0),!c&&h&&await this.parsePackageFromImports(e,`${d}${s.sep}src`)}parseStdPackages(e){v.default.parseStdPackageImport(e).forEach((e=>this.pushFileData(e)))}async parseFilePackageAccess(e,t){if("packages"===e.type)return void await this.parseMultiplePackageAccess(e,t);const n=g.default.getPackageEntityAccessNode(e);if(n.type===d.NODE_TYPES.package)throw new f.DiagnosticError("Incorrect package access",n);const r=await this.getFileContent(t);if(n.type!==d.NODE_TYPES.star)r.items.push(this.parseImportSymbolNode(e,n,r)),this.pushFileData(r);else{const e=this.parseWholeFile(t);this.pushFileData(e)}}async parseMultiplePackageAccess(e,t){const n=m.default.getSelfNamedChildByTypes(e,["package_name"]),r=g.default.parseMultiImportPackageItems(e);for(const i of r){if(i.hasError())throw new f.DiagnosticError("Invalid package import",i);let r=t.endsWith(".leo")?t:s.join(t,`${n.text}.leo`);switch((0,p.checkPathExists)(r)||(r=s.join(t,"main.leo")),i.type){case d.NODE_TYPES.package:await this.parseChildPackage(i,t);break;case d.NODE_TYPES.packages:await this.parseMultiplePackageAccess(i,t);break;case d.NODE_TYPES.star:this.pushFileData(this.parseWholeFile(r));break;case d.NODE_TYPES.import_symbol:{const t=await this.getFileContent(r);t.items.push(this.parseImportSymbolNode(e,i,t)),this.pushFileData(t);break}}}}async parseChildPackage(e,t){const n=g.default.getPackageName(e),r=(0,p.checkPathExists)(`${t}${s.sep}${n}.leo`),i=(0,p.checkPathExists)(`${t}${s.sep}${n}`);if(r)await this.parseFilePackageAccess(e,`${t}${s.sep}${n}.leo`);else{if(!i)throw new f.DiagnosticError(`File/directory "${n}" not found`,e);await this.parseSubdirectory(e,`${t}${s.sep}${n}`)}}async parseSubdirectory(e,t){const n=g.default.getPackageEntityAccessNode(e);switch(n.type){case d.NODE_TYPES.package:await this.parseChildPackage(n,t);break;case d.NODE_TYPES.packages:await this.parseMultiplePackageAccess(n,t);break;case d.NODE_TYPES.star:case d.NODE_TYPES.import_symbol:case d.NODE_TYPES.multiple:case d.NODE_TYPES.alias:throw new f.DiagnosticError("Invalid import",n)}}async parsePackageFromImports(e,t,n=!1){if("packages"===e.type)return void await this.parseMultiplePackageAccess(e,t);const r=g.default.getPackageEntityAccessNode(e);switch(r.type){case d.NODE_TYPES.package:await this.parseChildPackage(r,t);break;case d.NODE_TYPES.packages:await this.parseMultiplePackageAccess(r,t);break;case d.NODE_TYPES.star:if(n)throw new f.DiagnosticError("Cannot import * from folder",r);{const e=this.parseWholeFile(t+s.sep+"main.leo");this.pushFileData(e)}break;case d.NODE_TYPES.import_symbol:{const n=await this.getFileContent(t+s.sep+"main.leo");n.items.push(this.parseImportSymbolNode(e,r,n)),this.pushFileData(n);break}}}parseImportSymbolNode(e,t,n){const r=g.default.parserImportSymbolNode(t),i=this.parseSymbolInFile(r,n),o=i instanceof w.AliasDataType?i:void 0;return{alias:r.alias,...i,aliasDataType:o}}parseSymbolInFile(e,t){const n=this.circuitParser.parseRoot(t.tree.rootNode,t.uri),r=this.functionParser.parseRoot(t.tree.rootNode,t.uri),i=this.statementsParser.parseRoot(t.tree.rootNode,t.uri),o=this.typeAliasParser.parseRoot(t.tree.rootNode,t.uri),a=g.default.parseSymbolFromFile(e.name,n,r,i,o);if(!a)throw new f.DiagnosticError("Error [EASG0373043]: Symbol doesn't exist in a package",e.node);return a}parseWholeFile(e){const t=this.getFileContentSync(e),n=u.URI.file(e).toString();return t.items.push(...this.circuitParser.parseRoot(t.tree.rootNode,n)),t.items.push(...this.functionParser.parseRoot(t.tree.rootNode,n)),t.items.push(...this.statementsParser.parseRoot(t.tree.rootNode,n)),t.items.push(...this.typeAliasParser.parseRoot(t.tree.rootNode,n).map((e=>({...e,aliasDataType:e})))),t}async getFileContent(e){const t=await(0,p.readFileAsync)(e);return{uri:e,content:t,document:c.TextDocument.create(e,"leo",1,t),tree:this.treeSitterLeo.getParserSync().parse(t),items:[]}}getFileContentSync(e){const t=(0,p.readFile)(e);return{uri:e,content:t,document:c.TextDocument.create(e,"leo",1,t),tree:this.treeSitterLeo.getParserSync().parse(t),items:[]}}getCircuitsNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{imports:e}=r;e.forEach((e=>{m.default.getNodesByType(e.node,"identifier").forEach((r=>{e.items.forEach((e=>{[e.alias,e.name].includes(r.text)&&e.node&&"circuit_declaration"===e.node.type&&m.default.isVisible(r,t)&&n.push({start:r.startPosition,end:r.endPosition})}))}))}))}return n}getFunctionsNameRange(e,t){const n=[],r=this.cache.get(e);if(r){const{imports:e}=r;e.forEach((e=>{m.default.getNodesByType(e.node,"identifier").forEach((r=>{e.items.forEach((e=>{[e.alias,e.name].includes(r.text)&&e.node&&"function_declaration"===e.node.type&&m.default.isVisible(r,t)&&n.push({start:r.startPosition,end:r.endPosition})}))}))}))}return n}static combineFileImports(e){const t=[];return e.forEach((n=>{if(t.find((e=>e.path===n.path)))return;const r=e.filter((e=>e.path===n.path));if(r.length>1){const e={...n,items:[]},i=r.map((e=>e.items)).reduce(((e,t)=>(e.push(...t),e)),[]).reduce(((e,t)=>(e.find((e=>e.name===t.name&&(e.alias||"")==(t.alias||"")))||e.push(t),e)),[]);e.items=i,t.push(e)}else t.push(n)})),t}static getImportedItemsByType(e,t){if(!e)return[];const n=r.combineFileImports(e.imports),i=[];return n.forEach((e=>{const n=e.items.filter((e=>{var n;return(null===(n=e.node)||void 0===n?void 0:n.type)===t}));i.push(...n)})),i}static getPackageNameFromDependency(e){return`${e.author}-${e.package}@${e.version}`}};S=r=i([(0,a.injectable)()],S),t.default=S;let P=class{create(){const e=new this.ImportService;return e.treeSitterLeo=this.treeSitterLeo,e.cache=this.cache,e.circuitParser=this.circuitParser,e.functionParser=this.functionParser,e.statementsParser=this.statementsParser,e.typeAliasParser=this.typeAliasParser,e}};i([(0,a.inject)(l.TYPE.TreeSitterLeo),o("design:type",h.default)],P.prototype,"treeSitterLeo",void 0),i([(0,a.inject)(l.TYPE.Cache),o("design:type",b.default)],P.prototype,"cache",void 0),i([(0,a.inject)(l.TYPE.CircuitParser),o("design:type",y.default)],P.prototype,"circuitParser",void 0),i([(0,a.inject)(l.TYPE.FunctionParser),o("design:type",_.default)],P.prototype,"functionParser",void 0),i([(0,a.inject)(l.TYPE.StatementDeclarationParser),o("design:type",E.default)],P.prototype,"statementsParser",void 0),i([(0,a.inject)(l.TYPE.TypeAliasParser),o("design:type",T.default)],P.prototype,"typeAliasParser",void 0),i([(0,a.inject)(l.TYPE.ImportService),o("design:type",Object)],P.prototype,"ImportService",void 0),P=i([(0,a.injectable)()],P),t.ImportServiceFactory=P},6984:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(6630),s=n(6920),c=n(8151);let u=class{analyze(e){const t=this.cache.getInputs(e);return t?t.diagnostics:[]}getAssociatedFiles(e){const t=[];return a.URI.parse(e).toString()===this.cache.mainInputFileUri&&t.push(this.cache.mainFileUri),[...new Set(t)]}};r([(0,o.inject)(s.TYPE.Cache),i("design:type",c.default)],u.prototype,"cache",void 0),u=r([(0,o.injectable)()],u),t.default=u},2153:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(2374),s=n(6288),c=n(5947),u=n(4835),l=n(6090),d=n(6984),f=n(9767),p=n(6354),h=n(8784),m=n(8829),g=n(5471),y=n(2853),_=n(4272),v=n(7505),b=n(8151),E=n(6630);let T=class{constructor(e,t,n,r,i,o,c,u,l,d,f,p,m){this.connection=e,this.treeSitterLeo=t,this.treeSitterInput=n,this.cacheService=r,this.diagnosticService=i,this.inputDiagnosticService=o,this.settingsService=c,this.completionService=u,this.coloringService=l,this.leoWasmApi=d,this.definitionService=f,this.hoverService=p,this.cache=m,this.documents=new a.TextDocuments(s.TextDocument),this.sendDiagnosticsDebouncer=(0,h.debounce)(this.sendDiagnostics.bind(this),200,{maxWait:1e3}),this.setLeoCacheDebouncer=(0,h.debounce)(this.cacheService.setLeoCacheDocument.bind(this.cacheService),200,{maxWait:1e3,leading:!0}),this.setInputCacheDebouncer=(0,h.debounce)(this.cacheService.setInputCacheDocument.bind(this.cacheService),200,{maxWait:1e3,leading:!0})}async onInitialize(e){var t;const n=await this.treeSitterLeo.getParser(),r=await this.treeSitterInput.getParser();if(await this.leoWasmApi.init(),!n.getLanguage())throw new Error("Parser leo not started");if(!r.getLanguage())throw new Error("Parser leo inputs not started");const i=e.capabilities;this.settingsService.clientInfo=null!==(t=e.clientInfo)&&void 0!==t?t:null,this.settingsService.hasConfigurationCapability=!(!i.workspace||!i.workspace.configuration),this.settingsService.hasWorkspaceFolderCapability=!(!i.workspace||!i.workspace.workspaceFolders),this.settingsService.hasDiagnosticRelatedInformationCapability=!!(i.textDocument&&i.textDocument.publishDiagnostics&&i.textDocument.publishDiagnostics.relatedInformation);const o={capabilities:{definitionProvider:!0,hoverProvider:!0,textDocumentSync:a.TextDocumentSyncKind.Incremental,completionProvider:{resolveProvider:!1,triggerCharacters:["."]}}};return this.settingsService.hasWorkspaceFolderCapability&&(o.capabilities.workspace={workspaceFolders:{supported:!0,changeNotifications:!0}}),await this.cacheService.analyzeWorkspace(e.rootPath),o}async onInitialized(){this.settingsService.hasConfigurationCapability&&this.connection.client.register(a.DidChangeConfigurationNotification.type,void 0)}onDidChangeConfiguration(e){this.settingsService.hasConfigurationCapability?this.settingsService.documentSettings.clear():this.settingsService.globalSettings=e.settings.leo||this.settingsService.defaultSettings;try{this.documents.all().forEach(this.validateTextDocument.bind(this))}catch(e){this.connection.console.error(e.message),this.connection.console.error(e.stack)}}async onCompletion(e){try{if(!this.settingsService.globalSettings.completion)return[];if(e.textDocument.uri.endsWith(".leo"))return this.completionService.search(e)}catch(e){this.connection.console.error(e.message),this.connection.console.error(e.stack)}return[]}onDidClose(e){this.settingsService.documentSettings.delete(e.document.uri)}async onDidSave(e){try{e.document.uri.endsWith(".leo")&&await this.cacheService.setLeoCacheDocument(e.document),(e.document.uri.endsWith(".in")||e.document.uri.endsWith(".state"))&&this.cacheService.setInputCacheDocument(e.document),this.validateTextDocument(e.document)}catch(e){this.connection.console.error(e.message),this.connection.console.error(e.stack)}}async onDidChangeContent(e){try{e.document.uri.endsWith(".leo")&&await this.setLeoCacheDebouncer(e.document),(e.document.uri.endsWith(".in")||e.document.uri.endsWith(".state"))&&this.setInputCacheDebouncer(e.document),this.validateTextDocument(e.document)}catch(e){this.connection.console.error(e.message),this.connection.console.error(e.stack)}}async getDocumentSettings(e){if(!this.settingsService.hasConfigurationCapability)return Promise.resolve(this.settingsService.globalSettings);let t=this.settingsService.documentSettings.get(e);return t||(t=await this.connection.workspace.getConfiguration({scopeUri:e,section:"leo"}),t&&this.settingsService.documentSettings.set(e,t)),Promise.resolve({...this.settingsService.globalSettings,...t})}async validateTextDocument(e){if((await this.getDocumentSettings(e.uri)).validate){const{uri:t}=e;this.sendDiagnosticsDebouncer(t)}}onHover(e){try{return e.textDocument.uri.endsWith(".leo")?this.hoverService.generate(e):null}catch(e){return this.connection.console.error(e.message),this.connection.console.error(e.stack),null}}onColorizeRequest(e){try{return e.uri.endsWith(".leo")?this.coloringService.getScopes(e):{uri:e.uri,scopes:{}}}catch(t){return this.connection.console.error(t.message),this.connection.console.error(t.stack),{uri:e.uri,scopes:{}}}}sendDiagnostics(e){let t=[];try{e.endsWith(".leo")&&(this.sendColorizeRequest(e),t=this.diagnosticService.analyze(e)),e.endsWith(".in")&&(t=this.inputDiagnosticService.analyze(e),this.inputDiagnosticService.getAssociatedFiles(e).forEach((e=>{this.sendDiagnostics(e)}))),e.endsWith(".toml")&&this.cacheService.analyzeWorkspace(this.cache.rootFolderFsPath).then((()=>this.sendDiagnostics(this.cache.mainFileUri)))}catch(e){this.connection.console.error(e.message),this.connection.console.error(e.stack)}this.connection.sendDiagnostics({uri:e,diagnostics:t})}sendColorizeRequest(e){try{const t=this.cache.get(e);if(!t)return;const n=this.coloringService.getScopes({uri:e,visibleRanges:[{start:0,end:t.textDocument.lineCount+1}]}),r=new a.RequestType("ColoringService.colorize");this.connection.sendRequest(r,n)}catch(e){this.connection.console.error(e.message),this.connection.console.error(e.stack)}}onDefinition(e){try{return this.definitionService.resolveGoToDefinition(e)}catch(e){return this.connection.console.error(e.message),this.connection.console.error(e.stack),null}}async onDidChangeWatchedFiles(e){try{for(let t=0;t<e.changes.length;t++){const n=e.changes[t];E.URI.parse(n.uri).toString()===this.cache.leoTomlUri&&(await this.cacheService.analyzeWorkspace(this.cache.rootFolderFsPath),this.sendDiagnostics(this.cache.mainFileUri))}}catch(e){this.connection.console.error(e.message),this.connection.console.error(e.stack)}}};T=r([(0,o.injectable)(),i("design:paramtypes",[Object,v.default,_.default,c.default,l.default,d.default,f.default,u.default,p.default,m.default,g.default,y.default,b.default])],T),t.default=T},3234:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021);let a=class{constructor(e){this.connection=e}log(e){this.connection.console.log(e)}error(e){this.connection.console.error(e)}};a=r([(0,o.injectable)(),i("design:paramtypes",[Object])],a),t.default=a},13:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2880),i=n(5513),o=n(4835);class a{static autocompleteMacros(){const e=[],t="The first argument a macro receives is a format string. This must be a string literal.The power of the formatting string is in the {}s contained.Additional parameters passed to a macro replace the {}s within the formatting string in the order given.",n="(message: string, ...parameters?: any)";return e.push({label:"console.log",detail:"console.log"+n,documentation:"Directly calls the println! macro in rust.."+t,insertText:'console.log(${1|"","{}"\\, |});',insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}),e.push({label:"console.error",detail:"console.error"+n,documentation:"Prints the error to console."+t,insertText:'console.error(${1|"","{}"\\, |});',insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}),e.push({label:"console.assert",detail:"console.assert(expression: bool)",documentation:"The expression inside of a console.assert must evaluate to a boolean. The assert function is most commonly used in testing.",insertText:"console.assert($1);",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}),e}static autocompleteMacrosSublime(){const e=[],t="The first argument a macro receives is a format string. This must be a string literal.The power of the formatting string is in the {}s contained.Additional parameters passed to a macro replace the {}s within the formatting string in the order given.",n="(message: string)",o="(message: string, ...parameters?: any)";return e.push({label:"console.log",detail:"console.log"+n,documentation:"Directly calls the println! macro in rust.."+t,insertText:'console.log("$1");',insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}),e.push({label:"console.log",detail:"console.log"+o,documentation:"Directly calls the println! macro in rust.."+t,insertText:'console.log("{}", $1);',insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}),e.push({label:"console.error",detail:"console.error"+n,documentation:"Prints the error to console."+t,insertText:'console.error("$1");',insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}),e.push({label:"console.error",detail:"console.error"+o,documentation:"Prints the error to console."+t,insertText:'console.error("{}", $1);',insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}),e.push({label:"console.assert",detail:"console.assert(expression: bool)",documentation:"The expression inside of a console.assert must evaluate to a boolean. The assert function is most commonly used in testing.",insertText:"console.assert($1);",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}),e}static autocompleteConst(){return[{label:"const",detail:"keyword for variable definition",documentation:"Constant variables do not define a variable in the constraint system. Their value is constrained in the circuit on computation with an allocated variable. Constant variables cannot be mutable. They have the same functionality as const variables in other languages.",insertText:"const $1 = $2;",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file,i.CompletionScope.functionBody,i.CompletionScope.methodBody]}]}static autocompleteLet(){return[{label:"let",detail:"keyword for variable definition",documentation:"Allocated variables define private variables in the constraint system. Their value is constrained in the circuit on initialization.",insertText:"let $1 = $2;",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}]}static autocompleteReturn(){return[{label:"return",detail:"statement",documentation:"A return statement is used to end the execution of the function call and “returns” the result (value of the expression following the return keyword) to the caller. The statements after the return statements are not executed.",insertText:"return${1| , ( \\,  )|};",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}]}static autocompleteReturnSublime(){return[{label:"return",detail:"return [statement];",documentation:"A return statement is used to end the execution of the function call and “returns” the result (value of the expression following the return keyword) to the caller. The statements after the return statements are not executed.",insertText:"return $1;",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]},{label:"return tuple",detail:"return ([statement], [statement]);",documentation:"A return statement is used to end the execution of the function call and “returns” the result (value of the expression following the return keyword) to the caller. The statements after the return statements are not executed.",insertText:"return ($1, $2);",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody]}]}static autocompleteKeyword(){const e=[];return e.push({label:"true",kind:r.CompletionItemKind.Keyword,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reservedKeyword+"true"}),e.push({label:"false",kind:r.CompletionItemKind.Keyword,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reservedKeyword+"false"}),e.push({label:"Self",kind:r.CompletionItemKind.Keyword,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reservedKeyword+"Self"}),e.push({label:"self",kind:r.CompletionItemKind.Keyword,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reservedKeyword+"self"}),e}static autocompleteDateType(){const e=[];return e.push({label:"address",detail:"data type",documentation:"Addresses are defined to enable compiler-optimized routines for parsing and operating over addresses. These semantics will be accompanied by a standard library in a future sprint.",kind:r.CompletionItemKind.TypeParameter,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionParameters,i.CompletionScope.functionReturnType,i.CompletionScope.functionBody,i.CompletionScope.methodBody,i.CompletionScope.circuitBody],sortText:o.CompletionSortOrder.reservedKeyword+"address"}),e.push({label:"bool",detail:"data type",documentation:"A boolean data type is declared with the bool keyword and can only take the values true or false.",kind:r.CompletionItemKind.TypeParameter,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionParameters,i.CompletionScope.functionReturnType,i.CompletionScope.functionBody,i.CompletionScope.methodBody,i.CompletionScope.circuitBody],sortText:o.CompletionSortOrder.reservedKeyword+"bool"}),e.push({label:"field",detail:"data type",kind:r.CompletionItemKind.TypeParameter,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionParameters,i.CompletionScope.functionReturnType,i.CompletionScope.functionBody,i.CompletionScope.methodBody,i.CompletionScope.circuitBody],sortText:o.CompletionSortOrder.reservedKeyword+"field"}),e.push({label:"group",detail:"data type",documentation:"An affine point on the elliptic curve passed into the Leo compiler forms a group. Leo supports this set as a primitive data type.",kind:r.CompletionItemKind.TypeParameter,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionParameters,i.CompletionScope.functionReturnType,i.CompletionScope.functionBody,i.CompletionScope.methodBody,i.CompletionScope.circuitBody],sortText:o.CompletionSortOrder.reservedKeyword+"group"}),["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128"].forEach((t=>{e.push({label:t,detail:"data type",documentation:`The ${t.slice(1)}-bit ${"u"===t.slice(0,1)?"un":""}signed integer type.`,kind:r.CompletionItemKind.TypeParameter,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionParameters,i.CompletionScope.functionReturnType,i.CompletionScope.functionBody,i.CompletionScope.methodBody,i.CompletionScope.circuitBody],sortText:o.CompletionSortOrder.reservedKeyword+t})})),e}static autocompleteIfStatement(){const e=[];return e.push({label:"Ternary if Expression",filterText:"if",detail:"[cond] ? [first] : [second];",documentation:"Ternary [cond] ? [first] : [second]; expressions are the cheapest form of conditional. Since first and second are expressions, we can resolve their values before proceeding execution. In the underlying circuit, this is a single bit multiplexer.",insertText:"$1 ? $2 : $3;",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reservedKeyword+"if"}),e.push({label:"Conditional if Statement",filterText:"if",detail:"if [cond] { [first] }",documentation:"Leo supports the traditional if [cond] { [first] } else { [second] } which can be chained using else if. Since first and second are one or more statements, they resolve to separate circuits which will all be evaluated. In the underlying circuit this can be thought of as a demultiplexer.",insertText:"if $1 {\n$2\n}",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reservedKeyword+"if"}),e.push({label:"Conditional if-else Statement",filterText:"if",detail:"if [cond] { [first] } else { [second] }",documentation:"Leo supports the traditional if [cond] { [first] } else { [second] } which can be chained using else if. Since first and second are one or more statements, they resolve to separate circuits which will all be evaluated. In the underlying circuit this can be thought of as a demultiplexer.",insertText:"if $1 {\n$2\n} else {\n $3 \n}",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reservedKeyword+"if"}),e}static autocompleteForStatement(){return[{label:"for Statement",filterText:"for",detail:"for [iter] [from]..[to] { [statement] }",documentation:"A for loop is a repetition control structure that allows you to efficiently write a loop that needs to execute a specific number of times.",insertText:"for $1 in $2..$3 {\n$4\n}",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.functionBody,i.CompletionScope.methodBody],sortText:o.CompletionSortOrder.reservedKeyword+"for"}]}static autocompleteFunctionDefinition(){return[{label:"function definition",filterText:"function",detail:"function [name] ([parameter]) -> [return type] {[expression]}",insertText:"function $1 ($2) -> $3 {\n$4\n}",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file,i.CompletionScope.circuitBody],sortText:o.CompletionSortOrder.reservedKeyword+"function"}]}static autocompleteTestFunctionDefinition(e){const t=e.match(/@t|@te|@tes|@test/);return[{label:"test function definition",filterText:"test",detail:"@test function [name] () {[expression]}",insertText:`\${TM_CURRENT_LINE/.*//is}${t&&0===t.index?"test":"@test"}\${1|(), |} \nfunction $2 () {\n\t$0\n}`,insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file],sortText:o.CompletionSortOrder.reservedKeyword+"test_function"}]}static autocompleteTestFunctionDefinitionSublime(e){const t=e.match(/@t|@te|@tes|@test/),n=t&&0===t.index?"test":"@test";return[{label:"test function definition",filterText:"test",detail:"@test function [name] () {[expression]}",insertText:`\${TM_CURRENT_LINE/.*//is}${n}\nfunction $2 () {\n\t$0\n}`,insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file],sortText:o.CompletionSortOrder.reservedKeyword+"test_function"},{label:"test function definition with context",filterText:"test",detail:"@test([context]) function [name] () {[expression]}",insertText:`\${TM_CURRENT_LINE/.*//is}${n}($1)\nfunction $2 () {\n\t$0\n}`,insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file],sortText:o.CompletionSortOrder.reservedKeyword+"test_function"}]}static autocompleteCircuitDefinition(){return[{label:"circuit definition",filterText:"circuit",detail:"circuit [name] {[members]}",insertText:"circuit $1 {\n$2\n}",documentation:"Circuits in Leo are similar to classes in object oriented languages. Circuits are defined above functions in a Leo program. Circuits can have one or more members.",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file],sortText:o.CompletionSortOrder.reservedKeyword+"circuit"}]}static autocompleteImportDefinition(){const e=[];return e.push({label:"import definition",filterText:"import",detail:"import [file/package].[function];",insertText:"import $1.$2;",documentation:"Leo supports importing functions and circuits by name into the current file.",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file],sortText:o.CompletionSortOrder.reservedKeyword+"import"}),e.push({label:"import alias definition",filterText:"import",detail:"import [file/package].[function] as [alias];",insertText:"import $1.$2 as $3;",documentation:"Leo supports importing functions and circuits by name into the current file.",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file],sortText:o.CompletionSortOrder.reservedKeyword+"import"}),e.push({label:"import all definition",filterText:"import",detail:"import [file/package].*;",insertText:"import $1.*;",documentation:"Leo supports importing functions and circuits by name into the current file.",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file],sortText:o.CompletionSortOrder.reservedKeyword+"import"}),e.push({label:"import multiple definition",filterText:"import",detail:"import [file/package].([function]);",insertText:"import $1.(\n\t$2,\n);",documentation:"Leo supports importing functions and circuits by name into the current file.",insertTextFormat:r.InsertTextFormat.Snippet,kind:r.CompletionItemKind.Snippet,deprecated:!1,preselect:!1,scopes:[i.CompletionScope.file],sortText:o.CompletionSortOrder.reservedKeyword+"import"}),e}static autocomplete(e,t=""){if("@"===e)return[];const n=[...a.autocompleteKeyword(),...a.autocompleteConst(),...a.autocompleteLet(),...a.autocompleteDateType(),...a.autocompleteIfStatement(),...a.autocompleteForStatement(),...a.autocompleteFunctionDefinition(),...a.autocompleteCircuitDefinition(),...a.autocompleteImportDefinition()];return"Sublime Text LSP"===t?(n.push(...a.autocompleteReturnSublime()),n.push(...a.autocompleteMacrosSublime()),n.push(...a.autocompleteTestFunctionDefinitionSublime(e))):(n.push(...a.autocompleteReturn()),n.push(...a.autocompleteMacros()),n.push(...a.autocompleteTestFunctionDefinition(e))),n}static isConsoleFunction(e){return"log"===e.type||"debug"===e.type||"error"===e.type||"assert"===e.type}}t.default=a},9767:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021);let a=class{constructor(){this.hasConfigurationCapability=!1,this.hasWorkspaceFolderCapability=!1,this.hasDiagnosticRelatedInformationCapability=!1,this.clientInfo=null,this.defaultSettings={validate:!0,completion:!0,maxNumberOfProblems:100},this.documentSettings=new Map,this.globalSettings=this.defaultSettings}};a=r([(0,o.injectable)(),i("design:paramtypes",[])],a),t.default=a},8976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STD_PACKAGES=void 0;const r=n(2374),i=n(5907),o=n(5513),a=n(4835),s=n(5862),c=n(1555);t.STD_PACKAGES="std";const u={unstable:{blake2s:{items:[{name:"Blake2s",node:{type:"circuit_declaration"},attributes:[],uri:"",range:{start:{line:0,character:0},end:{line:0,character:0}}}],uri:"",content:"",document:{},tree:{}}}};class l{static parseStdPackageImport(e){const t=[],n=[],i=s.default.generatePathFromImportNode(e),o={std:{...l.getStdPackagesConfig()}};return i.forEach((e=>{const i=l.parseImportPath(e,o);if(i.hasError)return n.push(r.Diagnostic.create(c.default.range(i.node),i.message,r.DiagnosticSeverity.Error));t.push(i.importedFile)})),n.length&&t.push({uri:"",content:"",document:{},tree:{},items:[],errors:[...n]}),t}static parseImportPath(e,t){var n;const[r,...o]=e;if(r.type===i.NODE_TYPES.package_name&&t[r.text])return l.parseImportPath(o,t[r.text]);if(r.type===i.NODE_TYPES.package_name)return{hasError:!0,message:`No package ${r.text} in leo-std.`,node:r};if(r.type===i.NODE_TYPES.star&&t.items)return{importedFile:t};if(r.type===i.NODE_TYPES.star){return{hasError:!0,message:`Error [EIMP0374008]: failed to find the stdlib import file '${(null===(n=r.parent)||void 0===n?void 0:n.type)===i.NODE_TYPES.package&&"std"!==r.parent.text.replace(/\.\*/,"")?r.parent.text.replace(/\.\*/,""):""}.leo'`,node:r}}if(r.type===i.NODE_TYPES.import_symbol&&t.items){const e=s.default.parserImportSymbolNode(r),n=t.items.find((t=>e.name===t.name));if(n){n.alias=e.alias;return{importedFile:{...t,items:[n]}}}return{hasError:!0,message:`Error [EASG0373043]: No package ${e.name} in leo-std.`,node:e.node}}return{hasError:!0,message:"Error[EIMP0374008]: Failed to find the stdlib import file '.leo'",node:r}}static getStdPackagesConfig(){return u}static autocompleteStdPackageImport(e){const t=[],n=e.replace(/std\./,"").split("."),i=l.getStdPackagesConfig(),s=[];switch(n.length){case 1:s.push(...Object.keys(i));break;case 2:{const e=i[n[0]];e&&s.push(...Object.keys(e));break}case 3:{const e=i[n[0]][n[1]];e&&s.push(...e.items);break}}return s.forEach((e=>{var i,s;"object"==typeof e&&(null===(i=e.name)||void 0===i?void 0:i.match(n[n.length-1]))?"function_declaration"===(null===(s=e.node)||void 0===s?void 0:s.type)?t.push({label:e.name||"",kind:r.CompletionItemKind.Function,detail:"",preselect:!0,documentation:e.documentation,scopes:[o.CompletionScope.file,o.CompletionScope.import],sortText:a.CompletionSortOrder.importItem}):t.push({label:e.name||"",kind:r.CompletionItemKind.Class,detail:"Circuit",preselect:!0,documentation:e.name,scopes:[o.CompletionScope.file,o.CompletionScope.import],sortText:a.CompletionSortOrder.importItem}):e.match(n[n.length-1])&&t.push({label:e,kind:r.CompletionItemKind.File,detail:"",preselect:!0,documentation:e,scopes:[o.CompletionScope.file,o.CompletionScope.import],sortText:a.CompletionSortOrder.importPath})})),t}}t.default=l},2431:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(6920),s=n(8151),c=n(2936);let u=class{findByName(e,t,n=!0){var r;if(!t)return null;const i=(null===(r=this.cache.stdPreludeData)||void 0===r?void 0:r.typesAliases.find((e=>n?e.name===t:-1!==e.name.indexOf(t))))||null;if(i)return i;const o=this.cache.get(e);if(!o)return null;let a=o.typesAliases.find((e=>n?e.name===t:-1!==e.name.indexOf(t)))||null;return a||(a=o.imports.map((e=>e.items)).flat().find((e=>{var r;return n?e.resolvedType&&e.name===t:e.resolvedType&&-1!==(null===(r=e.name)||void 0===r?void 0:r.indexOf(t))}))||null),a}findByNameType(e,t){var n;const r=this.findByName(e,t);return r instanceof c.AliasDataType?r.resolvedTypeToString():r&&"object"==typeof r?(null===(n=r.aliasDataType)||void 0===n?void 0:n.resolvedTypeToString())||t:r}compareTypes(e,t,n){var r,i;const o=null!==(r=this.findByNameType(e,t))&&void 0!==r?r:t,a=null!==(i=this.findByNameType(e,n))&&void 0!==i?i:n;return{isEqual:o===a,resolvedFirstType:o,resolvedSecondType:a}}};r([(0,o.inject)(a.TYPE.Cache),i("design:type",s.default)],u.prototype,"cache",void 0),u=r([(0,o.injectable)()],u),t.default=u},2573:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5021),a=n(6288),s=n(6920),c=n(7505),u=n(5226),l=n(2446),d=n(2546),f=n(311),p=n(3234),h=n(555),m=n(8151);let g=class{parseStdPrelude(){const e=this.treeSitterLeo.getParserSync(),t={textDocument:a.TextDocument.create("stdlib","leo",1,""),tree:e.parse(""),imports:[],circuits:[],records:[],functions:[],constants:[],typesAliases:[]};return h.default.forEach((n=>{const r=e.parse(n),i=this.typeAliasParser.parseRoot(r.rootNode,t.textDocument.uri);t.typesAliases.push(...i);const o=this.statementDeclarationParser.parseRoot(r.rootNode,t.textDocument.uri);t.constants.push(...o);const a=this.functionParser.parseRoot(r.rootNode,t.textDocument.uri);t.functions.push(...a);const s=this.circuitParser.parseRoot(r.rootNode,t.textDocument.uri);t.circuits.push(...s)})),this.loggerService.log(`\n      [StdPreludeService][parseStdPrelude]: \n          Found circuits: ${t.circuits.length};\n          Found functions: ${t.functions.length};\n          Found constants: ${t.constants.length};\n          Found typesAliases: ${t.typesAliases.length};\n      `),t}findType(e){const{circuits:t,typesAliases:n}=this.cache.stdPreludeData;return t.find((t=>t.name===e))||n.find((t=>t.name===e))||null}};r([(0,o.inject)(s.TYPE.TreeSitterLeo),i("design:type",c.default)],g.prototype,"treeSitterLeo",void 0),r([(0,o.inject)(s.TYPE.CircuitParser),i("design:type",u.default)],g.prototype,"circuitParser",void 0),r([(0,o.inject)(s.TYPE.FunctionParser),i("design:type",l.default)],g.prototype,"functionParser",void 0),r([(0,o.inject)(s.TYPE.StatementDeclarationParser),i("design:type",d.default)],g.prototype,"statementDeclarationParser",void 0),r([(0,o.inject)(s.TYPE.TypeAliasParser),i("design:type",f.default)],g.prototype,"typeAliasParser",void 0),r([(0,o.inject)(s.TYPE.LoggerService),i("design:type",p.default)],g.prototype,"loggerService",void 0),r([(0,o.inject)(s.TYPE.Cache),i("design:type",m.default)],g.prototype,"cache",void 0),g=r([(0,o.injectable)()],g),t.default=g},5606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="circuit address {\n    @CoreFunction(address_to_bits_le)\n    function to_bits_le(self) -> [bool; 256] {\n        return [false; 256];\n    }\n\n    @CoreFunction(address_from_bits_le)\n    function from_bits_le(bits: [bool; 256]) -> address {\n        return aleo1qnr4dkkvkgfqph0vzc3y6z2eu975wnpz2925ntjccd5cfqxtyu8sta57j8;\n    }\n\n    @CoreFunction(address_to_bytes_le)\n    function to_bytes_le(self) -> [u8; 32] {\n        return [0u8; 32];\n    }\n\n    @CoreFunction(address_from_bytes_le)\n    function from_bytes_le(bytes: [u8; 32]) -> address {\n        return aleo1qnr4dkkvkgfqph0vzc3y6z2eu975wnpz2925ntjccd5cfqxtyu8sta57j8;\n    }\n\n    @CoreFunction(address_to_bits_be)\n    function to_bits_be(self) -> [bool; 256] {\n        return [false; 256];\n    }\n\n    @CoreFunction(address_from_bits_be)\n    function from_bits_be(bits: [bool; 256]) -> address {\n        return aleo1qnr4dkkvkgfqph0vzc3y6z2eu975wnpz2925ntjccd5cfqxtyu8sta57j8;\n    }\n\n    @CoreFunction(address_to_bytes_be)\n    function to_bytes_be(self) -> [u8; 32] {\n        return [0u8; 32];\n    }\n\n    @CoreFunction(address_from_bytes_be)\n    function from_bytes_be(bytes: [u8; 32]) -> address {\n        return aleo1qnr4dkkvkgfqph0vzc3y6z2eu975wnpz2925ntjccd5cfqxtyu8sta57j8;\n    }\n}"},7896:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="circuit bool {\n    @CoreFunction(bool_to_bits_le)\n    function to_bits_le(self) -> [bool; 1] {\n        return [false; 1];\n    }\n\n    @CoreFunction(bool_from_bits_le)\n    function from_bits_le(bits: [bool; 1]) -> bool {\n        return false;\n    }\n\n    @CoreFunction(bool_to_bytes_le)\n    function to_bytes_le(self) -> [u8; 1] {\n        return [0u8; 1];\n    }\n\n    @CoreFunction(bool_from_bytes_le)\n    function from_bytes_le(bytes: [u8; 1]) -> bool {\n        return false;\n    }\n\n    @CoreFunction(bool_to_bits_be)\n    function to_bits_be(self) -> [bool; 1] {\n        return [false; 1];\n    }\n\n    @CoreFunction(bool_from_bits_be)\n    function from_bits_be(bits: [bool; 1]) -> bool {\n        return false;\n    }\n\n    @CoreFunction(bool_to_bytes_be)\n    function to_bytes_be(self) -> [u8; 1] {\n        return [0u8; 1];\n    }\n\n    @CoreFunction(bool_from_bytes_be)\n    function from_bytes_be(bytes: [u8; 1]) -> bool {\n        return false;\n    }\n}"},3241:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="circuit field {\n    @CoreFunction(field_to_bits_le)\n    function to_bits_le(self) -> [bool; 253] {\n        return [false; 253];\n    }\n\n    @CoreFunction(field_from_bits_le)\n    function from_bits_le(bits: [bool; 253]) -> field {\n        return 0field;\n    }\n\n    @CoreFunction(field_to_bytes_le)\n    function to_bytes_le(self) -> [u8; 32] {\n        return [0u8; 32];\n    }\n\n    @CoreFunction(field_from_bytes_le)\n    function from_bytes_le(bytes: [u8; 32]) -> field {\n        return 0field;\n    }\n\n    @CoreFunction(field_to_bits_be)\n    function to_bits_be(self) -> [bool; 253] {\n        return [false; 253];\n    }\n\n    @CoreFunction(field_from_bits_be)\n    function from_bits_be(bits: [bool; 253]) -> field {\n        return 0field;\n    }\n\n    @CoreFunction(field_to_bytes_be)\n    function to_bytes_be(self) -> [u8; 32] {\n        return [0u8; 32];\n    }\n\n    @CoreFunction(field_from_bytes_be)\n    function from_bytes_be(bytes: [u8; 32]) -> field {\n        return 0field;\n    }\n}"},4705:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="circuit group {\n    @CoreFunction(group_to_bits_le)\n    function to_bits_le(self) -> [bool; 506] {\n        return [false; 506];\n    }\n\n    @CoreFunction(group_from_bits_le)\n    function from_bits_le(bits: [bool; 506]) -> group {\n        return 0group;\n    }\n\n    @CoreFunction(group_to_bytes_le)\n    function to_bytes_le(self) -> [u8; 64] {\n        return [0u8; 64];\n    }\n\n    @CoreFunction(group_from_bytes_le)\n    function from_bytes_le(bytes: [u8; 64]) -> group {\n        return 0group;\n    }\n\n    @CoreFunction(group_to_bits_be)\n    function to_bits_be(self) -> [bool; 506] {\n        return [false; 506];\n    }\n\n    @CoreFunction(group_from_bits_be)\n    function from_bits_be(bits: [bool; 506]) -> group {\n        return 0group;\n    }\n\n    @CoreFunction(group_to_bytes_be)\n    function to_bytes_be(self) -> [u8; 64] {\n        return [0u8; 64];\n    }\n\n    @CoreFunction(group_from_bytes_be)\n    function from_bytes_be(bytes: [u8; 64]) -> group {\n        return 0group;\n    }\n}"},5720:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="circuit i128 {\n    @CoreFunction(i128_to_bits_le)\n    function to_bits_le(self) -> [bool; 128] {\n        return [false; 128];\n    }\n\n    @CoreFunction(i128_from_bits_le)\n    function from_bits_le(bits: [bool; 128]) -> i128 {\n        return 0i128;\n    }\n\n    @CoreFunction(i128_to_bytes_le)\n    function to_bytes_le(self) -> [u8; 16] {\n        return [0u8; 16];\n    }\n\n    @CoreFunction(i128_from_bytes_le)\n    function from_bytes_le(bytes: [u8; 16]) -> i128 {\n        return 0i128;\n    }\n\n    @CoreFunction(i128_to_bits_be)\n    function to_bits_be(self) -> [bool; 128] {\n        return [false; 128];\n    }\n\n    @CoreFunction(i128_from_bits_be)\n    function from_bits_be(bits: [bool; 128]) -> i128 {\n        return 0i128;\n    }\n\n    @CoreFunction(i128_to_bytes_be)\n    function to_bytes_be(self) -> [u8; 16] {\n        return [0u8; 16];\n    }\n\n    @CoreFunction(i128_from_bytes_be)\n    function from_bytes_be(bytes: [u8; 16]) -> i128 {\n        return 0i128;\n    }\n}"},9496:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="circuit i16 {\n    @CoreFunction(i16_to_bits_le)\n    function to_bits_le(self) -> [bool; 16] {\n        return [false; 16];\n    }\n\n    @CoreFunction(i16_from_bits_le)\n    function from_bits_le(bits: [bool; 16]) -> i16 {\n        return 0i16;\n    }\n\n    @CoreFunction(i16_to_bytes_le)\n    function to_bytes_le(self) -> [u8; 2] {\n        return [0u8; 2];\n    }\n\n    @CoreFunction(i16_from_bytes_le)\n    function from_bytes_le(bytes: [u8; 2]) -> i16 {\n        return 0i16;\n    }\n\n    @CoreFunction(i16_to_bits_be)\n    function to_bits_be(self) -> [bool; 16] {\n        return [false; 16];\n    }\n\n    @CoreFunction(i16_from_bits_be)\n    function from_bits_be(bits: [bool; 16]) -> i16 {\n        return 0i16;\n    }\n\n    @CoreFunction(i16_to_bytes_be)\n    function to_bytes_be(self) -> [u8; 2] {\n        return [0u8; 2];\n    }\n\n    @CoreFunction(i16_from_bytes_be)\n    function from_bytes_be(bytes: [u8; 2]) -> i16 {\n        return 0i16;\n    }\n}"},3022:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="circuit i32 {\n    @CoreFunction(i32_to_bits_le)\n    function to_bits_le(self) -> [bool; 32] {\n        return [false; 32];\n    }\n\n    @CoreFunction(i32_from_bits_le)\n    function from_bits_le(bits: [bool; 32]) -> i32 {\n        return 0i32;\n    }\n\n    @CoreFunction(i32_to_bytes_le)\n    function to_bytes_le(self) -> [u8; 4] {\n        return [0u8; 4];\n    }\n\n    @CoreFunction(i32_from_bytes_le)\n    function from_bytes_le(bytes: [u8; 4]) -> i32 {\n        return 0i32;\n    }\n\n    @CoreFunction(i32_to_bits_be)\n    function to_bits_be(self) -> [bool; 32] {\n        return [false; 32];\n    }\n\n    @CoreFunction(i32_from_bits_be)\n    function from_bits_be(bits: [bool; 32]) -> i32 {\n        return 0i32;\n    }\n\n    @CoreFunction(i32_to_bytes_be)\n    function to_bytes_be(self) -> [u8; 4] {\n        return [0u8; 4];\n    }\n\n    @CoreFunction(i32_from_bytes_be)\n    function from_bytes_be(bytes: [u8; 4]) -> i32 {\n        return 0i32;\n    }\n}"},8804:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="circuit i64 {\n    @CoreFunction(i64_to_bits_le)\n    function to_bits_le(self) -> [bool; 64] {\n        return [false; 64];\n    }\n\n    @CoreFunction(i64_from_bits_le)\n    function from_bits_le(bits: [bool; 64]) -> i64 {\n        return 0i64;\n    }\n\n    @CoreFunction(i64_to_bytes_le)\n    function to_bytes_le(self) -> [u8; 8] {\n        return [0u8; 8];\n    }\n\n    @CoreFunction(i64_from_bytes_le)\n    function from_bytes_le(bytes: [u8; 8]) -> i64 {\n        return 0i64;\n    }\n\n    @CoreFunction(i64_to_bits_be)\n    function to_bits_be(self) -> [bool; 64] {\n        return [false; 64];\n    }\n\n    @CoreFunction(i64_from_bits_be)\n    function from_bits_be(bits: [bool; 64]) -> i64 {\n        return 0i64;\n    }\n\n    @CoreFunction(i64_to_bytes_be)\n    function to_bytes_be(self) -> [u8; 8] {\n        return [0u8; 8];\n    }\n\n    @CoreFunction(i64_from_bytes_be)\n    function from_bytes_be(bytes: [u8; 8]) -> i64 {\n        return 0i64;\n    }\n}"},3214:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="circuit i8 {\n    @CoreFunction(i8_to_bits_le)\n    function to_bits_le(self) -> [bool; 8] {\n        return [false; 8];\n    }\n\n    @CoreFunction(i8_from_bits_le)\n    function from_bits_le(bits: [bool; 8]) -> i8 {\n        return 0i8;\n    }\n\n    @CoreFunction(i8_to_bytes_le)\n    function to_bytes_le(self) -> [u8; 1] {\n        return [0u8; 1];\n    }\n\n    @CoreFunction(i8_from_bytes_le)\n    function from_bytes_le(bytes: [u8; 1]) -> i8 {\n        return 0i8;\n    }\n\n    @CoreFunction(i8_to_bits_be)\n    function to_bits_be(self) -> [bool; 8] {\n        return [false; 8];\n    }\n\n    @CoreFunction(i8_from_bits_be)\n    function from_bits_be(bits: [bool; 8]) -> i8 {\n        return 0i8;\n    }\n\n    @CoreFunction(i8_to_bytes_be)\n    function to_bytes_be(self) -> [u8; 1] {\n        return [0u8; 1];\n    }\n\n    @CoreFunction(i8_from_bytes_be)\n    function from_bytes_be(bytes: [u8; 1]) -> i8 {\n        return 0i8;\n    }\n}"},555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5606),i=n(7896),o=n(3241),a=n(4705),s=n(5720),c=n(9496),u=n(3022),l=n(8804),d=n(3214),f=n(2172),p=n(8033),h=n(3865),m=n(1359),g=n(7293),y=n(2353),_=[r.default,i.default,o.default,a.default,s.default,c.default,u.default,l.default,d.default,f.default,p.default,h.default,m.default,g.default,y.default];t.default=_},2172:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='type string = "";'},8033:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="circuit u128 {\n    @CoreFunction(u128_to_bits_le)\n    function to_bits_le(self) -> [bool; 128] {\n        return [false; 128];\n    }\n\n    @CoreFunction(u128_from_bits_le)\n    function from_bits_le(bits: [bool; 128]) -> u128 {\n        return 0u128;\n    }\n\n    @CoreFunction(u128_to_bytes_le)\n    function to_bytes_le(self) -> [u8; 16] {\n        return [0u8; 16];\n    }\n\n    @CoreFunction(u128_from_bytes_le)\n    function from_bytes_le(bytes: [u8; 16]) -> u128 {\n        return 0u128;\n    }\n\n    @CoreFunction(u128_to_bits_be)\n    function to_bits_be(self) -> [bool; 128] {\n        return [false; 128];\n    }\n\n    @CoreFunction(u128_from_bits_be)\n    function from_bits_be(bits: [bool; 128]) -> u128 {\n        return 0u128;\n    }\n\n    @CoreFunction(u128_to_bytes_be)\n    function to_bytes_be(self) -> [u8; 16] {\n        return [0u8; 16];\n    }\n\n    @CoreFunction(u128_from_bytes_be)\n    function from_bytes_be(bytes: [u8; 16]) -> u128 {\n        return 0u128;\n    }\n}"},3865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="circuit u16 {\n    @CoreFunction(u16_to_bits_le)\n    function to_bits_le(self) -> [bool; 16] {\n        return [false; 16];\n    }\n\n    @CoreFunction(u16_from_bits_le)\n    function from_bits_le(bits: [bool; 16]) -> u16 {\n        return 0u16;\n    }\n\n    @CoreFunction(u16_to_bytes_le)\n    function to_bytes_le(self) -> [u8; 2] {\n        return [0u8; 2];\n    }\n\n    @CoreFunction(u16_from_bytes_le)\n    function from_bytes_le(bytes: [u8; 2]) -> u16 {\n        return 0u16;\n    }\n\n    @CoreFunction(u16_to_bits_be)\n    function to_bits_be(self) -> [bool; 16] {\n        return [false; 16];\n    }\n\n    @CoreFunction(u16_from_bits_be)\n    function from_bits_be(bits: [bool; 16]) -> u16 {\n        return 0u16;\n    }\n\n    @CoreFunction(u16_to_bytes_be)\n    function to_bytes_be(self) -> [u8; 2] {\n        return [0u8; 2];\n    }\n\n    @CoreFunction(u16_from_bytes_be)\n    function from_bytes_be(bytes: [u8; 2]) -> u16 {\n        return 0u16;\n    }\n}"},1359:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="circuit u32 {\n    @CoreFunction(u32_to_bits_le)\n    function to_bits_le(self) -> [bool; 32] {\n        return [false; 32];\n    }\n\n    @CoreFunction(u32_from_bits_le)\n    function from_bits_le(bits: [bool; 32]) -> u32 {\n        return 0u32;\n    }\n\n    @CoreFunction(u32_to_bytes_le)\n    function to_bytes_le(self) -> [u8; 4] {\n        return [0u8; 4];\n    }\n\n    @CoreFunction(u32_from_bytes_le)\n    function from_bytes_le(bytes: [u8; 4]) -> u32 {\n        return 0u32;\n    }\n\n    @CoreFunction(u32_to_bits_be)\n    function to_bits_be(self) -> [bool; 32] {\n        return [false; 32];\n    }\n\n    @CoreFunction(u32_from_bits_be)\n    function from_bits_be(bits: [bool; 32]) -> u32 {\n        return 0u32;\n    }\n\n    @CoreFunction(u32_to_bytes_be)\n    function to_bytes_be(self) -> [u8; 4] {\n        return [0u8; 4];\n    }\n\n    @CoreFunction(u32_from_bytes_be)\n    function from_bytes_be(bytes: [u8; 4]) -> u32 {\n        return 0u32;\n    }\n}"},7293:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="circuit u64 {\n    @CoreFunction(u64_to_bits_le)\n    function to_bits_le(self) -> [bool; 64] {\n        return [false; 64];\n    }\n\n    @CoreFunction(u64_from_bits_le)\n    function from_bits_le(bits: [bool; 64]) -> u64 {\n        return 0u64;\n    }\n\n    @CoreFunction(u64_to_bytes_le)\n    function to_bytes_le(self) -> [u8; 8] {\n        return [0u8; 8];\n    }\n\n    @CoreFunction(u64_from_bytes_le)\n    function from_bytes_le(bytes: [u8; 8]) -> u64 {\n        return 0u64;\n    }\n\n    @CoreFunction(u64_to_bits_be)\n    function to_bits_be(self) -> [bool; 64] {\n        return [false; 64];\n    }\n\n    @CoreFunction(u64_from_bits_be)\n    function from_bits_be(bits: [bool; 64]) -> u64 {\n        return 0u64;\n    }\n\n    @CoreFunction(u64_to_bytes_be)\n    function to_bytes_be(self) -> [u8; 8] {\n        return [0u8; 8];\n    }\n\n    @CoreFunction(u64_from_bytes_be)\n    function from_bytes_be(bytes: [u8; 8]) -> u64 {\n        return 0u64;\n    }\n}"},2353:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="circuit u8 {\n    @CoreFunction(u8_to_bits_le)\n    function to_bits_le(self) -> [bool; 8] {\n        return [false; 8];\n    }\n\n    @CoreFunction(u8_from_bits_le)\n    function from_bits_le(bits: [bool; 8]) -> u8 {\n        return 0u8;\n    }\n\n    @CoreFunction(u8_to_bytes_le)\n    function to_bytes_le(self) -> [u8; 1] {\n        return [0u8; 1];\n    }\n\n    @CoreFunction(u8_from_bytes_le)\n    function from_bytes_le(bytes: [u8; 1]) -> u8 {\n        return 0u8;\n    }\n\n    @CoreFunction(u8_to_bits_be)\n    function to_bits_be(self) -> [bool; 8] {\n        return [false; 8];\n    }\n\n    @CoreFunction(u8_from_bits_be)\n    function from_bits_be(bits: [bool; 8]) -> u8 {\n        return 0u8;\n    }\n\n    @CoreFunction(u8_to_bytes_be)\n    function to_bytes_be(self) -> [u8; 1] {\n        return [0u8; 1];\n    }\n\n    @CoreFunction(u8_from_bytes_be)\n    function from_bytes_be(bytes: [u8; 1]) -> u8 {\n        return 0u8;\n    }\n}"},2936:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.TupleDataType=t.Dimension=t.CircuitDataType=t.AliasDataType=t.StringDataType=t.BooleanDataType=t.AddressDataType=t.GroupDataType=t.FieldDataType=t.SignedIntegerDataType=t.UnsignedIntegerDataType=t.CommonDataType=t.PRIMITIVE_DATA_TYPES=t.STRING=t.BOOLEAN=t.ADDRESS=t.GROUP=t.FIELD=t.SIGNED_INTEGER=t.UNSIGNED_INTEGER=t.UNSPECIFIED=void 0,t.UNSPECIFIED="unspecified",function(e){e.u8="u8",e.u16="u16",e.u32="u32",e.u64="u64",e.u128="u128"}(n=t.UNSIGNED_INTEGER||(t.UNSIGNED_INTEGER={})),function(e){e.i8="i8",e.i16="i16",e.i32="i32",e.i64="i64",e.i128="i128"}(r=t.SIGNED_INTEGER||(t.SIGNED_INTEGER={})),t.FIELD="field",t.GROUP="group",t.ADDRESS="address",t.BOOLEAN="bool",t.STRING="string",t.PRIMITIVE_DATA_TYPES=[n.u8,n.u16,n.u32,n.u64,n.u128,r.i8,r.i16,r.i32,r.i64,r.i128,t.FIELD,t.GROUP,t.ADDRESS,t.BOOLEAN,t.STRING];class i{constructor({uri:e,typeNode:t,typeNodeRange:n,name:r}){this.uri=e,this.typeNode=t,this.typeNodeRange=n,this.name=r}resolvedTypeToString(){return this.name}}t.CommonDataType=i;t.UnsignedIntegerDataType=class extends i{constructor(e){super(e)}};t.SignedIntegerDataType=class extends i{constructor(e){super(e)}};t.FieldDataType=class extends i{constructor(e){super(e),this.name=t.FIELD}};t.GroupDataType=class extends i{constructor(e){super(e),this.name=t.GROUP}};t.AddressDataType=class extends i{constructor(e){super(e),this.name=t.ADDRESS}};t.BooleanDataType=class extends i{constructor(e){super(e),this.name=t.BOOLEAN}};t.StringDataType=class extends i{constructor(e){super(e),this.name=t.STRING}};t.AliasDataType=class extends i{constructor(e){super(e),this.referenceNode=e.referenceNode,this.referenceNodeRange=e.referenceNodeRange,this.resolvedType=e.resolvedType,this.resolved=e.resolved}resolvedTypeToString(){return this.resolvedType.resolvedTypeToString()}};t.CircuitDataType=class extends i{constructor(e){super(e),this.referenceNode=e.referenceNode,this.referenceNodeRange=e.referenceNodeRange,this.resolved=e.resolved}};t.Dimension=class{constructor(e=t.UNSPECIFIED,n=1){this.length=t.UNSPECIFIED,this.level=1,this.length=null!=e?e:t.UNSPECIFIED,this.level=n}};t.TupleDataType=class extends i{constructor(e){super(e),this.resolvedType=e.resolvedType}resolvedTypeToString(){return`(${this.resolvedType.map(((e,t)=>`${t>0?" ":""}${e.resolvedTypeToString()}`))})`}}},4862:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticError=void 0;class n extends Error{constructor(e="",t){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,n),this.name="DiagnosticError",this.node=t}}t.DiagnosticError=n},5907:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NODE_TYPES=void 0,t.NODE_TYPES={package:"package",packages:"packages",package_name:"package_name",package_access:"package_access",identifier:"identifier",star:"star",multiple:"multiple",import_symbol:"import_symbol",alias:"alias",access_call:"access_call",access_member:"access_member",access_static_member:"access_static_member",access:"access",access_tuple:"access_tuple",access_assignee:"access_assignee",record_declaration:"record_declaration",circuit_declaration:"circuit_declaration",circuit_name:"circuit_name",circuit_variable_definition:"circuit_variable_definition",circuit_variable_expression:"circuit_variable_expression",circuit_variable_identifier:"circuit_variable_identifier",circuit_member:"circuit_member",member_variable_declaration:"member_variable_declaration",member_constant_declaration:"member_constant_declaration",function_declaration:"function_declaration",function_parameters:"function_parameters",function_parameter:"function_parameter",statement_for:"statement_for",statement:"statement",statement_declaration:"statement_declaration",statement_conditional:"statement_conditional",statement_assign:"statement_assign",statement_console_assert:"statement_console_assert",expression_circuit_inline:"expression_circuit_inline",expression:"expression",expression_term:"expression_term",expression_postfix:"expression_postfix",keyword_or_identifier:"keyword_or_identifier",identifier_assignee:"identifier_assignee",variable_declaration:"variable_declaration",variables:"variables",value_field:"value_field",value_group:"value_group",value_integer:"value_integer",value_boolean:"value_boolean",value_address:"value_address",value_string:"value_string",value_number:"value_number",number_positive:"number_positive",ERROR:"ERROR",range:"range",else_if:"else_if",else:"else",return_type:"return_type",block:"block",statement_return:"statement_return"}},6920:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=void 0,t.TYPE={CircuitDiagnostic:Symbol.for("CircuitDiagnostic"),DefinitionDiagnostic:Symbol.for("DefinitionDiagnostic"),FunctionDiagnostic:Symbol.for("FunctionDiagnostic"),ImportDiagnostic:Symbol.for("ImportDiagnostic"),DataTypeDiagnostic:Symbol.for("DataTypeDiagnostic"),GroupDiagnostic:Symbol.for("GroupDiagnostic"),FieldDiagnostic:Symbol.for("FieldDiagnostic"),ExpressionDiagnostic:Symbol.for("ExpressionDiagnostic"),InputDiagnostic:Symbol.for("InputDiagnostic"),GlobalConstDiagnostic:Symbol.for("GlobalConstDiagnostic"),ConditionalStatementDiagnostic:Symbol.for("ConditionalStatementDiagnostic"),StatementForDiagnostic:Symbol.for("StatementForDiagnostic"),FunctionParameterDiagnostic:Symbol.for("FunctionParameterDiagnostic"),TypeAliasDiagnostic:Symbol.for("TypeAliasDiagnostic"),CircuitParser:Symbol.for("CircuitParser"),RecordParser:Symbol.for("RecordParser"),DataTypeParser:Symbol.for("DataTypeParser"),FunctionParser:Symbol.for("FunctionParser"),ImportParser:Symbol.for("ImportParser"),StatementDeclarationParser:Symbol.for("StatementDeclarationParser"),InputParser:Symbol.for("InputParser"),LeoTomlParser:Symbol.for("LeoTomlParser"),TypeAliasParser:Symbol.for("TypeAliasParser"),CacheService:Symbol.for("CacheService"),CircuitService:Symbol.for("CircuitService"),ColoringService:Symbol.for("ColoringService"),DiagnosticService:Symbol.for("DiagnosticService"),InputDiagnosticService:Symbol.for("InputDiagnosticService"),FunctionsService:Symbol.for("FunctionsService"),ReservedKeywordsService:Symbol.for("ReservedKeywordsService"),CompletionService:Symbol.for("CompletionService"),DefinitionService:Symbol.for("DefinitionService"),HoverService:Symbol.for("HoverService"),TypeAliasService:Symbol.for("TypeAliasService"),StdPreludeService:Symbol.for("StdPreludeService"),Cache:Symbol.for("Cache"),TreeSitterLeo:Symbol.for("TreeSitterLeo"),TreeSitterInput:Symbol.for("TreeSitterInput"),SettingsService:Symbol.for("SettingsService"),LoggerService:Symbol.for("LoggerService"),LeoWasmApi:Symbol.for("LeoWasmApi"),CompletionScopeService:Symbol.for("CompletionScopeService"),CompletionScopeServiceFactory:Symbol.for("CompletionScopeServiceFactory"),CompletionImportService:Symbol.for("CompletionImportService"),CompletionImportServiceFactory:Symbol.for("CompletionImportServiceFactory"),ImportService:Symbol.for("ImportService"),ImportServiceFactory:Symbol.for("ImportServiceFactory")}},6014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqObjectsList=t.uniq=void 0,t.uniq=function(e){return Array.from(new Set(e))},t.uniqObjectsList=function(e,t){return e.filter(((e,n,r)=>r.findIndex((n=>n[t]===e[t]))===n))}},8151:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(5021),o=n(6630),a=n(3359),s=n(5944),c=n(7414),u=n(6014);let l=class{constructor(){this.leoCacheData={},this.inputsCacheData={},this.leoTomlCacheData={},this.cacheInProgress=!1}set(e,t){const n=o.URI.parse(e).toString();this.leoCacheData[n]=t}get(e){return this.leoCacheData[e]||this.leoCacheData[o.URI.parse(e).toString()]}setInputs(e,t){const n=o.URI.parse(e).toString();this.inputsCacheData[n]=t}getInputs(e){return this.inputsCacheData[e]||this.inputsCacheData[o.URI.parse(e).toString()]}getAfterCached(e){return new Promise((t=>{if(this.cacheInProgress){const n=setInterval((()=>{this.cacheInProgress||(clearInterval(n),t(this.leoCacheData[o.URI.parse(e).toString()]))}),50)}else t(this.leoCacheData[o.URI.parse(e).toString()])}))}changeInProgress(e){this.cacheInProgress=e}getAllImportedItemsByType(e,t){const n=this.get(t);return n?n.imports.reduce(((t,n)=>{const r=n.items.filter((t=>{var n;return(null===(n=t.node)||void 0===n?void 0:n.type)===e}));return t.push(...r),t}),[]):[]}getAllImportedItemsByTypes(e,t){const n=this.get(t);return n?n.imports.reduce(((t,n)=>{const r=n.items.filter((t=>{var n;return e.includes(null===(n=t.node)||void 0===n?void 0:n.type)}));return t.push(...r),t}),[]):[]}findAllByTypesAndKeyword(e,t,n){const r=this.get(n);if(r){const i=e=>t.includes(e.node.type);return[...this.getAllImportedItemsByTypes(t,n).reverse(),...r.circuits.filter(i).reverse(),...r.records.filter(i).reverse(),...r.functions.filter(i).reverse()].filter((t=>t.name===e))}return[]}findAny(e,t=""){let n=[];return(t?[t]:Object.keys(this.leoCacheData)).forEach((t=>{var r,i,o,u;const l=c.default.getImportedItemsByType(this.get(t),"circuit_declaration"),d=c.default.getImportedItemsByType(this.get(t),"function_declaration"),f=a.default.findAllByName([...null!==(i=null===(r=this.get(t))||void 0===r?void 0:r.circuits)&&void 0!==i?i:[],...l],e),p=s.default.findAllByName([...null!==(u=null===(o=this.get(t))||void 0===o?void 0:o.functions)&&void 0!==u?u:[],...d],e);n.push(...f,...p)})),n=(0,u.uniqObjectsList)(n,"node"),n}};l=r([(0,i.injectable)()],l),t.default=l},8318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchEntriesByName=t.getAllFileNamesByExtension=t.getAllDirectoriesInPath=t.getAllFilesInPath=t.readFileAsync=t.readFile=t.checkPathExists=t.fileNameFromUri=t.dirPathFromFileUri=t.uriToPath=t.getFilePaths=void 0;const r=n(4099),i=n(6630),o=n(7147),a=n(1017),s=n(4);function c(e){const t=i.URI.parse(e);if("file"===t.scheme)return t.fsPath}function u(e){try{const t=a.dirname(e);if(t===a.dirname(t))return!0;return-1!==o.readdirSync(t).indexOf(a.basename(e))&&u(t)}catch(e){}return!1}function l(e){try{return o.readdirSync(e,{withFileTypes:!0}).filter((e=>!e.isDirectory()))}catch(e){return[]}}function d(e){try{return o.readdirSync(e,{withFileTypes:!0}).filter((e=>e.isDirectory()))}catch(e){return[]}}function f(e,t){const n=l(e),r=new RegExp(`\\.${t}$`);return n.filter((e=>e.name.match(r))).map((e=>e.name.replace(r,"")))}t.getFilePaths=async function(e,t){return new Promise(((n,i)=>{r(e,{cwd:t,nodir:!0,absolute:!0,strict:!1},(function(e,t){if(e)return i(e);n(t)}))}))},t.uriToPath=c,t.dirPathFromFileUri=function(e){const t=c(e);return(t||e).split(a.sep).slice(0,-1).join(a.sep)||""},t.fileNameFromUri=function(e){const t=c(e),n=(t||e).split(a.sep);return n[n.length-1].replace(".leo","")},t.checkPathExists=function(e){return u(e)},t.readFile=function(e){try{return o.readFileSync(a.resolve(e)).toString()}catch(e){}return""},t.readFileAsync=async function(e){return new Promise((t=>{o.readFile(a.resolve(e),"utf8",((e,n)=>{if(e)return t("");t(n.toString())}))}))},t.getAllFilesInPath=l,t.getAllDirectoriesInPath=d,t.getAllFileNamesByExtension=f,t.searchEntriesByName=function(e,t,n="",r="",i=!1){let o=[];return o=n?f(e,n):d(e).map((e=>e.name)),o.filter((e=>i?e===t&&e!==r:e.match(t)&&e!==r)).filter((e=>s.default.checkPackageByName(e)))}},2159:(e,t,n)=>{var r,i=void 0!==i?i:{},o={};for(r in i)i.hasOwnProperty(r)&&(o[r]=i[r]);var a,s,c,u,l=[],d="./this.program";if(a="object"==typeof window,s="function"==typeof importScripts,c="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,u=!a&&!c&&!s,i.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var f,p,h,m,g="";if(c)g=s?n(1017).dirname(g)+"/":__dirname+"/",f=function(e,t){return h||(h=n(7147)),m||(m=n(1017)),e=m.normalize(e),h.readFileSync(e,t?null:"utf8")},p=function(e){var t=f(e,!0);return t.buffer||(t=new Uint8Array(t)),R(t.buffer),t},process.argv.length>1&&(d=process.argv[1].replace(/\\/g,"/")),l=process.argv.slice(2),e.exports=i,process.on("uncaughtException",(function(e){if(!(e instanceof ft))throw e})),process.on("unhandledRejection",le),function(e){process.exit(e)},i.inspect=function(){return"[Emscripten Module object]"};else if(u)"undefined"!=typeof read&&(f=function(e){return read(e)}),p=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(R("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?l=scriptArgs:"undefined"!=typeof arguments&&(l=arguments),"function"==typeof quit&&function(e){quit(e)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print);else{if(!a&&!s)throw new Error("environment detection error");s?g=self.location.href:document.currentScript&&(g=document.currentScript.src),g=0!==g.indexOf("blob:")?g.substr(0,g.lastIndexOf("/")+1):"",f=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},s&&(p=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},function(e){document.title=e}}var y=i.print||console.log.bind(console),_=i.printErr||console.warn.bind(console);for(r in o)o.hasOwnProperty(r)&&(i[r]=o[r]);o=null,i.arguments&&(l=i.arguments),Object.getOwnPropertyDescriptor(i,"arguments")||Object.defineProperty(i,"arguments",{configurable:!0,get:function(){le("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),i.thisProgram&&(d=i.thisProgram),Object.getOwnPropertyDescriptor(i,"thisProgram")||Object.defineProperty(i,"thisProgram",{configurable:!0,get:function(){le("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),i.quit&&i.quit,Object.getOwnPropertyDescriptor(i,"quit")||Object.defineProperty(i,"quit",{configurable:!0,get:function(){le("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),R(void 0===i.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),R(void 0===i.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),R(void 0===i.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),R(void 0===i.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),R(void 0===i.read,"Module.read option was removed (modify read_ in JS)"),R(void 0===i.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),R(void 0===i.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),R(void 0===i.setWindowTitle,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),R(void 0===i.TOTAL_MEMORY,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Object.getOwnPropertyDescriptor(i,"read")||Object.defineProperty(i,"read",{configurable:!0,get:function(){le("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(i,"readAsync")||Object.defineProperty(i,"readAsync",{configurable:!0,get:function(){le("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(i,"readBinary")||Object.defineProperty(i,"readBinary",{configurable:!0,get:function(){le("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(i,"setWindowTitle")||Object.defineProperty(i,"setWindowTitle",{configurable:!0,get:function(){le("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}});function v(e){v.shown||(v.shown={}),v.shown[e]||(v.shown[e]=1,_(e))}var b,E,T=0,w=function(e){T=e};i.wasmBinary&&(b=i.wasmBinary),Object.getOwnPropertyDescriptor(i,"wasmBinary")||Object.defineProperty(i,"wasmBinary",{configurable:!0,get:function(){le("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),i.noExitRuntime&&i.noExitRuntime,Object.getOwnPropertyDescriptor(i,"noExitRuntime")||Object.defineProperty(i,"noExitRuntime",{configurable:!0,get:function(){le("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),"object"!=typeof WebAssembly&&le("no native wasm support detected");var S=new WebAssembly.Table({initial:216,maximum:216,element:"anyfunc"}),P=!1;function R(e,t){e||le("Assertion failed: "+t)}function D(e,t,n,r,o){var a={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);O(e,t=Ge(n),n)}return t},array:function(e){var t=Ge(e.length);return function(e,t){R(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),F.set(e,t)}(e,t),t}};var s=function(e){var t=i["_"+e];return R(t,"Cannot call unknown function "+e+", make sure it is exported"),t}(e),c=[],u=0;if(R("array"!==t,'Return type should not be "array".'),r)for(var l=0;l<r.length;l++){var d=a[n[l]];d?(0===u&&(u=Ye()),c[l]=d(r[l])):c[l]=r[l]}var f=s.apply(null,c);return f=function(e){return"string"===t?N(e):"boolean"===t?Boolean(e):e}(f),0!==u&&ze(u),f}var C="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function x(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&C)return C.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if(224==(240&a)?a=(15&a)<<12|s<<6|c:(240!=(248&a)&&v("Invalid UTF-8 leading byte 0x"+a.toString(16)+" encountered when deserializing a UTF-8 string on the asm.js/wasm heap to a JS string!"),a=(7&a)<<18|s<<12|c<<6|63&e[t++]),a<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function N(e,t){return e?x(M,e,t):""}function A(e,t,n,r){if(!(r>0))return 0;for(var i=n,o=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(s<=127){if(n>=o)break;t[n++]=s}else if(s<=2047){if(n+1>=o)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=o)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=o)break;s>=2097152&&v("Invalid Unicode code point 0x"+s.toString(16)+" encountered when serializing a JS string to an UTF-8 string on the asm.js/wasm heap! (Valid unicode code points should be in range 0-0x1FFFFF)."),t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function O(e,t,n){return R("number"==typeof n,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),A(e,M,t,n)}function I(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var k,F,M,j,B,L=65536;var q=5262704,U=19648;R(!0,"stack must start aligned"),R(!0,"heap must start aligned");var H=5242880;i.TOTAL_STACK&&R(H===i.TOTAL_STACK,"the stack size can no longer be determined at runtime");var W,$=i.INITIAL_MEMORY||16777216;function Y(){R(!0),B[4957]=34821223,B[4958]=2310721022,j[0]=1668509029}function z(){var e=B[4957],t=B[4958];34821223==e&&2310721022==t||le("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+t.toString(16)+" "+e.toString(16)),1668509029!==j[0]&&le("Runtime error: The application has corrupted its heap memory area (address zero)!")}function G(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?i.dynCall_v(n):i.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}else t(i)}}Object.getOwnPropertyDescriptor(i,"INITIAL_MEMORY")||Object.defineProperty(i,"INITIAL_MEMORY",{configurable:!0,get:function(){le("Module.INITIAL_MEMORY has been replaced with plain INITIAL_INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),R($>=H,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+$+"! (TOTAL_STACK="+"5242880)"),R("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&void 0!==Int32Array.prototype.subarray&&void 0!==Int32Array.prototype.set,"JS engine does not provide full typed array support"),(E=i.wasmMemory?i.wasmMemory:new WebAssembly.Memory({initial:$/L,maximum:$/L}))&&(k=E.buffer),R(($=k.byteLength)%L==0),k=W=k,i.HEAP8=F=new Int8Array(W),i.HEAP16=new Int16Array(W),i.HEAP32=j=new Int32Array(W),i.HEAPU8=M=new Uint8Array(W),i.HEAPU16=new Uint16Array(W),i.HEAPU32=B=new Uint32Array(W),i.HEAPF32=new Float32Array(W),i.HEAPF64=new Float64Array(W),j[U>>2]=q,function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian!"}();var X=[],K=[],V=[],Q=[],Z=!1,J=!1;R(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),R(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),R(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),R(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var ee=Math.abs,te=Math.ceil,ne=Math.floor,re=Math.min,ie=0,oe=null,ae=null,se={};function ce(e){ie++,i.monitorRunDependencies&&i.monitorRunDependencies(ie),e?(R(!se[e]),se[e]=1,null===oe&&"undefined"!=typeof setInterval&&(oe=setInterval((function(){if(P)return clearInterval(oe),void(oe=null);var e=!1;for(var t in se)e||(e=!0,_("still waiting on run dependencies:")),_("dependency: "+t);e&&_("(end of list)")}),1e4))):_("warning: run dependency added without ID")}function ue(e){if(ie--,i.monitorRunDependencies&&i.monitorRunDependencies(ie),e?(R(se[e]),delete se[e]):_("warning: run dependency removed without ID"),0==ie&&(null!==oe&&(clearInterval(oe),oe=null),ae)){var t=ae;ae=null,t()}}function le(e){throw i.onAbort&&i.onAbort(e),_(e+=""),P=!0,1,e="abort("+e+") at "+Ee(),new WebAssembly.RuntimeError(e)}function de(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}i.preloadedImages={},i.preloadedAudios={};function fe(e){return de(e,"data:application/octet-stream;base64,")}function pe(e){return de(e,"file://")}function he(e,t){return function(){var n=e,r=t;return t||(r=i.asm),R(Z,"native function `"+n+"` called before runtime initialization"),R(!J,"native function `"+n+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),r[e]||R(r[e],"exported native function `"+n+"` not found"),r[e].apply(null,arguments)}}var me,ge,ye,_e="leo_diagnostics_wasm_api.wasm";function ve(){try{if(b)return new Uint8Array(b);if(p)return p(_e);throw"both async and sync fetching of the wasm failed"}catch(e){le(e)}}function be(e){return e.replace(/\b_Z[\w\d_]+/g,(function(e){var t,n=(t=e,v("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),t);return e===n?e:n+" ["+e+"]"}))}function Ee(){var e=function(){var e=new Error;if(!e.stack){try{throw new Error}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}();return i.extraStackTrace&&(e+="\n"+i.extraStackTrace()),be(e)}fe(_e)||(me=_e,_e=i.locateFile?i.locateFile(me,g):g+me),K.push({func:function(){Ue()}});var Te={},we=0;var Se={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=Se.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Se.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return Se.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Se.normalize(e.join("/"))},join2:function(e,t){return Se.normalize(e+"/"+t)}};function Pe(e){return j[He()>>2]=e,e}var Re={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:Ae.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return(t?"/":"")+(e=Se.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=Re.resolve(e).substr(1),t=Re.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}var c=[];for(s=a;s<r.length;s++)c.push("..");return(c=c.concat(i.slice(a))).join("/")}},De={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){De.ttys[e]={input:[],output:[],ops:t},Ae.registerDevice(e,De.stream_ops)},stream_ops:{open:function(e){var t=De.ttys[e.node.rdev];if(!t)throw new Ae.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new Ae.ErrnoError(60);for(var o=0,a=0;a<r;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new Ae.ErrnoError(29)}if(void 0===s&&0===o)throw new Ae.ErrnoError(6);if(null==s)break;o++,t[n+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new Ae.ErrnoError(60);try{for(var o=0;o<r;o++)e.tty.ops.put_char(e.tty,t[n+o])}catch(e){throw new Ae.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(c){var n=Buffer.alloc?Buffer.alloc(256):new Buffer(256),r=0;try{r=h.readSync(process.stdin.fd,n,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;r=0}t=r>0?n.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=Be(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(y(x(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(y(x(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(_(x(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(_(x(e.output,0)),e.output=[])}}},Ce={ops_table:null,mount:function(e){return Ce.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(Ae.isBlkdev(n)||Ae.isFIFO(n))throw new Ae.ErrnoError(63);Ce.ops_table||(Ce.ops_table={dir:{node:{getattr:Ce.node_ops.getattr,setattr:Ce.node_ops.setattr,lookup:Ce.node_ops.lookup,mknod:Ce.node_ops.mknod,rename:Ce.node_ops.rename,unlink:Ce.node_ops.unlink,rmdir:Ce.node_ops.rmdir,readdir:Ce.node_ops.readdir,symlink:Ce.node_ops.symlink},stream:{llseek:Ce.stream_ops.llseek}},file:{node:{getattr:Ce.node_ops.getattr,setattr:Ce.node_ops.setattr},stream:{llseek:Ce.stream_ops.llseek,read:Ce.stream_ops.read,write:Ce.stream_ops.write,allocate:Ce.stream_ops.allocate,mmap:Ce.stream_ops.mmap,msync:Ce.stream_ops.msync}},link:{node:{getattr:Ce.node_ops.getattr,setattr:Ce.node_ops.setattr,readlink:Ce.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ce.node_ops.getattr,setattr:Ce.node_ops.setattr},stream:Ae.chrdev_stream_ops}});var i=Ae.createNode(e,t,n,r);return Ae.isDir(i.mode)?(i.node_ops=Ce.ops_table.dir.node,i.stream_ops=Ce.ops_table.dir.stream,i.contents={}):Ae.isFile(i.mode)?(i.node_ops=Ce.ops_table.file.node,i.stream_ops=Ce.ops_table.file.stream,i.usedBytes=0,i.contents=null):Ae.isLink(i.mode)?(i.node_ops=Ce.ops_table.link.node,i.stream_ops=Ce.ops_table.link.stream):Ae.isChrdev(i.mode)&&(i.node_ops=Ce.ops_table.chrdev.node,i.stream_ops=Ce.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)>>>0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Ae.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Ae.isDir(e.mode)?t.size=4096:Ae.isFile(e.mode)?t.size=e.usedBytes:Ae.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ce.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Ae.genericErrors[44]},mknod:function(e,t,n,r){return Ce.createNode(e,t,n,r)},rename:function(e,t,n){if(Ae.isDir(e.mode)){var r;try{r=Ae.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new Ae.ErrnoError(55)}delete e.parent.contents[e.name],e.name=n,t.contents[n]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var n=Ae.lookupNode(e,t);for(var r in n.contents)throw new Ae.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=Ce.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!Ae.isLink(e.mode))throw new Ae.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-i,r);if(R(a>=0),a>8&&o.subarray)t.set(o.subarray(i,i+a),n);else for(var s=0;s<a;s++)t[n+s]=o[i+s];return a},write:function(e,t,n,r,i,o){if(R(!(t instanceof ArrayBuffer)),!r)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(o)return R(0===i,"canOwn must imply no weird position inside the file"),a.contents=t.subarray(n,n+r),a.usedBytes=r,r;if(0===a.usedBytes&&0===i)return a.contents=t.slice(n,n+r),a.usedBytes=r,r;if(i+r<=a.usedBytes)return a.contents.set(t.subarray(n,n+r),i),r}if(Ce.expandFileStorage(a,i+r),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)a.contents[i+s]=t[n+s];return a.usedBytes=Math.max(a.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&Ae.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new Ae.ErrnoError(28);return r},allocate:function(e,t,n){Ce.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i,o){if(R(0===t),!Ae.isFile(e.node.mode))throw new Ae.ErrnoError(43);var a,s,c=e.node.contents;if(2&o||c.buffer!==k){if((r>0||r+n<c.length)&&(c=c.subarray?c.subarray(r,r+n):Array.prototype.slice.call(c,r,r+n)),s=!0,!(a=Ae.mmapAlloc(n)))throw new Ae.ErrnoError(48);F.set(c,a)}else s=!1,a=c.byteOffset;return{ptr:a,allocated:s}},msync:function(e,t,n,r,i){if(!Ae.isFile(e.node.mode))throw new Ae.ErrnoError(43);if(2&i)return 0;Ce.stream_ops.write(e,t,0,r,n,!1);return 0}}},xe={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},Ne={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},Ae={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof Ae.ErrnoError))throw e+" : "+Ee();return Pe(e.errno)},lookupPath:function(e,t){if(t=t||{},!(e=Re.resolve(Ae.cwd(),e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new Ae.ErrnoError(32);for(var i=Se.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),o=Ae.root,a="/",s=0;s<i.length;s++){var c=s===i.length-1;if(c&&t.parent)break;if(o=Ae.lookupNode(o,i[s]),a=Se.join2(a,i[s]),Ae.isMountpoint(o)&&(!c||c&&t.follow_mount)&&(o=o.mounted.root),!c||t.follow)for(var u=0;Ae.isLink(o.mode);){var l=Ae.readlink(a);if(a=Re.resolve(Se.dirname(a),l),o=Ae.lookupPath(a,{recurse_count:t.recurse_count}).node,u++>40)throw new Ae.ErrnoError(32)}}return{path:a,node:o}},getPath:function(e){for(var t;;){if(Ae.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%Ae.nameTable.length},hashAddNode:function(e){var t=Ae.hashName(e.parent.id,e.name);e.name_next=Ae.nameTable[t],Ae.nameTable[t]=e},hashRemoveNode:function(e){var t=Ae.hashName(e.parent.id,e.name);if(Ae.nameTable[t]===e)Ae.nameTable[t]=e.name_next;else for(var n=Ae.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=Ae.mayLookup(e);if(n)throw new Ae.ErrnoError(n,e);for(var r=Ae.hashName(e.id,t),i=Ae.nameTable[r];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===t)return i}return Ae.lookup(e,t)},createNode:function(e,t,n,r){var i=new Ae.FSNode(e,t,n,r);return Ae.hashAddNode(i),i},destroyNode:function(e){Ae.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=Ae.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Ae.ignorePermissions||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var t=Ae.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{Ae.lookupNode(e,t);return 20}catch(e){}return Ae.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=Ae.lookupNode(e,t)}catch(e){return e.errno}var i=Ae.nodePermissions(e,"wx");if(i)return i;if(n){if(!Ae.isDir(r.mode))return 54;if(Ae.isRoot(r)||Ae.getPath(r)===Ae.cwd())return 10}else if(Ae.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?Ae.isLink(e.mode)?32:Ae.isDir(e.mode)&&("r"!==Ae.flagsToPermissionString(t)||512&t)?31:Ae.nodePermissions(e,Ae.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||Ae.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!Ae.streams[n])return n;throw new Ae.ErrnoError(33)},getStream:function(e){return Ae.streams[e]},createStream:function(e,t,n){Ae.FSStream||(Ae.FSStream=function(){},Ae.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var r=new Ae.FSStream;for(var i in e)r[i]=e[i];e=r;var o=Ae.nextfd(t,n);return e.fd=o,Ae.streams[o]=e,e},closeStream:function(e){Ae.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Ae.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ae.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Ae.devices[e]={stream_ops:t}},getDevice:function(e){return Ae.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),Ae.syncFSRequests++,Ae.syncFSRequests>1&&_("warning: "+Ae.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=Ae.getMounts(Ae.root.mount),r=0;function i(e){return R(Ae.syncFSRequests>0),Ae.syncFSRequests--,t(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,i(e));++r>=n.length&&i(null)}n.forEach((function(t){if(!t.type.syncfs)return o(null);t.type.syncfs(t,e,o)}))},mount:function(e,t,n){if("string"==typeof e)throw e;var r,i="/"===n,o=!n;if(i&&Ae.root)throw new Ae.ErrnoError(10);if(!i&&!o){var a=Ae.lookupPath(n,{follow_mount:!1});if(n=a.path,r=a.node,Ae.isMountpoint(r))throw new Ae.ErrnoError(10);if(!Ae.isDir(r.mode))throw new Ae.ErrnoError(54)}var s={type:e,opts:t,mountpoint:n,mounts:[]},c=e.mount(s);return c.mount=s,s.root=c,i?Ae.root=c:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),c},unmount:function(e){var t=Ae.lookupPath(e,{follow_mount:!1});if(!Ae.isMountpoint(t.node))throw new Ae.ErrnoError(28);var n=t.node,r=n.mounted,i=Ae.getMounts(r);Object.keys(Ae.nameTable).forEach((function(e){for(var t=Ae.nameTable[e];t;){var n=t.name_next;-1!==i.indexOf(t.mount)&&Ae.destroyNode(t),t=n}})),n.mounted=null;var o=n.mount.mounts.indexOf(r);R(-1!==o),n.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=Ae.lookupPath(e,{parent:!0}).node,i=Se.basename(e);if(!i||"."===i||".."===i)throw new Ae.ErrnoError(28);var o=Ae.mayCreate(r,i);if(o)throw new Ae.ErrnoError(o);if(!r.node_ops.mknod)throw new Ae.ErrnoError(63);return r.node_ops.mknod(r,i,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Ae.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Ae.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{Ae.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,Ae.mknod(e,t,n)},symlink:function(e,t){if(!Re.resolve(e))throw new Ae.ErrnoError(44);var n=Ae.lookupPath(t,{parent:!0}).node;if(!n)throw new Ae.ErrnoError(44);var r=Se.basename(t),i=Ae.mayCreate(n,r);if(i)throw new Ae.ErrnoError(i);if(!n.node_ops.symlink)throw new Ae.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:function(e,t){var n,r,i=Se.dirname(e),o=Se.dirname(t),a=Se.basename(e),s=Se.basename(t);try{n=Ae.lookupPath(e,{parent:!0}).node,r=Ae.lookupPath(t,{parent:!0}).node}catch(e){throw new Ae.ErrnoError(10)}if(!n||!r)throw new Ae.ErrnoError(44);if(n.mount!==r.mount)throw new Ae.ErrnoError(75);var c,u=Ae.lookupNode(n,a),l=Re.relative(e,o);if("."!==l.charAt(0))throw new Ae.ErrnoError(28);if("."!==(l=Re.relative(t,i)).charAt(0))throw new Ae.ErrnoError(55);try{c=Ae.lookupNode(r,s)}catch(e){}if(u!==c){var d=Ae.isDir(u.mode),f=Ae.mayDelete(n,a,d);if(f)throw new Ae.ErrnoError(f);if(f=c?Ae.mayDelete(r,s,d):Ae.mayCreate(r,s))throw new Ae.ErrnoError(f);if(!n.node_ops.rename)throw new Ae.ErrnoError(63);if(Ae.isMountpoint(u)||c&&Ae.isMountpoint(c))throw new Ae.ErrnoError(10);if(r!==n&&(f=Ae.nodePermissions(n,"w")))throw new Ae.ErrnoError(f);try{Ae.trackingDelegate.willMovePath&&Ae.trackingDelegate.willMovePath(e,t)}catch(n){_("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}Ae.hashRemoveNode(u);try{n.node_ops.rename(u,r,s)}catch(e){throw e}finally{Ae.hashAddNode(u)}try{Ae.trackingDelegate.onMovePath&&Ae.trackingDelegate.onMovePath(e,t)}catch(n){_("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}}},rmdir:function(e){var t=Ae.lookupPath(e,{parent:!0}).node,n=Se.basename(e),r=Ae.lookupNode(t,n),i=Ae.mayDelete(t,n,!0);if(i)throw new Ae.ErrnoError(i);if(!t.node_ops.rmdir)throw new Ae.ErrnoError(63);if(Ae.isMountpoint(r))throw new Ae.ErrnoError(10);try{Ae.trackingDelegate.willDeletePath&&Ae.trackingDelegate.willDeletePath(e)}catch(t){_("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,n),Ae.destroyNode(r);try{Ae.trackingDelegate.onDeletePath&&Ae.trackingDelegate.onDeletePath(e)}catch(t){_("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=Ae.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Ae.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=Ae.lookupPath(e,{parent:!0}).node,n=Se.basename(e),r=Ae.lookupNode(t,n),i=Ae.mayDelete(t,n,!1);if(i)throw new Ae.ErrnoError(i);if(!t.node_ops.unlink)throw new Ae.ErrnoError(63);if(Ae.isMountpoint(r))throw new Ae.ErrnoError(10);try{Ae.trackingDelegate.willDeletePath&&Ae.trackingDelegate.willDeletePath(e)}catch(t){_("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,n),Ae.destroyNode(r);try{Ae.trackingDelegate.onDeletePath&&Ae.trackingDelegate.onDeletePath(e)}catch(t){_("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=Ae.lookupPath(e).node;if(!t)throw new Ae.ErrnoError(44);if(!t.node_ops.readlink)throw new Ae.ErrnoError(28);return Re.resolve(Ae.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=Ae.lookupPath(e,{follow:!t}).node;if(!n)throw new Ae.ErrnoError(44);if(!n.node_ops.getattr)throw new Ae.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return Ae.stat(e,!0)},chmod:function(e,t,n){var r;"string"==typeof e?r=Ae.lookupPath(e,{follow:!n}).node:r=e;if(!r.node_ops.setattr)throw new Ae.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){Ae.chmod(e,t,!0)},fchmod:function(e,t){var n=Ae.getStream(e);if(!n)throw new Ae.ErrnoError(8);Ae.chmod(n.node,t)},chown:function(e,t,n,r){var i;"string"==typeof e?i=Ae.lookupPath(e,{follow:!r}).node:i=e;if(!i.node_ops.setattr)throw new Ae.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){Ae.chown(e,t,n,!0)},fchown:function(e,t,n){var r=Ae.getStream(e);if(!r)throw new Ae.ErrnoError(8);Ae.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new Ae.ErrnoError(28);var n;"string"==typeof e?n=Ae.lookupPath(e,{follow:!0}).node:n=e;if(!n.node_ops.setattr)throw new Ae.ErrnoError(63);if(Ae.isDir(n.mode))throw new Ae.ErrnoError(31);if(!Ae.isFile(n.mode))throw new Ae.ErrnoError(28);var r=Ae.nodePermissions(n,"w");if(r)throw new Ae.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=Ae.getStream(e);if(!n)throw new Ae.ErrnoError(8);if(0==(2097155&n.flags))throw new Ae.ErrnoError(28);Ae.truncate(n.node,t)},utime:function(e,t,n){var r=Ae.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,t,n,r,o){if(""===e)throw new Ae.ErrnoError(44);var a;if(n=void 0===n?438:n,n=64&(t="string"==typeof t?Ae.modeStringToFlags(t):t)?4095&n|32768:0,"object"==typeof e)a=e;else{e=Se.normalize(e);try{a=Ae.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var s=!1;if(64&t)if(a){if(128&t)throw new Ae.ErrnoError(20)}else a=Ae.mknod(e,n,0),s=!0;if(!a)throw new Ae.ErrnoError(44);if(Ae.isChrdev(a.mode)&&(t&=-513),65536&t&&!Ae.isDir(a.mode))throw new Ae.ErrnoError(54);if(!s){var c=Ae.mayOpen(a,t);if(c)throw new Ae.ErrnoError(c)}512&t&&Ae.truncate(a,0),t&=-131713;var u=Ae.createStream({node:a,path:Ae.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},r,o);u.stream_ops.open&&u.stream_ops.open(u),!i.logReadFiles||1&t||(Ae.readFiles||(Ae.readFiles={}),e in Ae.readFiles||(Ae.readFiles[e]=1,_("FS.trackingDelegate error on read file: "+e)));try{if(Ae.trackingDelegate.onOpenFile){var l=0;1!=(2097155&t)&&(l|=Ae.tracking.openFlags.READ),0!=(2097155&t)&&(l|=Ae.tracking.openFlags.WRITE),Ae.trackingDelegate.onOpenFile(e,l)}}catch(t){_("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return u},close:function(e){if(Ae.isClosed(e))throw new Ae.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ae.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(Ae.isClosed(e))throw new Ae.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ae.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new Ae.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new Ae.ErrnoError(28);if(Ae.isClosed(e))throw new Ae.ErrnoError(8);if(1==(2097155&e.flags))throw new Ae.ErrnoError(8);if(Ae.isDir(e.node.mode))throw new Ae.ErrnoError(31);if(!e.stream_ops.read)throw new Ae.ErrnoError(28);var o=void 0!==i;if(o){if(!e.seekable)throw new Ae.ErrnoError(70)}else i=e.position;var a=e.stream_ops.read(e,t,n,r,i);return o||(e.position+=a),a},write:function(e,t,n,r,i,o){if(r<0||i<0)throw new Ae.ErrnoError(28);if(Ae.isClosed(e))throw new Ae.ErrnoError(8);if(0==(2097155&e.flags))throw new Ae.ErrnoError(8);if(Ae.isDir(e.node.mode))throw new Ae.ErrnoError(31);if(!e.stream_ops.write)throw new Ae.ErrnoError(28);e.seekable&&1024&e.flags&&Ae.llseek(e,0,2);var a=void 0!==i;if(a){if(!e.seekable)throw new Ae.ErrnoError(70)}else i=e.position;var s=e.stream_ops.write(e,t,n,r,i,o);a||(e.position+=s);try{e.path&&Ae.trackingDelegate.onWriteToFile&&Ae.trackingDelegate.onWriteToFile(e.path)}catch(t){_("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return s},allocate:function(e,t,n){if(Ae.isClosed(e))throw new Ae.ErrnoError(8);if(t<0||n<=0)throw new Ae.ErrnoError(28);if(0==(2097155&e.flags))throw new Ae.ErrnoError(8);if(!Ae.isFile(e.node.mode)&&!Ae.isDir(e.node.mode))throw new Ae.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ae.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i,o){if(0!=(2&i)&&0==(2&o)&&2!=(2097155&e.flags))throw new Ae.ErrnoError(2);if(1==(2097155&e.flags))throw new Ae.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ae.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,i,o)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new Ae.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=Ae.open(e,t.flags),i=Ae.stat(e).size,o=new Uint8Array(i);return Ae.read(r,o,0,i,0),"utf8"===t.encoding?n=x(o,0):"binary"===t.encoding&&(n=o),Ae.close(r),n},writeFile:function(e,t,n){(n=n||{}).flags=n.flags||"w";var r=Ae.open(e,n.flags,n.mode);if("string"==typeof t){var i=new Uint8Array(I(t)+1),o=A(t,i,0,i.length);Ae.write(r,i,0,o,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Ae.write(r,t,0,t.byteLength,void 0,n.canOwn)}Ae.close(r)},cwd:function(){return Ae.currentPath},chdir:function(e){var t=Ae.lookupPath(e,{follow:!0});if(null===t.node)throw new Ae.ErrnoError(44);if(!Ae.isDir(t.node.mode))throw new Ae.ErrnoError(54);var n=Ae.nodePermissions(t.node,"x");if(n)throw new Ae.ErrnoError(n);Ae.currentPath=t.path},createDefaultDirectories:function(){Ae.mkdir("/tmp"),Ae.mkdir("/home"),Ae.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(Ae.mkdir("/dev"),Ae.registerDevice(Ae.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),Ae.mkdev("/dev/null",Ae.makedev(1,3)),De.register(Ae.makedev(5,0),De.default_tty_ops),De.register(Ae.makedev(6,0),De.default_tty1_ops),Ae.mkdev("/dev/tty",Ae.makedev(5,0)),Ae.mkdev("/dev/tty1",Ae.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else if(c)try{var r=n(6113);e=function(){return r.randomBytes(1)[0]}}catch(e){}e||(e=function(){le("no cryptographic support found for random_device. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}),Ae.createDevice("/dev","random",e),Ae.createDevice("/dev","urandom",e),Ae.mkdir("/dev/shm"),Ae.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ae.mkdir("/proc"),Ae.mkdir("/proc/self"),Ae.mkdir("/proc/self/fd"),Ae.mount({mount:function(){var e=Ae.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=+t,r=Ae.getStream(n);if(!r)throw new Ae.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){i.stdin?Ae.createDevice("/dev","stdin",i.stdin):Ae.symlink("/dev/tty","/dev/stdin"),i.stdout?Ae.createDevice("/dev","stdout",null,i.stdout):Ae.symlink("/dev/tty","/dev/stdout"),i.stderr?Ae.createDevice("/dev","stderr",null,i.stderr):Ae.symlink("/dev/tty1","/dev/stderr");var e=Ae.open("/dev/stdin","r"),t=Ae.open("/dev/stdout","w"),n=Ae.open("/dev/stderr","w");R(0===e.fd,"invalid handle for stdin ("+e.fd+")"),R(1===t.fd,"invalid handle for stdout ("+t.fd+")"),R(2===n.fd,"invalid handle for stderr ("+n.fd+")")},ensureErrnoError:function(){Ae.ErrnoError||(Ae.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){for(var t in this.errno=e,Ne)if(Ne[t]===e){this.code=t;break}},this.setErrno(e),this.message=xe[e],this.stack&&(Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0}),this.stack=be(this.stack))},Ae.ErrnoError.prototype=new Error,Ae.ErrnoError.prototype.constructor=Ae.ErrnoError,[44].forEach((function(e){Ae.genericErrors[e]=new Ae.ErrnoError(e),Ae.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Ae.ensureErrnoError(),Ae.nameTable=new Array(4096),Ae.mount(Ce,{},"/"),Ae.createDefaultDirectories(),Ae.createDefaultDevices(),Ae.createSpecialDirectories(),Ae.filesystems={MEMFS:Ce}},init:function(e,t,n){R(!Ae.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),Ae.init.initialized=!0,Ae.ensureErrnoError(),i.stdin=e||i.stdin,i.stdout=t||i.stdout,i.stderr=n||i.stderr,Ae.createStandardStreams()},quit:function(){Ae.init.initialized=!1;var e=i._fflush;e&&e(0);for(var t=0;t<Ae.streams.length;t++){var n=Ae.streams[t];n&&Ae.close(n)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){var n=Se.join.apply(null,e);return t&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,t){return Re.resolve(t,e)},standardizePath:function(e){return Se.normalize(e)},findObject:function(e,t){var n=Ae.analyzePath(e,t);return n.exists?n.object:(Pe(n.error),null)},analyzePath:function(e,t){try{e=(r=Ae.lookupPath(e,{follow:!t})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=Ae.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=Se.basename(e),r=Ae.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(e){n.error=e.errno}return n},createFolder:function(e,t,n,r){var i=Se.join2("string"==typeof e?e:Ae.getPath(e),t),o=Ae.getMode(n,r);return Ae.mkdir(i,o)},createPath:function(e,t,n,r){e="string"==typeof e?e:Ae.getPath(e);for(var i=t.split("/").reverse();i.length;){var o=i.pop();if(o){var a=Se.join2(e,o);try{Ae.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,n,r,i){var o=Se.join2("string"==typeof e?e:Ae.getPath(e),t),a=Ae.getMode(r,i);return Ae.create(o,a)},createDataFile:function(e,t,n,r,i,o){var a=t?Se.join2("string"==typeof e?e:Ae.getPath(e),t):e,s=Ae.getMode(r,i),c=Ae.create(a,s);if(n){if("string"==typeof n){for(var u=new Array(n.length),l=0,d=n.length;l<d;++l)u[l]=n.charCodeAt(l);n=u}Ae.chmod(c,146|s);var f=Ae.open(c,"w");Ae.write(f,n,0,n.length,0,o),Ae.close(f),Ae.chmod(c,s)}return c},createDevice:function(e,t,n,r){var i=Se.join2("string"==typeof e?e:Ae.getPath(e),t),o=Ae.getMode(!!n,!!r);Ae.createDevice.major||(Ae.createDevice.major=64);var a=Ae.makedev(Ae.createDevice.major++,0);return Ae.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,o){for(var a=0,s=0;s<i;s++){var c;try{c=n()}catch(e){throw new Ae.ErrnoError(29)}if(void 0===c&&0===a)throw new Ae.ErrnoError(6);if(null==c)break;a++,t[r+s]=c}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,i,o){for(var a=0;a<i;a++)try{r(t[n+a])}catch(e){throw new Ae.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),a}}),Ae.mkdev(i,o,a)},createLink:function(e,t,n,r,i){var o=Se.join2("string"==typeof e?e:Ae.getPath(e),t);return Ae.symlink(n,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!f)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Be(f(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||Pe(29),t},createLazyFile:function(e,t,n,r,i){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;i||(a=r);var s=this;s.setDataGetter((function(e){var t=e*a,i=(e+1)*a-1;if(i=Math.min(i,r-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),r!==a&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):Be(i.responseText||"",!0)}(t,i)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!o&&r||(a=r=1,r=this.getter(0).length,a=r,y("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!s)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var c={isDevice:!1,contents:a}}else c={isDevice:!1,url:n};var u=Ae.createFile(e,t,c,r,i);c.contents?u.contents=c.contents:c.url&&(u.contents=null,u.url=c.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var l={};return Object.keys(u.stream_ops).forEach((function(e){var t=u.stream_ops[e];l[e]=function(){if(!Ae.forceLoadFile(u))throw new Ae.ErrnoError(29);return t.apply(null,arguments)}})),l.read=function(e,t,n,r,i){if(!Ae.forceLoadFile(u))throw new Ae.ErrnoError(29);var o=e.node.contents;if(i>=o.length)return 0;var a=Math.min(o.length-i,r);if(R(a>=0),o.slice)for(var s=0;s<a;s++)t[n+s]=o[i+s];else for(s=0;s<a;s++)t[n+s]=o.get(i+s);return a},u.stream_ops=l,u},createPreloadedFile:function(e,t,n,r,o,a,s,c,u,l){Browser.init();var d=t?Re.resolve(Se.join2(e,t)):e,f=function(e){for(var t=e;;){if(!se[e])return e;e=t+Math.random()}}("cp "+d);function p(n){function p(n){l&&l(),c||Ae.createDataFile(e,t,n,r,o,u),a&&a(),ue(f)}var h=!1;i.preloadPlugins.forEach((function(e){h||e.canHandle(d)&&(e.handle(n,d,p,(function(){s&&s(),ue(f)})),h=!0)})),h||p(n)}ce(f),"string"==typeof n?Browser.asyncLoad(n,(function(e){p(e)}),s):p(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=Ae.indexedDB();try{var i=r.open(Ae.DB_NAME(),Ae.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=function(){y("creating db"),i.result.createObjectStore(Ae.DB_STORE_NAME)},i.onsuccess=function(){var r=i.result.transaction([Ae.DB_STORE_NAME],"readwrite"),o=r.objectStore(Ae.DB_STORE_NAME),a=0,s=0,c=e.length;function u(){0==s?t():n()}e.forEach((function(e){var t=o.put(Ae.analyzePath(e).object.contents,e);t.onsuccess=function(){++a+s==c&&u()},t.onerror=function(){s++,a+s==c&&u()}})),r.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=Ae.indexedDB();try{var i=r.open(Ae.DB_NAME(),Ae.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=function(){var r=i.result;try{var o=r.transaction([Ae.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var a=o.objectStore(Ae.DB_STORE_NAME),s=0,c=0,u=e.length;function l(){0==c?t():n()}e.forEach((function(e){var t=a.get(e);t.onsuccess=function(){Ae.analyzePath(e).exists&&Ae.unlink(e),Ae.createDataFile(Se.dirname(e),Se.basename(e),t.result,!0,!0,!0),++s+c==u&&l()},t.onerror=function(){c++,s+c==u&&l()}})),o.onerror=n},i.onerror=n},mmapAlloc:function(e){for(var t=function(e,t){return t||(t=16),Math.ceil(e/t)*t}(e,16384),n=We(t);e<t;)F[n+e++]=0;return n}},Oe={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,t){if("/"!==t[0]){var n;if(-100===e)n=Ae.cwd();else{var r=Ae.getStream(e);if(!r)throw new Ae.ErrnoError(8);n=r.path}t=Se.join2(n,t)}return t},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&Se.normalize(t)!==Se.normalize(Ae.getPath(e.node)))return-54;throw e}return j[n>>2]=r.dev,j[n+4>>2]=0,j[n+8>>2]=r.ino,j[n+12>>2]=r.mode,j[n+16>>2]=r.nlink,j[n+20>>2]=r.uid,j[n+24>>2]=r.gid,j[n+28>>2]=r.rdev,j[n+32>>2]=0,ye=[r.size>>>0,(ge=r.size,+ee(ge)>=1?ge>0?(0|re(+ne(ge/4294967296),4294967295))>>>0:~~+te((ge-+(~~ge>>>0))/4294967296)>>>0:0)],j[n+40>>2]=ye[0],j[n+44>>2]=ye[1],j[n+48>>2]=4096,j[n+52>>2]=r.blocks,j[n+56>>2]=r.atime.getTime()/1e3|0,j[n+60>>2]=0,j[n+64>>2]=r.mtime.getTime()/1e3|0,j[n+68>>2]=0,j[n+72>>2]=r.ctime.getTime()/1e3|0,j[n+76>>2]=0,ye=[r.ino>>>0,(ge=r.ino,+ee(ge)>=1?ge>0?(0|re(+ne(ge/4294967296),4294967295))>>>0:~~+te((ge-+(~~ge>>>0))/4294967296)>>>0:0)],j[n+80>>2]=ye[0],j[n+84>>2]=ye[1],0},doMsync:function(e,t,n,r,i){var o=M.slice(e,e+n);Ae.msync(t,o,i,n,r)},doMkdir:function(e,t){return"/"===(e=Se.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Ae.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Ae.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-28;var r=Ae.readlink(e),i=Math.min(n,I(r)),o=F[t+i];return O(r,t,n+1),F[t+i]=o,i},doAccess:function(e,t){if(-8&t)return-28;var n;if(!(n=Ae.lookupPath(e,{follow:!0}).node))return-44;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&Ae.nodePermissions(n,r)?-2:0},doDup:function(e,t,n){var r=Ae.getStream(n);return r&&Ae.close(r),Ae.open(e,t,0,n,n).fd},doReadv:function(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=j[t+8*o>>2],s=j[t+(8*o+4)>>2],c=Ae.read(e,F,a,s,r);if(c<0)return-1;if(i+=c,c<s)break}return i},doWritev:function(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=j[t+8*o>>2],s=j[t+(8*o+4)>>2],c=Ae.write(e,F,a,s,r);if(c<0)return-1;i+=c}return i},varargs:void 0,get:function(){return R(null!=Oe.varargs),Oe.varargs+=4,j[Oe.varargs-4>>2]},getStr:function(e){return N(e)},getStreamFromFD:function(e){var t=Ae.getStream(e);if(!t)throw new Ae.ErrnoError(8);return t},get64:function(e,t){return R(e>=0?0===t:-1===t),e}};var Ie={};function ke(){if(!ke.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"};for(var t in Ie)e[t]=Ie[t];var n=[];for(var t in e)n.push(t+"="+e[t]);ke.strings=n}return ke.strings}var Fe=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ae.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},Me=365,je=146;Object.defineProperties(Fe.prototype,{read:{get:function(){return(this.mode&Me)===Me},set:function(e){e?this.mode|=Me:this.mode&=-366}},write:{get:function(){return(this.mode&je)===je},set:function(e){e?this.mode|=je:this.mode&=-147}},isFolder:{get:function(){return Ae.isDir(this.mode)}},isDevice:{get:function(){return Ae.isChrdev(this.mode)}}}),Ae.FSNode=Fe,Ae.staticInit();function Be(e,t,n){var r=n>0?n:I(e)+1,i=new Array(r),o=A(e,i,0,i.length);return t&&(i.length=o),i}var Le,qe={__cxa_allocate_exception:function(e){return We(e)},__cxa_find_matching_catch_2:function(){var e=we;if(!e)return 0|(w(0),0);var t=Te[e],n=t.type;if(!n)return 0|(w(0),e);var r=Array.prototype.slice.call(arguments),i=(Ve(n),19808);j[i>>2]=e,e=i;for(var o=0;o<r.length;o++)if(r[o]&&Ke(r[o],n,e))return e=j[e>>2],t.adjusted.push(e),0|(w(r[o]),e);return e=j[e>>2],0|(w(n),e)},__cxa_throw:function(e,t,n){throw Te[e]={ptr:e,adjusted:[e],type:t,destructor:n,refcount:0,caught:!1,rethrown:!1},we=e,"uncaught_exception"in Xe?Xe.uncaught_exceptions++:Xe.uncaught_exceptions=1,e},__cxa_uncaught_exceptions:function(){return Xe.uncaught_exceptions},__handle_stack_overflow:function(){le("stack overflow")},__resumeException:function(e){throw we||(we=e),e},__sys_getcwd:function(e,t){try{if(0===t)return-28;var n=Ae.cwd();return t<I(n)+1?-68:(O(n,e,t),e)}catch(e){return void 0!==Ae&&e instanceof Ae.ErrnoError||le(e),-e.errno}},abort:function(){le()},emscripten_get_sbrk_ptr:function(){return 19648},emscripten_memcpy_big:function(e,t,n){M.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){return 0,!1},environ_get:function(e,t){var n=0;return ke().forEach((function(r,i){var o=t+n;j[e+4*i>>2]=o,function(e,t,n){for(var r=0;r<e.length;++r)R(e.charCodeAt(r)==e.charCodeAt(r)&255),F[t++>>0]=e.charCodeAt(r);n||(F[t>>0]=0)}(r,o),n+=r.length+1})),0},environ_sizes_get:function(e,t){var n=ke();j[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),j[t>>2]=r,0},fd_write:function(e,t,n,r){try{var i=Oe.getStreamFromFD(e),o=Oe.doWritev(i,t,n);return j[r>>2]=o,0}catch(e){return void 0!==Ae&&e instanceof Ae.ErrnoError||le(e),e.errno}},getTempRet0:function(){return 0|T},invoke_i:function(e){var t=Ye();try{return ut(e)}catch(e){if(ze(t),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_ii:function(e,t){var n=Ye();try{return nt(e,t)}catch(e){if(ze(n),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_iii:function(e,t,n){var r=Ye();try{return Ze(e,t,n)}catch(e){if(ze(r),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_iiii:function(e,t,n,r){var i=Ye();try{return rt(e,t,n,r)}catch(e){if(ze(i),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_iiiii:function(e,t,n,r,i){var o=Ye();try{return it(e,t,n,r,i)}catch(e){if(ze(o),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_iiiiii:function(e,t,n,r,i,o){var a=Ye();try{return ct(e,t,n,r,i,o)}catch(e){if(ze(a),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_iiiiiii:function(e,t,n,r,i,o,a){var s=Ye();try{return st(e,t,n,r,i,o,a)}catch(e){if(ze(s),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_j:function(e){var t=Ye();try{return lt(e)}catch(e){if(ze(t),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_jii:function(e,t,n){var r=Ye();try{return dt(e,t,n)}catch(e){if(ze(r),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_v:function(e){var t=Ye();try{ot(e)}catch(e){if(ze(t),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_vi:function(e,t){var n=Ye();try{et(e,t)}catch(e){if(ze(n),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_vii:function(e,t,n){var r=Ye();try{Je(e,t,n)}catch(e){if(ze(r),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_viii:function(e,t,n,r){var i=Ye();try{Qe(e,t,n,r)}catch(e){if(ze(i),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_viiii:function(e,t,n,r,i){var o=Ye();try{at(e,t,n,r,i)}catch(e){if(ze(o),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},invoke_viiiii:function(e,t,n,r,i,o){var a=Ye();try{tt(e,t,n,r,i,o)}catch(e){if(ze(a),e!==e+0&&"longjmp"!==e)throw e;$e(1,0)}},memory:E,pthread_condattr_destroy:function(){return 0},pthread_condattr_init:function(){return 0},pthread_condattr_setclock:function(){return 0},pthread_mutexattr_destroy:function(){},pthread_mutexattr_init:function(){},pthread_mutexattr_settype:function(){},pthread_rwlock_rdlock:function(){return 0},pthread_rwlock_unlock:function(){return 0},setTempRet0:function(e){w(0|e)},table:S},Ue=(function(){var e={env:qe,wasi_snapshot_preview1:qe};function t(e,t){var n=e.exports;i.asm=n,ue("wasm-instantiate")}ce("wasm-instantiate");var n=i;function r(e){R(i===n,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),n=null,t(e.instance)}function o(t){return(b||!a&&!s||"function"!=typeof fetch||pe(_e)?new Promise((function(e,t){e(ve())})):fetch(_e,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+_e+"'";return e.arrayBuffer()})).catch((function(){return ve()}))).then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){_("failed to asynchronously prepare wasm: "+e),le(e)}))}if(i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}(function(){if(b||"function"!=typeof WebAssembly.instantiateStreaming||fe(_e)||pe(_e)||"function"!=typeof fetch)return o(r);fetch(_e,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),o(r)}))}))})()}(),i.___wasm_call_ctors=he("__wasm_call_ctors")),He=(i._validate_field=he("validate_field"),i._validate_group_tuple=he("validate_group_tuple"),i._validate_group_single=he("validate_group_single"),i.___errno_location=he("__errno_location")),We=i._malloc=he("malloc"),$e=(i._free=he("free"),i._ntohs=he("ntohs"),i._htons=he("htons"),i._htonl=he("htonl"),i._fflush=he("fflush"),i._setThrew=he("setThrew")),Ye=i.stackSave=he("stackSave"),ze=i.stackRestore=he("stackRestore"),Ge=i.stackAlloc=he("stackAlloc"),Xe=i.__ZSt18uncaught_exceptionv=he("_ZSt18uncaught_exceptionv"),Ke=i.___cxa_can_catch=he("__cxa_can_catch"),Ve=i.___cxa_is_pointer_type=he("__cxa_is_pointer_type"),Qe=(i._emscripten_main_thread_process_queued_calls=he("emscripten_main_thread_process_queued_calls"),i.___set_stack_limit=he("__set_stack_limit"),i.__growWasmMemory=he("__growWasmMemory"),i.dynCall_viii=he("dynCall_viii")),Ze=i.dynCall_iii=he("dynCall_iii"),Je=i.dynCall_vii=he("dynCall_vii"),et=i.dynCall_vi=he("dynCall_vi"),tt=i.dynCall_viiiii=he("dynCall_viiiii"),nt=i.dynCall_ii=he("dynCall_ii"),rt=i.dynCall_iiii=he("dynCall_iiii"),it=i.dynCall_iiiii=he("dynCall_iiiii"),ot=i.dynCall_v=he("dynCall_v"),at=i.dynCall_viiii=he("dynCall_viiii"),st=i.dynCall_iiiiiii=he("dynCall_iiiiiii"),ct=i.dynCall_iiiiii=he("dynCall_iiiiii"),ut=i.dynCall_i=he("dynCall_i"),lt=i.dynCall_j=he("dynCall_j"),dt=(i.dynCall_ji=he("dynCall_ji"),i.dynCall_jiii=he("dynCall_jiii"),i.dynCall_jii=he("dynCall_jii"));i.dynCall_viiiiii=he("dynCall_viiiiii");function ft(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function pt(e){function t(){Le||(Le=!0,i.calledRun=!0,P||(z(),R(!Z),Z=!0,i.noFSInit||Ae.init.initialized||Ae.init(),De.init(),G(K),z(),Ae.ignorePermissions=!1,G(V),i.onRuntimeInitialized&&i.onRuntimeInitialized(),R(!i._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),function(){if(z(),i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),Q.unshift(e);var e;G(Q)}()))}e=e||l,ie>0||(Y(),function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),X.unshift(e);var e;G(X)}(),ie>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t(),z()))}if(Object.getOwnPropertyDescriptor(i,"intArrayFromString")||(i.intArrayFromString=function(){le("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"intArrayToString")||(i.intArrayToString=function(){le("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ccall")||(i.ccall=function(){le("'ccall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.cwrap=function(e,t,n,r){return function(){return D(e,t,n,arguments)}},Object.getOwnPropertyDescriptor(i,"setValue")||(i.setValue=function(){le("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getValue")||(i.getValue=function(){le("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"allocate")||(i.allocate=function(){le("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getMemory")||(i.getMemory=function(){le("'getMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"UTF8ArrayToString")||(i.UTF8ArrayToString=function(){le("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"UTF8ToString")||(i.UTF8ToString=function(){le("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToUTF8Array")||(i.stringToUTF8Array=function(){le("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToUTF8")||(i.stringToUTF8=function(){le("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"lengthBytesUTF8")||(i.lengthBytesUTF8=function(){le("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackTrace")||(i.stackTrace=function(){le("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addOnPreRun")||(i.addOnPreRun=function(){le("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.addOnInit=function(e){K.unshift(e)},Object.getOwnPropertyDescriptor(i,"addOnPreMain")||(i.addOnPreMain=function(){le("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addOnExit")||(i.addOnExit=function(){le("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addOnPostRun")||(i.addOnPostRun=function(){le("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeStringToMemory")||(i.writeStringToMemory=function(){le("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeArrayToMemory")||(i.writeArrayToMemory=function(){le("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeAsciiToMemory")||(i.writeAsciiToMemory=function(){le("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addRunDependency")||(i.addRunDependency=function(){le("'addRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"removeRunDependency")||(i.removeRunDependency=function(){le("'removeRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createFolder")||(i.FS_createFolder=function(){le("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createPath")||(i.FS_createPath=function(){le("'FS_createPath' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createDataFile")||(i.FS_createDataFile=function(){le("'FS_createDataFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createPreloadedFile")||(i.FS_createPreloadedFile=function(){le("'FS_createPreloadedFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createLazyFile")||(i.FS_createLazyFile=function(){le("'FS_createLazyFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createLink")||(i.FS_createLink=function(){le("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createDevice")||(i.FS_createDevice=function(){le("'FS_createDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_unlink")||(i.FS_unlink=function(){le("'FS_unlink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"dynamicAlloc")||(i.dynamicAlloc=function(){le("'dynamicAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"loadDynamicLibrary")||(i.loadDynamicLibrary=function(){le("'loadDynamicLibrary' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"loadWebAssemblyModule")||(i.loadWebAssemblyModule=function(){le("'loadWebAssemblyModule' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getLEB")||(i.getLEB=function(){le("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getFunctionTables")||(i.getFunctionTables=function(){le("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"alignFunctionTables")||(i.alignFunctionTables=function(){le("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"registerFunctions")||(i.registerFunctions=function(){le("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addFunction")||(i.addFunction=function(){le("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"removeFunction")||(i.removeFunction=function(){le("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getFuncWrapper")||(i.getFuncWrapper=function(){le("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"prettyPrint")||(i.prettyPrint=function(){le("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"makeBigInt")||(i.makeBigInt=function(){le("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"dynCall")||(i.dynCall=function(){le("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getCompilerSetting")||(i.getCompilerSetting=function(){le("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"print")||(i.print=function(){le("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"printErr")||(i.printErr=function(){le("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getTempRet0")||(i.getTempRet0=function(){le("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"setTempRet0")||(i.setTempRet0=function(){le("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"callMain")||(i.callMain=function(){le("'callMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"abort")||(i.abort=function(){le("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToNewUTF8")||(i.stringToNewUTF8=function(){le("'stringToNewUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscripten_realloc_buffer")||(i.emscripten_realloc_buffer=function(){le("'emscripten_realloc_buffer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ENV")||(i.ENV=function(){le("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ERRNO_CODES")||(i.ERRNO_CODES=function(){le("'ERRNO_CODES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ERRNO_MESSAGES")||(i.ERRNO_MESSAGES=function(){le("'ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"setErrNo")||(i.setErrNo=function(){le("'setErrNo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"DNS")||(i.DNS=function(){le("'DNS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GAI_ERRNO_MESSAGES")||(i.GAI_ERRNO_MESSAGES=function(){le("'GAI_ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"Protocols")||(i.Protocols=function(){le("'Protocols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"Sockets")||(i.Sockets=function(){le("'Sockets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"UNWIND_CACHE")||(i.UNWIND_CACHE=function(){le("'UNWIND_CACHE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"readAsmConstArgs")||(i.readAsmConstArgs=function(){le("'readAsmConstArgs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"jstoi_q")||(i.jstoi_q=function(){le("'jstoi_q' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"jstoi_s")||(i.jstoi_s=function(){le("'jstoi_s' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"listenOnce")||(i.listenOnce=function(){le("'listenOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"autoResumeAudioContext")||(i.autoResumeAudioContext=function(){le("'autoResumeAudioContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"abortStackOverflow")||(i.abortStackOverflow=function(){le("'abortStackOverflow' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"reallyNegative")||(i.reallyNegative=function(){le("'reallyNegative' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"formatString")||(i.formatString=function(){le("'formatString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"PATH")||(i.PATH=function(){le("'PATH' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"PATH_FS")||(i.PATH_FS=function(){le("'PATH_FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SYSCALLS")||(i.SYSCALLS=function(){le("'SYSCALLS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"syscallMmap2")||(i.syscallMmap2=function(){le("'syscallMmap2' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"syscallMunmap")||(i.syscallMunmap=function(){le("'syscallMunmap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"JSEvents")||(i.JSEvents=function(){le("'JSEvents' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"specialHTMLTargets")||(i.specialHTMLTargets=function(){le("'specialHTMLTargets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"demangle")||(i.demangle=function(){le("'demangle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"demangleAll")||(i.demangleAll=function(){le("'demangleAll' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"jsStackTrace")||(i.jsStackTrace=function(){le("'jsStackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackTrace")||(i.stackTrace=function(){le("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getEnvStrings")||(i.getEnvStrings=function(){le("'getEnvStrings' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"checkWasiClock")||(i.checkWasiClock=function(){le("'checkWasiClock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToI64")||(i.writeI53ToI64=function(){le("'writeI53ToI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToI64Clamped")||(i.writeI53ToI64Clamped=function(){le("'writeI53ToI64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToI64Signaling")||(i.writeI53ToI64Signaling=function(){le("'writeI53ToI64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToU64Clamped")||(i.writeI53ToU64Clamped=function(){le("'writeI53ToU64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToU64Signaling")||(i.writeI53ToU64Signaling=function(){le("'writeI53ToU64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"readI53FromI64")||(i.readI53FromI64=function(){le("'readI53FromI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"readI53FromU64")||(i.readI53FromU64=function(){le("'readI53FromU64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"convertI32PairToI53")||(i.convertI32PairToI53=function(){le("'convertI32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"convertU32PairToI53")||(i.convertU32PairToI53=function(){le("'convertU32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"Browser")||(i.Browser=function(){le("'Browser' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"FS")||(i.FS=function(){le("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"MEMFS")||(i.MEMFS=function(){le("'MEMFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"TTY")||(i.TTY=function(){le("'TTY' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"PIPEFS")||(i.PIPEFS=function(){le("'PIPEFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SOCKFS")||(i.SOCKFS=function(){le("'SOCKFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GL")||(i.GL=function(){le("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscriptenWebGLGet")||(i.emscriptenWebGLGet=function(){le("'emscriptenWebGLGet' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscriptenWebGLGetTexPixelData")||(i.emscriptenWebGLGetTexPixelData=function(){le("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscriptenWebGLGetUniform")||(i.emscriptenWebGLGetUniform=function(){le("'emscriptenWebGLGetUniform' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscriptenWebGLGetVertexAttrib")||(i.emscriptenWebGLGetVertexAttrib=function(){le("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeGLArray")||(i.writeGLArray=function(){le("'writeGLArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"AL")||(i.AL=function(){le("'AL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL_unicode")||(i.SDL_unicode=function(){le("'SDL_unicode' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL_ttfContext")||(i.SDL_ttfContext=function(){le("'SDL_ttfContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL_audio")||(i.SDL_audio=function(){le("'SDL_audio' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL")||(i.SDL=function(){le("'SDL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL_gfx")||(i.SDL_gfx=function(){le("'SDL_gfx' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GLUT")||(i.GLUT=function(){le("'GLUT' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"EGL")||(i.EGL=function(){le("'EGL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GLFW_Window")||(i.GLFW_Window=function(){le("'GLFW_Window' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GLFW")||(i.GLFW=function(){le("'GLFW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GLEW")||(i.GLEW=function(){le("'GLEW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"IDBStore")||(i.IDBStore=function(){le("'IDBStore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"runAndAbortIfError")||(i.runAndAbortIfError=function(){le("'runAndAbortIfError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"warnOnce")||(i.warnOnce=function(){le("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackSave")||(i.stackSave=function(){le("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackRestore")||(i.stackRestore=function(){le("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackAlloc")||(i.stackAlloc=function(){le("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"AsciiToString")||(i.AsciiToString=function(){le("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToAscii")||(i.stringToAscii=function(){le("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"UTF16ToString")||(i.UTF16ToString=function(){le("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToUTF16")||(i.stringToUTF16=function(){le("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"lengthBytesUTF16")||(i.lengthBytesUTF16=function(){le("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"UTF32ToString")||(i.UTF32ToString=function(){le("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToUTF32")||(i.stringToUTF32=function(){le("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"lengthBytesUTF32")||(i.lengthBytesUTF32=function(){le("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"allocateUTF8")||(i.allocateUTF8=function(){le("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"allocateUTF8OnStack")||(i.allocateUTF8OnStack=function(){le("'allocateUTF8OnStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.writeStackCookie=Y,i.checkStackCookie=z,Object.getOwnPropertyDescriptor(i,"ALLOC_NORMAL")||Object.defineProperty(i,"ALLOC_NORMAL",{configurable:!0,get:function(){le("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(i,"ALLOC_STACK")||Object.defineProperty(i,"ALLOC_STACK",{configurable:!0,get:function(){le("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(i,"ALLOC_DYNAMIC")||Object.defineProperty(i,"ALLOC_DYNAMIC",{configurable:!0,get:function(){le("'ALLOC_DYNAMIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(i,"ALLOC_NONE")||Object.defineProperty(i,"ALLOC_NONE",{configurable:!0,get:function(){le("'ALLOC_NONE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),ae=function e(){Le||pt(),Le||(ae=e)},i.run=pt,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();pt()},5684:(e,t,n)=>{"use strict";const r=n(4236),i=global.Date;class o extends i{constructor(e){super(e),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${r(2,this.getUTCMonth()+1)}-${r(2,this.getUTCDate())}`}}e.exports=e=>{const t=new o(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}},2200:(e,t,n)=>{"use strict";const r=n(4236);class i extends Date{constructor(e){super(e+"Z"),this.isFloating=!0}toISOString(){return`${`${this.getUTCFullYear()}-${r(2,this.getUTCMonth()+1)}-${r(2,this.getUTCDate())}`}T${`${r(2,this.getUTCHours())}:${r(2,this.getUTCMinutes())}:${r(2,this.getUTCSeconds())}.${r(3,this.getUTCMilliseconds())}`}`}}e.exports=e=>{const t=new i(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}},6507:e=>{"use strict";e.exports=e=>{const t=new Date(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}},8569:(e,t,n)=>{"use strict";const r=n(4236);class i extends Date{constructor(e){super(`0000-01-01T${e}Z`),this.isTime=!0}toISOString(){return`${r(2,this.getUTCHours())}:${r(2,this.getUTCMinutes())}:${r(2,this.getUTCSeconds())}.${r(3,this.getUTCMilliseconds())}`}}e.exports=e=>{const t=new i(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}},4236:e=>{"use strict";e.exports=(e,t)=>{for(t=String(t);t.length<e;)t="0"+t;return t}},1721:e=>{"use strict";const t=1114112;class n extends Error{constructor(e,t,r){super("[ParserError] "+e,t,r),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,n)}}class r{constructor(e){this.parser=e,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}class i{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new r(this.parseStart)}parse(e){if(0===e.length||null==e.length)return;let t;for(this._buf=String(e),this.ii=-1,this.char=-1;!1===t||this.nextChar();)t=this.runOne();this._buf=null}nextChar(){return 10===this.char&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){let e;this.char=t;do{e=this.state.parser,this.runOne()}while(this.state.parser!==e);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(e){if("function"!=typeof e)throw new n("Tried to set state to non-existent state: "+JSON.stringify(e));this.state.parser=e}goto(e){return this.next(e),this.runOne()}call(e,t){t&&this.next(t),this.stack.push(this.state),this.state=new r(e)}callNow(e,t){return this.call(e,t),this.runOne()}return(e){if(0===this.stack.length)throw this.error(new n("Stack underflow"));void 0===e&&(e=this.state.buf),this.state=this.stack.pop(),this.state.returned=e}returnNow(e){return this.return(e),this.runOne()}consume(){if(this.char===t)throw this.error(new n("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(e){return e.line=this.line,e.col=this.col,e.pos=this.pos,e}parseStart(){throw new n("Must declare a parseStart method")}}i.END=t,i.Error=n,e.exports=i},7122:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=makeParserClass(__webpack_require__(1721)),module.exports.makeParserClass=makeParserClass;class TomlError extends Error{constructor(e){super(e),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=e=>{const t=new TomlError(e.message);return t.code=e.code,t.wrapped=e,t},module.exports.TomlError=TomlError;const createDateTime=__webpack_require__(6507),createDateTimeFloat=__webpack_require__(2200),createDate=__webpack_require__(5684),createTime=__webpack_require__(8569),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"\t",[CHAR_n]:"\n",[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(e){return e>=CHAR_0&&e<=CHAR_9}function isHexit(e){return e>=CHAR_A&&e<=CHAR_F||e>=CHAR_a&&e<=CHAR_f||e>=CHAR_0&&e<=CHAR_9}function isBit(e){return e===CHAR_1||e===CHAR_0}function isOctit(e){return e>=CHAR_0&&e<=CHAR_7}function isAlphaNumQuoteHyphen(e){return e>=CHAR_A&&e<=CHAR_Z||e>=CHAR_a&&e<=CHAR_z||e>=CHAR_0&&e<=CHAR_9||e===CHAR_APOS||e===CHAR_QUOT||e===CHAR_LOWBAR||e===CHAR_HYPHEN}function isAlphaNumHyphen(e){return e>=CHAR_A&&e<=CHAR_Z||e>=CHAR_a&&e<=CHAR_z||e>=CHAR_0&&e<=CHAR_9||e===CHAR_LOWBAR||e===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(e,t){return!!hasOwnProperty.call(e,t)||("__proto__"===t&&defineProperty(e,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(e){return null!==e&&"object"==typeof e&&e[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(e){return null!==e&&"object"==typeof e&&e[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(e){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:e}})}function isInlineList(e){return null!==e&&"object"==typeof e&&e[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(e){return null!==e&&"object"==typeof e&&e[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(e){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(e){try{this.value=global.BigInt.asIntN(64,e)}catch(e){this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return null===this.value}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer(e){let t=Number(e);return Object.is(t,-0)&&(t=0),global.BigInt&&!Number.isSafeInteger(t)?new BoxedBigInt(e):Object.defineProperties(new Number(t),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${e}]`}})}function isInteger(e){return null!==e&&"object"==typeof e&&e[_type]===INTEGER}const FLOAT=Symbol("float");function Float(e){return Object.defineProperties(new Number(e),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${e}]`}})}function isFloat(e){return null!==e&&"object"==typeof e&&e[_type]===FLOAT}function tomlType(e){const t=typeof e;if("object"===t){if(null===e)return"null";if(e instanceof Date)return"datetime";if(_type in e)switch(e[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return t}function makeParserClass(e){return class extends e{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===e.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===e.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===e.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(e){let t=this.ctx,n=e.key.pop();for(let n of e.key){if(hasKey(t,n)&&(!isTable(t[n])||t[n][_declared]))throw this.error(new TomlError("Can't redefine existing key"));t=t[n]=t[n]||Table()}if(hasKey(t,n))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(e.value)||isFloat(e.value)?t[n]=e.value.valueOf():t[n]=e.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(e){return this.state.resultTable?this.state.resultTable.push(e):this.state.resultTable=[e],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){return this.char===CHAR_PERIOD?this.next(this.parseAssignKeywordPostDot):this.char!==CHAR_SP&&this.char!==CTRL_I?this.goto(this.parseAssignEqual):void 0}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(e){return this.returnNow({key:this.state.resultTable,value:e})}parseComment(){do{if(this.char===e.END||this.char===CTRL_J)return this.return()}while(this.nextChar())}parseTableOrList(){if(this.char!==CHAR_LSQB)return this.goto(this.parseTable);this.next(this.parseList)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(e){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,e)&&(!isTable(this.ctx[e])||this.ctx[e][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[e]=this.ctx[e]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}if(this.char===CHAR_PERIOD){if(hasKey(this.ctx,e))if(isTable(this.ctx[e]))this.ctx=this.ctx[e];else{if(!isList(this.ctx[e]))throw this.error(new TomlError("Can't redefine existing key"));this.ctx=this.ctx[e][this.ctx[e].length-1]}else this.ctx=this.ctx[e]=Table();return this.next(this.parseTableNext)}throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(e){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,e)||(this.ctx[e]=List()),isInlineList(this.ctx[e]))throw this.error(new TomlError("Can't extend an inline array"));if(!isList(this.ctx[e]))throw this.error(new TomlError("Can't redefine an existing key"));{const t=Table();this.ctx[e].push(t),this.ctx=t}return this.next(this.parseListEnd)}if(this.char===CHAR_PERIOD){if(hasKey(this.ctx,e)){if(isInlineList(this.ctx[e]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[e]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[e]))this.ctx=this.ctx[e][this.ctx[e].length-1];else{if(!isTable(this.ctx[e]))throw this.error(new TomlError("Can't redefine an existing key"));this.ctx=this.ctx[e]}}else this.ctx=this.ctx[e]=Table();return this.next(this.parseListNext)}throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(e){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===e.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(e){return this.returnNow(e)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return"-"===this.state.buf?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===e.END)throw this.error(new TomlError("Key ended without value"));if(!isAlphaNumHyphen(this.char)){if(0===this.state.buf.length)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}this.consume()}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===e.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(e){return this.state.buf+=e,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===e.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let e="\\u00";return this.char<16&&(e+="0"),e+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${e} instead`))}recordMultiEscapeReplacement(e){return this.state.buf+=e,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(e){try{const t=parseInt(e,16);if(t>=SURROGATE_FIRST&&t<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(t))}catch(e){throw this.error(TomlError.wrap(e))}}parseSmallUnicode(){if(!isHexit(this.char))throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"));if(this.consume(),this.state.buf.length>=4)return this.return()}parseLargeUnicode(){if(!isHexit(this.char))throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"));if(this.consume(),this.state.buf.length>=8)return this.return()}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(!isDigit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder,this.parseNumberFloat):isDigit(this.char)?void this.consume():this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS)throw this.error(new TomlError("Unexpected character, expected -, + or digit"));this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent)}parseNumberExponent(){if(!isDigit(this.char))return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf));this.consume()}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder,this.parseNumberInteger):isDigit(this.char)?(this.consume(),void(this.state.buf.length>4&&this.next(this.parseNumberInteger))):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(!isHexit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseIntegerOct(){if(!isOctit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseIntegerBin(){if(!isBit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseTimeMin(){if(!(this.state.buf.length<2&&isDigit(this.char))){if(2===this.state.buf.length&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}this.consume()}parseTimeSec(){if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));if(this.consume(),2===this.state.buf.length)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(!(this.state.buf.length<2&&isDigit(this.char))){if(2===this.state.buf.length&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}this.consume()}parseOnlyTimeSec(){if(!isDigit(this.char))throw this.error(new TomlError("Incomplete time"));if(this.consume(),2===this.state.buf.length)return this.next(this.parseOnlyTimeFractionMaybe)}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char!==CHAR_PERIOD)return this.return(createTime(this.state.result));this.state.buf="",this.next(this.parseOnlyTimeFraction)}parseOnlyTimeFraction(){if(!isDigit(this.char)){if(this.atEndOfWord()){if(0===this.state.buf.length)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume()}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else{if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS){if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume(),this.next(this.parseTimeZoneHour)}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(1===this.state.buf.length)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS){if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume(),this.next(this.parseTimeZoneHour)}}parseTimeZoneHour(){if(!isDigit(this.char))throw this.error(new TomlError("Unexpected character in datetime, expected digit"));if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}parseTimeZoneSep(){if(this.char!==CHAR_COLON)throw this.error(new TomlError("Unexpected character in datetime, expected colon"));this.consume(),this.next(this.parseTimeZoneMin)}parseTimeZoneMin(){if(!isDigit(this.char))throw this.error(new TomlError("Unexpected character in datetime, expected digit"));if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}parseBoolean(){return this.char===CHAR_t?(this.consume(),this.next(this.parseTrue_r)):this.char===CHAR_f?(this.consume(),this.next(this.parseFalse_a)):void 0}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===e.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(e){if(this.state.resultArr){const t=this.state.resultArr[_contentType],n=tomlType(e);if(t!==n)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${t} and ${n}`))}else this.state.resultArr=InlineList(tomlType(e));return isFloat(e)||isInteger(e)?this.state.resultArr.push(e.valueOf()):this.state.resultArr.push(e),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(e){let t=this.state.resultTable,n=e.key.pop();for(let n of e.key){if(hasKey(t,n)&&(!isTable(t[n])||t[n][_declared]))throw this.error(new TomlError("Can't redefine existing key"));t=t[n]=t[n]||Table()}if(hasKey(t,n))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(e.value)||isFloat(e.value)?t[n]=e.value.valueOf():t[n]=e.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}}},4143:(e,t,n)=>{"use strict";e.exports=function(e,t){t||(t={});const n=t.blocksize||40960,o=new r;return new Promise(((e,t)=>{setImmediate(a,0,n,e,t)}));function a(t,n,r,s){if(t>=e.length)try{return r(o.finish())}catch(t){return s(i(t,e))}try{o.parse(e.slice(t,t+n)),setImmediate(a,t+n,n,r,s)}catch(t){s(i(t,e))}}};const r=n(7122),i=n(128)},128:e=>{"use strict";e.exports=function(e,t){if(null==e.pos||null==e.line)return e;let n=e.message;if(n+=` at row ${e.line+1}, col ${e.col+1}, pos ${e.pos}:\n`,t&&t.split){const r=t.split(/\n/),i=String(Math.min(r.length,e.line+3)).length;let o=" ";for(;o.length<i;)o+=" ";for(let t=Math.max(0,e.line-1);t<Math.min(r.length,e.line+2);++t){let a=String(t+1);if(a.length<i&&(a=" "+a),e.line===t){n+=a+"> "+r[t]+"\n",n+=o+"  ";for(let t=0;t<e.col;++t)n+=" ";n+="^\n"}else n+=a+": "+r[t]+"\n"}}return e.message=n+"\n",e}},1380:(e,t,n)=>{"use strict";e.exports=function(e){return e?function(e){const t=new i;return e.setEncoding("utf8"),new Promise(((n,r)=>{let i,o=!1,a=!1;function s(){if(o=!0,!i)try{n(t.finish())}catch(e){r(e)}}function c(e){a=!0,r(e)}function u(){let n;for(i=!0;null!==(n=e.read());)try{t.parse(n)}catch(e){return c(e)}if(i=!1,o)return s();a||e.once("readable",u)}e.once("end",s),e.once("error",c),u()}))}(e):function(){const e=new i;return new r.Transform({objectMode:!0,transform(t,n,r){try{e.parse(t.toString(n))}catch(e){this.emit("error",e)}r()},flush(t){try{this.push(e.finish())}catch(e){this.emit("error",e)}t()}})}()};const r=n(2781),i=n(7122)},9681:(e,t,n)=>{"use strict";e.exports=function(e){global.Buffer&&global.Buffer.isBuffer(e)&&(e=e.toString("utf8"));const t=new r;try{return t.parse(e),t.finish()}catch(t){throw i(t,e)}};const r=n(7122),i=n(128)},1035:(e,t,n)=>{"use strict";e.exports=n(9681),e.exports.async=n(4143),e.exports.stream=n(1380),e.exports.prettyError=n(128)},4703:e=>{"use strict";function t(e){return new Error("Can only stringify objects, not "+e)}function n(e){return Object.keys(e).filter((t=>o(e[t])))}function r(e){let t=Array.isArray(e)?[]:Object.prototype.hasOwnProperty.call(e,"__proto__")?{["__proto__"]:void 0}:{};for(let n of Object.keys(e))e[n]&&"function"==typeof e[n].toJSON&&!("toISOString"in e[n])?t[n]=e[n].toJSON():t[n]=e[n];return t}function i(e,c,u){var d,f;d=n(u=r(u)),f=function(e){return Object.keys(e).filter((t=>!o(e[t])))}(u);var h=[],m=c||"";d.forEach((e=>{var t=a(u[e]);"undefined"!==t&&"null"!==t&&h.push(m+s(e)+" = "+l(u[e],!0))})),h.length>0&&h.push("");var g=e&&d.length>0?c+"  ":"";return f.forEach((o=>{h.push(function(e,o,c,u){var l=a(u);if("array"===l)return function(e,n,o,c){p(c=r(c));var u=a(c[0]);if("table"!==u)throw t(u);var l=e+s(o),d="";return c.forEach((e=>{d.length>0&&(d+="\n"),d+=n+"[["+l+"]]\n",d+=i(l+".",n,e)})),d}(e,o,c,u);if("table"===l)return function(e,t,r,o){var a=e+s(r),c="";n(o).length>0&&(c+=t+"["+a+"]\n");return c+i(a+".",t,o)}(e,o,c,u);throw t(l)}(e,g,o,u[o]))})),h.join("\n")}function o(e){switch(a(e)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return 0===e.length||"table"!==a(e[0]);case"table":return 0===Object.keys(e).length;default:return!1}}function a(e){return void 0===e?"undefined":null===e?"null":"bigint"==typeof e||Number.isInteger(e)&&!Object.is(e,-0)?"integer":"number"==typeof e?"float":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"toISOString"in e?isNaN(e)?"undefined":"datetime":Array.isArray(e)?"array":"table"}function s(e){var t=String(e);return/^[-A-Za-z0-9_]+$/.test(t)?t:c(t)}function c(e){return'"'+u(e).replace(/"/g,'\\"')+'"'}function u(e){return e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,(e=>"\\u"+function(e,t){for(;t.length<e;)t="0"+t;return t}(4,e.codePointAt(0).toString(16))))}function l(e,t){let n=a(e);return"string"===n&&(t&&/\n/.test(e)?n="string-multiline":!/[\b\t\n\f\r']/.test(e)&&/"/.test(e)&&(n="string-literal")),d(e,n)}function d(e,n){switch(n||(n=a(e)),n){case"string-multiline":return function(e){let t=e.split(/\n/).map((e=>u(e).replace(/"(?="")/g,'\\"'))).join("\n");return'"'===t.slice(-1)&&(t+="\\\n"),'"""\n'+t+'"""'}(e);case"string":return c(e);case"string-literal":return"'"+e+"'";case"integer":return f(e);case"float":return function(e){if(e===1/0)return"inf";if(e===-1/0)return"-inf";if(Object.is(e,NaN))return"nan";if(Object.is(e,-0))return"-0.0";var t=String(e).split("."),n=t[0],r=t[1]||0;return f(n)+"."+r}(e);case"boolean":return function(e){return String(e)}(e);case"datetime":return function(e){return e.toISOString()}(e);case"array":return function(e){const t=p(e=r(e));var n="[",i=e.map((e=>d(e,t)));i.join(", ").length>60||/\n/.test(i)?n+="\n  "+i.join(",\n  ")+"\n":n+=" "+i.join(", ")+(i.length>0?" ":"");return n+"]"}(e.filter((e=>"null"!==a(e)&&"undefined"!==a(e)&&"nan"!==a(e))));case"table":return function(e){e=r(e);var t=[];return Object.keys(e).forEach((n=>{t.push(s(n)+" = "+l(e[n],!1))})),"{ "+t.join(", ")+(t.length>0?" ":"")+"}"}(e);default:throw t(n)}}function f(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function p(e){const t=function(e){var t=a(e[0]);return e.every((e=>a(e)===t))?t:e.every((e=>{return"float"===(t=a(e))||"integer"===t;var t}))?"float":"mixed"}(e);if("mixed"===t)throw new Error("Array values can't have mixed types");return t}e.exports=function(e){if(null===e)throw t("null");if(void 0===e)throw t("undefined");if("object"!=typeof e)throw t(typeof e);"function"==typeof e.toJSON&&(e=e.toJSON());if(null==e)return null;const n=a(e);if("table"!==n)throw t(n);return i("","",e)},e.exports.value=d},7742:(e,t,n)=>{"use strict";t.parse=n(1035),t.stringify=n(4703)},838:e=>{"use strict";function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var o=r(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,o,a,s,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){if(e===t)return[c,u];for(r=[],o=n.length;l>=0&&!s;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?s=[r.pop(),u]:((i=r.pop())<o&&(o=i,a=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(s=[o,a])}return s}e.exports=t,t.range=r},8786:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={};for(let e=0;e<n.length;e++){const t=n.charAt(e);r[t]=e}function i(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=i(t)^r>>5}t=i(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=i(t)^31&r}return t}function a(e,t,n,r){let i=0,o=0;const a=(1<<n)-1,s=[];for(let r=0;r<e.length;++r)for(i=i<<t|e[r],o+=t;o>=n;)o-=n,s.push(i>>o&a);if(r)o>0&&s.push(i<<n-o&a);else{if(o>=t)return"Excess padding";if(i<<n-o&a)return"Non-zero padding"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,n){if(n=n||90,e.length<8)return e+" too short";if(e.length>n)return"Exceeds length limit";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return"Mixed-case string "+e;const c=(e=a).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return"Data too short";let d=o(u);if("string"==typeof d)return d;const f=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=r[t];if(void 0===n)return"Unknown character "+t;d=i(d)^n,e+6>=l.length||f.push(n)}return d!==t?"Invalid checksum for "+e:{prefix:u,words:f}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const n=a(e,t);if("object"==typeof n)return n},decode:function(e,t){const n=a(e,t);if("object"==typeof n)return n;throw new Error(n)},encode:function(e,r,a){if(a=a||90,e.length+7+r.length>a)throw new TypeError("Exceeds length limit");let s=o(e=e.toLowerCase());if("string"==typeof s)throw new Error(s);let c=e+"1";for(let e=0;e<r.length;++e){const t=r[e];if(t>>5!=0)throw new Error("Non 5-bit word");s=i(s)^t,c+=n.charAt(t)}for(let e=0;e<6;++e)s=i(s);s^=t;for(let e=0;e<6;++e){c+=n.charAt(s>>5*(5-e)&31)}return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.bech32=l("bech32"),t.bech32m=l("bech32m")},2008:(e,t,n)=>{e.exports=l,l.realpath=l,l.sync=d,l.realpathSync=d,l.monkeypatch=function(){r.realpath=l,r.realpathSync=d},l.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(7147),i=r.realpath,o=r.realpathSync,a=process.version,s=/^v[0-5]\./.test(a),c=n(184);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,n){if(s)return i(e,t,n);"function"==typeof t&&(n=t,t=null),i(e,t,(function(r,i){u(r)?c.realpath(e,t,n):n(r,i)}))}function d(e,t){if(s)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},184:(e,t,n)=>{var r=n(1017),i="win32"===process.platform,o=n(7147),a=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function s(e){return"function"==typeof e?e:function(){var e;if(a){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}r.normalize;if(i)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(i)var u=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else u=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,a,s,l,d=e,f={},p={};function h(){var t=u.exec(e);n=t[0].length,a=t[0],s=t[0],l="",i&&!p[s]&&(o.lstatSync(s),p[s]=!0)}for(h();n<e.length;){c.lastIndex=n;var m=c.exec(e);if(l=a,a+=m[0],s=l+m[1],n=c.lastIndex,!(p[s]||t&&t[s]===s)){var g;if(t&&Object.prototype.hasOwnProperty.call(t,s))g=t[s];else{var y=o.lstatSync(s);if(!y.isSymbolicLink()){p[s]=!0,t&&(t[s]=s);continue}var _=null;if(!i){var v=y.dev.toString(32)+":"+y.ino.toString(32);f.hasOwnProperty(v)&&(_=f[v])}null===_&&(o.statSync(s),_=o.readlinkSync(s)),g=r.resolve(l,_),t&&(t[s]=g),i||(f[v]=_)}e=r.resolve(g,e.slice(n)),h()}}return t&&(t[d]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=s(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var a,l,d,f,p=e,h={},m={};function g(){var t=u.exec(e);a=t[0].length,l=t[0],d=t[0],f="",i&&!m[d]?o.lstat(d,(function(e){if(e)return n(e);m[d]=!0,y()})):process.nextTick(y)}function y(){if(a>=e.length)return t&&(t[p]=e),n(null,e);c.lastIndex=a;var r=c.exec(e);return f=l,l+=r[0],d=f+r[1],a=c.lastIndex,m[d]||t&&t[d]===d?process.nextTick(y):t&&Object.prototype.hasOwnProperty.call(t,d)?b(t[d]):o.lstat(d,_)}function _(e,r){if(e)return n(e);if(!r.isSymbolicLink())return m[d]=!0,t&&(t[d]=d),process.nextTick(y);if(!i){var a=r.dev.toString(32)+":"+r.ino.toString(32);if(h.hasOwnProperty(a))return v(null,h[a],d)}o.stat(d,(function(e){if(e)return n(e);o.readlink(d,(function(e,t){i||(h[a]=t),v(e,t)}))}))}function v(e,i,o){if(e)return n(e);var a=r.resolve(f,i);t&&(t[o]=a),b(a)}function b(t){e=r.resolve(t,e.slice(a)),g()}g()}},1656:(e,t,n)=>{var r=n(7477),i=Object.create(null),o=n(4132);function a(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}e.exports=r((function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o((function t(){var n=i[e],r=n.length,o=a(arguments);try{for(var s=0;s<r;s++)n[s].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick((function(){t.apply(null,o)}))):delete i[e]}}))}(e))}))},1800:(e,t,n)=>{try{var r=n(3837);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(87)}},87:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},5021:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AsyncContainerModule:()=>tt,BindingScopeEnum:()=>y,BindingTypeEnum:()=>_,Container:()=>Je,ContainerModule:()=>et,LazyServiceIdentifer:()=>W,METADATA_KEY:()=>Tt,MetadataReader:()=>A,TargetTypeEnum:()=>v,createTaggedDecorator:()=>ot,decorate:()=>ct,getServiceIdentifierAsString:()=>F,id:()=>E,inject:()=>pt,injectable:()=>ut,interfaces:()=>vt,multiBindToService:()=>pe,multiInject:()=>gt,named:()=>dt,namedConstraint:()=>Be,optional:()=>ht,postConstruct:()=>bt,preDestroy:()=>Et,tagged:()=>lt,taggedConstraint:()=>je,targetName:()=>yt,traverseAncerstors:()=>Me,typeConstraint:()=>Le,unmanaged:()=>mt});var r={};n.r(r),n.d(r,{DESIGN_PARAM_TYPES:()=>p,INJECT_TAG:()=>c,MULTI_INJECT_TAG:()=>u,NAMED_TAG:()=>i,NAME_TAG:()=>o,NON_CUSTOM_TAG_KEYS:()=>g,OPTIONAL_TAG:()=>s,PARAM_TYPES:()=>f,POST_CONSTRUCT:()=>h,PRE_DESTROY:()=>m,TAGGED:()=>l,TAGGED_PROP:()=>d,UNMANAGED_TAG:()=>a});var i="named",o="name",a="unmanaged",s="optional",c="inject",u="multi_inject",l="inversify:tagged",d="inversify:tagged_props",f="inversify:paramtypes",p="design:paramtypes",h="post_construct",m="pre_destroy";var g=[c,u,o,a,i,s],y={Request:"Request",Singleton:"Singleton",Transient:"Transient"},_={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},v={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},b=0;function E(){return b++}var T=function(){function e(e,t){this.id=E(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=_.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===y.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.onDeactivation=this.onDeactivation,t.cache=this.cache,t},e}(),w="Metadata key was used more than once in a parameter:",S="NULL argument",P="Key Not Found",R="Ambiguous match found for serviceIdentifier:",D="No matching bindings found for serviceIdentifier:",C="Missing required @injectable annotation in:",x="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",N=function(e,t){return"onDeactivation() error in class "+e+": "+t},A=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(f,e),userGeneratedMetadata:Reflect.getMetadata(l,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(d,e)||[]},e}(),O=0,I=1;function k(e){return e instanceof RangeError||"Maximum call stack size exceeded"===e.message}function F(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function M(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=L(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r}function j(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||j(e.parentRequest,t))}function B(e){e.childRequests.forEach((function(e){if(j(e,e.serviceIdentifier)){var t=function(e){return function e(t,n){void 0===n&&(n=[]);var r=F(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(e);throw new Error("Circular dependency found: "+t)}B(e)}))}function L(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}var q=function(){function e(e){this.id=E(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}(),U=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===i?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},e}(),H=function(e,t){this.parentContext=e,this.rootRequest=t},W=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}(),$=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}(),Y=function(){function e(e,t,n,r){this.id=E(),this.type=e,this.serviceIdentifier=n;var o="symbol"==typeof t?t.toString().slice(7,-1):t;this.name=new $(o||""),this.identifier=t,this.metadata=new Array;var a=null;"string"==typeof r?a=new U(i,r):r instanceof U&&(a=r),null!==a&&this.metadata.push(a)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(u)},e.prototype.matchesArray=function(e){return this.matchesTag(u)(e)},e.prototype.isNamed=function(){return this.hasTag(i)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return g.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(s)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===i}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return g.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(i)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}(),z=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function G(e,t,n,r){var i=e.getConstructorMetadata(n),o=i.compilerGeneratedMetadata;if(void 0===o)throw new Error(C+" "+t+".");var a=i.userGeneratedMetadata,s=Object.keys(a),c=0===n.length&&s.length>0,u=s.length>n.length,l=function(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=X(a,e,t,n,r);null!==s&&o.push(s)}return o}(r,t,o,a,c||u?s.length:n.length),d=V(e,n,t);return z(z([],l,!0),d,!0)}function X(e,t,n,r,i){var o=i[e.toString()]||[],a=Z(o),s=!0!==a.unmanaged,c=r[e],u=a.inject||a.multiInject;if((c=u||c)instanceof W&&(c=c.unwrap()),s){if(!t&&(c===Object||c===Function||void 0===c))throw new Error("Missing required @inject or @multiInject annotation in: argument "+e+" in class "+n+".");var l=new Y(v.ConstructorArgument,a.targetName,c);return l.metadata=o,l}return null}function K(e,t,n,r){var i=e||t;if(void 0===i){var o=C+" for property "+String(n)+" in class "+r+".";throw new Error(o)}return i}function V(e,t,n){for(var r=e.getPropertiesMetadata(t),i=[],o=Object.getOwnPropertySymbols(r),a=0,s=Object.keys(r).concat(o);a<s.length;a++){var c=s[a],u=r[c],l=Z(u),d=l.targetName||c,f=K(l.inject,l.multiInject,c,n),p=new Y(v.ClassProperty,d,f);p.metadata=u,i.push(p)}var h=Object.getPrototypeOf(t.prototype).constructor;if(h!==Object){var m=V(e,h,n);i=z(z([],i,!0),m,!0)}return i}function Q(e,t){var n=Object.getPrototypeOf(t.prototype).constructor;if(n!==Object){var r=G(e,L(n),n,!0),i=r.map((function(e){return e.metadata.filter((function(e){return e.key===a}))})),o=[].concat.apply([],i).length,s=r.length-o;return s>0?s:Q(e,n)}return 0}function Z(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[c],multiInject:t[u],targetName:t[o],unmanaged:t[a]}}var J=function(){function e(e,t,n,r,i){this.id=E(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=i,this.childRequests=[],this.bindings=Array.isArray(r)?r:[r],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();function ee(e){return e._bindingDictionary}function te(e,t,n,r,i){var o=re(n.container,i.serviceIdentifier),a=[];return o.length===O&&n.container.options.autoBindInjectable&&"function"==typeof i.serviceIdentifier&&e.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(i.serviceIdentifier).toSelf(),o=re(n.container,i.serviceIdentifier)),a=t?o:o.filter((function(e){var t=new J(e.serviceIdentifier,n,r,e,i);return e.constraint(t)})),function(e,t,n,r){switch(t.length){case O:if(n.isOptional())return t;var i=F(e),o=D;throw o+=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e}(i,n),o+=M(r,i,re),new Error(o);case I:return t;default:if(n.isArray())return t;i=F(e),o=R+" "+i;throw o+=M(r,i,re),new Error(o)}}(i.serviceIdentifier,a,i,n.container),a}function ne(e,t,n,r,i,o){var a,s;if(null===i){a=te(e,t,r,null,o),s=new J(n,r,null,a,o);var c=new H(r,s);r.addPlan(c)}else a=te(e,t,r,i,o),s=i.addChildRequest(o.serviceIdentifier,a,o);a.forEach((function(t){var n=null;if(o.isArray())n=s.addChildRequest(t.serviceIdentifier,t,o);else{if(t.cache)return;n=s}if(t.type===_.Instance&&null!==t.implementationType){var i=function(e,t){return G(e,L(t),t,!1)}(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var a=Q(e,t.implementationType);if(i.length<a){var c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."}(L(t.implementationType));throw new Error(c)}}i.forEach((function(t){ne(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function re(e,t){var n=[],r=ee(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=re(e.parent,t)),n}function ie(e,t,n,r,i,o,a,s){void 0===s&&(s=!1);var l=new q(t),d=function(e,t,n,r,i,o){var a=new U(e?u:c,n),s=new Y(t,r,n,a);if(void 0!==i){var l=new U(i,o);s.metadata.push(l)}return s}(n,r,i,"",o,a);try{return ne(e,s,i,l,null,d),l}catch(e){throw k(e)&&B(l.plan.rootRequest),e}}function oe(e){return("object"==typeof e&&null!==e||"function"==typeof e)&&"function"==typeof e.then}function ae(e){return!!oe(e)||Array.isArray(e)&&e.some(oe)}var se,ce=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},ue=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},le=function(e,t,n){e.has(t.id)||e.set(t.id,n)},de=function(e,t){e.cache=t,e.activated=!0,oe(t)&&fe(e,t)},fe=function(e,t){return ce(void 0,void 0,void 0,(function(){var n,r;return ue(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t];case 1:return n=i.sent(),e.cache=n,[3,3];case 2:throw r=i.sent(),e.cache=null,e.activated=!1,r;case 3:return[2]}}))}))};!function(e){e.DynamicValue="toDynamicValue",e.Factory="toFactory",e.Provider="toProvider"}(se||(se={}));var pe=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}},he=function(){return he=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},he.apply(this,arguments)},me=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},ge=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ye=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function _e(e,t,n){var r;if(t.length>0){var i=function(e,t){return e.reduce((function(e,n){var r=t(n);return n.target.type===v.ConstructorArgument?e.constructorInjections.push(r):(e.propertyRequests.push(n),e.propertyInjections.push(r)),e.isAsync||(e.isAsync=ae(r)),e}),{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}(t,n),o=he(he({},i),{constr:e});r=i.isAsync?function(e){return me(this,void 0,void 0,(function(){var t,n;return ge(this,(function(r){switch(r.label){case 0:return[4,be(e.constructorInjections)];case 1:return t=r.sent(),[4,be(e.propertyInjections)];case 2:return n=r.sent(),[2,ve(he(he({},e),{constructorInjections:t,propertyInjections:n}))]}}))}))}(o):ve(o)}else r=new e;return r}function ve(e){var t,n=new((t=e.constr).bind.apply(t,ye([void 0],e.constructorInjections,!1)));return e.propertyRequests.forEach((function(t,r){var i=t.target.identifier,o=e.propertyInjections[r];n[i]=o})),n}function be(e){return me(this,void 0,void 0,(function(){var t,n,r,i;return ge(this,(function(o){for(t=[],n=0,r=e;n<r.length;n++)i=r[n],Array.isArray(i)?t.push(Promise.all(i)):t.push(i);return[2,Promise.all(t)]}))}))}function Ee(e,t){var n=function(e,t){var n,r;if(Reflect.hasMetadata(h,e)){var i=Reflect.getMetadata(h,e);try{return null===(r=(n=t)[i.value])||void 0===r?void 0:r.call(n)}catch(t){throw new Error((o=e.name,a=t.message,"@postConstruct error in class "+o+": "+a))}}var o,a}(e,t);return oe(n)?n.then((function(){return t})):t}function Te(e,t){e.scope!==y.Singleton&&function(e,t){var n="Class cannot be instantiated in "+(e.scope===y.Request?"request":"transient")+" scope.";if("function"==typeof e.onDeactivation)throw new Error(N(t.name,n));if(Reflect.hasMetadata(m,t))throw new Error("@preDestroy error in class "+t.name+": "+n)}(e,t)}var we=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Se=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Pe=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,r=t.childRequests,i=t.target&&t.target.isArray(),o=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(i&&o)return r.map((function(t){return Pe(e)(t)}));if(!t.target.isOptional()||0!==n.length){var a=n[0];return xe(e,t,a)}}},Re=function(e,t){var n=function(e){switch(e.type){case _.Factory:return{factory:e.factory,factoryType:se.Factory};case _.Provider:return{factory:e.provider,factoryType:se.Provider};case _.DynamicValue:return{factory:e.dynamicValue,factoryType:se.DynamicValue};default:throw new Error("Unexpected factory type "+e.type)}}(e);return function(e,t){try{return e()}catch(e){throw k(e)&&(e=t()),e}}((function(){return n.factory.bind(e)(t)}),(function(){return new Error((e=n.factoryType,r=t.currentRequest.serviceIdentifier.toString(),"It looks like there is a circular dependency in one of the '"+e+"' bindings. Please investigate bindings withservice identifier '"+r+"'."));var e,r}))},De=function(e,t,n){var r,i=t.childRequests;switch(function(e){var t=null;switch(e.type){case _.ConstantValue:case _.Function:t=e.cache;break;case _.Constructor:case _.Instance:t=e.implementationType;break;case _.DynamicValue:t=e.dynamicValue;break;case _.Provider:t=e.provider;break;case _.Factory:t=e.factory}if(null===t){var n=F(e.serviceIdentifier);throw new Error("Invalid binding type: "+n)}}(n),n.type){case _.ConstantValue:case _.Function:r=n.cache;break;case _.Constructor:r=n.implementationType;break;case _.Instance:r=function(e,t,n,r){Te(e,t);var i=_e(t,n,r);return oe(i)?i.then((function(e){return Ee(t,e)})):Ee(t,i)}(n,n.implementationType,i,Pe(e));break;default:r=Re(n,t.parentContext)}return r},Ce=function(e,t,n){var r=function(e,t){return t.scope===y.Singleton&&t.activated?t.cache:t.scope===y.Request&&e.has(t.id)?e.get(t.id):null}(e,t);return null!==r||function(e,t,n){t.scope===y.Singleton&&de(t,n),t.scope===y.Request&&le(e,t,n)}(e,t,r=n()),r},xe=function(e,t,n){return Ce(e,n,(function(){var r=De(e,t,n);return r=oe(r)?r.then((function(e){return Ne(t,n,e)})):Ne(t,n,r)}))};function Ne(e,t,n){var r,i=Ae(e.parentContext,t,n),o=Fe(e.parentContext.container),a=o.next();do{r=a.value;var s=e.parentContext,c=e.serviceIdentifier,u=ke(r,c);i=oe(i)?Ie(u,s,i):Oe(u,s,i),a=o.next()}while(!0!==a.done&&!ee(r).hasKey(e.serviceIdentifier));return i}var Ae=function(e,t,n){return"function"==typeof t.onActivation?t.onActivation(e,n):n},Oe=function(e,t,n){for(var r=e.next();!r.done;){if(oe(n=r.value(t,n)))return Ie(e,t,n);r=e.next()}return n},Ie=function(e,t,n){return we(void 0,void 0,void 0,(function(){var r,i;return Se(this,(function(o){switch(o.label){case 0:return[4,n];case 1:r=o.sent(),i=e.next(),o.label=2;case 2:return i.done?[3,4]:[4,i.value(t,r)];case 3:return r=o.sent(),i=e.next(),[3,2];case 4:return[2,r]}}))}))},ke=function(e,t){var n=e._activations;return n.hasKey(t)?n.get(t).values():[].values()},Fe=function(e){for(var t=[e],n=e.parent;null!==n;)t.push(n),n=n.parent;return{next:function(){var e=t.pop();return void 0!==e?{done:!1,value:e}:{done:!0,value:void 0}}}};var Me=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||Me(n,t))},je=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new U(e,t),n}},Be=je(i),Le=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}},qe=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new Ue(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=Be(e),new Ue(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e&&(null!==e.target&&!e.target.isNamed()&&!e.target.isTagged())},new Ue(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=je(e)(t),new Ue(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return null!==t&&Le(e)(t.parentRequest)},new Ue(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return null!==t&&Be(e)(t.parentRequest)},new Ue(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return null!==n&&je(e)(t)(n.parentRequest)},new Ue(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return null!==t&&Me(t,Le(e))},new Ue(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return null!==t&&!Me(t,Le(e))},new Ue(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return null!==t&&Me(t,Be(e))},new Ue(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return null!==t&&!Me(t,Be(e))},new Ue(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return null!==n&&Me(n,je(e)(t))},new Ue(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return null!==n&&!Me(n,je(e)(t))},new Ue(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return null!==t&&Me(t,e)},new Ue(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return null!==t&&!Me(t,e)},new Ue(this._binding)},e}(),Ue=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new qe(this._binding)},e.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new qe(this._binding)},e}(),He=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new qe(this._binding),this._bindingOnSyntax=new Ue(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},e}(),We=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=y.Request,new He(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=y.Singleton,new He(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=y.Transient,new He(this._binding)},e}(),$e=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new qe(this._binding),this._bindingOnSyntax=new Ue(this._binding),this._bindingInSyntax=new We(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},e}(),Ye=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=_.Instance,this._binding.implementationType=e,new $e(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error("The toSelf function can only be applied when a constructor is used as service identifier");var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=_.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=y.Singleton,new He(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=_.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new $e(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=_.Constructor,this._binding.implementationType=e,this._binding.scope=y.Singleton,new He(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=_.Factory,this._binding.factory=e,this._binding.scope=y.Singleton,new He(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error("Value provided to function binding must be a function!");var t=this.toConstantValue(e);return this._binding.type=_.Function,this._binding.scope=y.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=_.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=y.Singleton,new He(this._binding)},e.prototype.toAutoNamedFactory=function(e){return this._binding.type=_.Factory,this._binding.factory=function(t){return function(n){return t.container.getNamed(e,n)}},new He(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=_.Provider,this._binding.provider=e,this._binding.scope=y.Singleton,new He(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}(),ze=function(){function e(){}return e.of=function(t,n,r,i,o){var a=new e;return a.bindings=t,a.middleware=n,a.deactivations=i,a.activations=r,a.moduleActivationStore=o,a},e}();var Ge=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(S);if(null==t)throw new Error(S);var n=this._map.get(e);void 0!==n?n.push(t):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(S);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(P)},e.prototype.remove=function(e){if(null==e)throw new Error(S);if(!this._map.delete(e))throw new Error(P)},e.prototype.removeIntersection=function(e){var t=this;this.traverse((function(n,r){var i=e.hasKey(n)?e.get(n):void 0;if(void 0!==i){var o=r.filter((function(e){return!i.some((function(t){return e===t}))}));t._setValue(n,o)}}))},e.prototype.removeByCondition=function(e){var t=this,n=[];return this._map.forEach((function(r,i){for(var o=[],a=0,s=r;a<s.length;a++){var c=s[a];e(c)?n.push(c):o.push(c)}t._setValue(i,o)})),n},e.prototype.hasKey=function(e){if(null==e)throw new Error(S);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,"object"==typeof(r=e)&&null!==r&&"clone"in r&&"function"==typeof r.clone?e.clone():e);var r}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e.prototype._setValue=function(e,t){t.length>0?this._map.set(e,t):this._map.delete(e)},e}(),Xe=function(){function e(){this._map=new Map}return e.prototype.remove=function(e){if(this._map.has(e)){var t=this._map.get(e);return this._map.delete(e),t}return this._getEmptyHandlersStore()},e.prototype.addDeactivation=function(e,t,n){this._getModuleActivationHandlers(e).onDeactivations.add(t,n)},e.prototype.addActivation=function(e,t,n){this._getModuleActivationHandlers(e).onActivations.add(t,n)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){t._map.set(n,{onActivations:e.onActivations.clone(),onDeactivations:e.onDeactivations.clone()})})),t},e.prototype._getModuleActivationHandlers=function(e){var t=this._map.get(e);return void 0===t&&(t=this._getEmptyHandlersStore(),this._map.set(e,t)),t},e.prototype._getEmptyHandlersStore=function(){return{onActivations:new Ge,onDeactivations:new Ge}},e}(),Ke=function(){return Ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ke.apply(this,arguments)},Ve=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Qe=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ze=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Je=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error("Invalid Container constructor argument. Container options must be an object.");if(void 0===t.defaultScope)t.defaultScope=y.Transient;else if(t.defaultScope!==y.Singleton&&t.defaultScope!==y.Transient&&t.defaultScope!==y.Request)throw new Error("Invalid Container option. Default scope must be a string ('singleton' or 'transient').");if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error("Invalid Container option. Auto bind injectable must be a boolean");if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error("Invalid Container option. Skip base check must be a boolean");this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=E(),this._bindingDictionary=new Ge,this._snapshots=[],this._middleware=null,this._activations=new Ge,this._deactivations=new Ge,this.parent=null,this._metadataReader=new A,this._moduleActivationStore=new Xe}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new e,a=Ze([t,n],r,!0).map((function(e){return ee(e)})),s=ee(o);function c(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return a.forEach((function(e){c(e,s)})),o},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ve(this,void 0,void 0,(function(){var t,n,r,i,o;return Qe(this,(function(a){switch(a.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,a.label=1;case 1:return n<r.length?(i=r[n],o=t(i.id),[4,i.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction,o.unbindAsyncFunction,o.onActivationFunction,o.onDeactivationFunction)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){var n=e._removeModuleBindings(t.id);e._deactivateSingletons(n),e._removeModuleHandlers(t.id)}))},e.prototype.unloadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ve(this,void 0,void 0,(function(){var t,n,r,i;return Qe(this,(function(o){switch(o.label){case 0:t=0,n=e,o.label=1;case 1:return t<n.length?(r=n[t],i=this._removeModuleBindings(r.id),[4,this._deactivateSingletonsAsync(i)]):[3,4];case 2:o.sent(),this._removeModuleHandlers(r.id),o.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.bind=function(e){var t=this.options.defaultScope||y.Transient,n=new T(e,t);return this._bindingDictionary.add(e,n),new Ye(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.rebindAsync=function(e){return Ve(this,void 0,void 0,(function(){return Qe(this,(function(t){switch(t.label){case 0:return[4,this.unbindAsync(e)];case 1:return t.sent(),[2,this.bind(e)]}}))}))},e.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var t=this._bindingDictionary.get(e);this._deactivateSingletons(t)}this._removeServiceFromDictionary(e)},e.prototype.unbindAsync=function(e){return Ve(this,void 0,void 0,(function(){var t;return Qe(this,(function(n){switch(n.label){case 0:return this._bindingDictionary.hasKey(e)?(t=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}}))}))},e.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse((function(t,n){e._deactivateSingletons(n)})),this._bindingDictionary=new Ge},e.prototype.unbindAllAsync=function(){return Ve(this,void 0,void 0,(function(){var e,t=this;return Qe(this,(function(n){switch(n.label){case 0:return e=[],this._bindingDictionary.traverse((function(n,r){e.push(t._deactivateSingletonsAsync(r))})),[4,Promise.all(e)];case 1:return n.sent(),this._bindingDictionary=new Ge,[2]}}))}))},e.prototype.onActivation=function(e,t){this._activations.add(e,t)},e.prototype.onDeactivation=function(e,t){this._deactivations.add(e,t)},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,i,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=function(e,t,n,r){var i=new Y(v.Variable,"",t,new U(n,r)),o=new q(e);return new J(t,o,null,[],i)}(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(ze.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error("No snapshot available to restore.");this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){var t=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(t)},e.prototype.getAsync=function(e){return Ve(this,void 0,void 0,(function(){var t;return Qe(this,(function(n){return t=this._getNotAllArgs(e,!1),[2,this._get(t)]}))}))},e.prototype.getTagged=function(e,t,n){var r=this._getNotAllArgs(e,!1,t,n);return this._getButThrowIfAsync(r)},e.prototype.getTaggedAsync=function(e,t,n){return Ve(this,void 0,void 0,(function(){var r;return Qe(this,(function(i){return r=this._getNotAllArgs(e,!1,t,n),[2,this._get(r)]}))}))},e.prototype.getNamed=function(e,t){return this.getTagged(e,i,t)},e.prototype.getNamedAsync=function(e,t){return this.getTaggedAsync(e,i,t)},e.prototype.getAll=function(e){var t=this._getAllArgs(e);return this._getButThrowIfAsync(t)},e.prototype.getAllAsync=function(e){var t=this._getAllArgs(e);return this._getAll(t)},e.prototype.getAllTagged=function(e,t,n){var r=this._getNotAllArgs(e,!0,t,n);return this._getButThrowIfAsync(r)},e.prototype.getAllTaggedAsync=function(e,t,n){var r=this._getNotAllArgs(e,!0,t,n);return this._getAll(r)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,i,t)},e.prototype.getAllNamedAsync=function(e,t){return this.getAllTaggedAsync(e,i,t)},e.prototype.resolve=function(e){var t=this.isBound(e);t||this.bind(e).toSelf();var n=this.get(e);return t||this.unbind(e),n},e.prototype._preDestroy=function(e,t){if(Reflect.hasMetadata(m,e))return t[Reflect.getMetadata(m,e).value]()},e.prototype._removeModuleHandlers=function(e){var t=this._moduleActivationStore.remove(e);this._activations.removeIntersection(t.onActivations),this._deactivations.removeIntersection(t.onDeactivations)},e.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition((function(t){return t.moduleId===e}))},e.prototype._deactivate=function(e,t){var n=this,r=Object.getPrototypeOf(t).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var i=this._deactivateContainer(t,this._deactivations.get(e.serviceIdentifier).values());if(oe(i))return this._handleDeactivationError(i.then((function(){return n._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,t,r)})),r)}var o=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,t,r);if(oe(o))return this._handleDeactivationError(o,r)}catch(e){throw new Error(N(r.name,e.message))}},e.prototype._handleDeactivationError=function(e,t){return Ve(this,void 0,void 0,(function(){var n;return Qe(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e];case 1:return r.sent(),[3,3];case 2:throw n=r.sent(),new Error(N(t.name,n.message));case 3:return[2]}}))}))},e.prototype._deactivateContainer=function(e,t){for(var n=this,r=t.next();r.value;){var i=r.value(e);if(oe(i))return i.then((function(){return n._deactivateContainerAsync(e,t)}));r=t.next()}},e.prototype._deactivateContainerAsync=function(e,t){return Ve(this,void 0,void 0,(function(){var n;return Qe(this,(function(r){switch(r.label){case 0:n=t.next(),r.label=1;case 1:return n.value?[4,n.value(e)]:[3,3];case 2:return r.sent(),n=t.next(),[3,1];case 3:return[2]}}))}))},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind(r);return t(i,n),i}},r=function(t){return function(n,r){e._moduleActivationStore.addActivation(t,n,r),e.onActivation(n,r)}},i=function(t){return function(n,r){e._moduleActivationStore.addDeactivation(t,n,r),e.onDeactivation(n,r)}};return function(o){return{bindFunction:(a=o,function(n){var r=e.bind(n);return t(r,a),r}),isboundFunction:function(t){return e.isBound(t)},onActivationFunction:r(o),onDeactivationFunction:i(o),rebindFunction:n(o),unbindFunction:function(t){return e.unbind(t)},unbindAsyncFunction:function(t){return e.unbindAsync(t)}};var a}},e.prototype._getAll=function(e){return Promise.all(this._get(e))},e.prototype._get=function(e){var t=Ke(Ke({},e),{contextInterceptor:function(e){return e},targetType:v.Variable});if(this._middleware){var n=this._middleware(t);if(null==n)throw new Error("Invalid return type in middleware. Middleware must return!");return n}return this._planAndResolve()(t)},e.prototype._getButThrowIfAsync=function(e){var t=this._get(e);if(ae(t))throw new Error("You are attempting to construct '"+e.serviceIdentifier+"' in a synchronous way\n but it has asynchronous dependencies.");return t},e.prototype._getAllArgs=function(e){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e}},e.prototype._getNotAllArgs=function(e,t,n,r){return{avoidConstraints:!1,isMultiInject:t,serviceIdentifier:e,key:n,value:r}},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=ie(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return function(e){return Pe(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}(n=t.contextInterceptor(n))}},e.prototype._deactivateIfSingleton=function(e){var t=this;if(e.activated)return oe(e.cache)?e.cache.then((function(n){return t._deactivate(e,n)})):this._deactivate(e,e.cache)},e.prototype._deactivateSingletons=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(oe(this._deactivateIfSingleton(r)))throw new Error("Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)")}},e.prototype._deactivateSingletonsAsync=function(e){return Ve(this,void 0,void 0,(function(){var t=this;return Qe(this,(function(n){switch(n.label){case 0:return[4,Promise.all(e.map((function(e){return t._deactivateIfSingleton(e)})))];case 1:return n.sent(),[2]}}))}))},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,t,n){return this.parent?this._deactivate.bind(this.parent)(e,t):this._bindingDeactivationAndPreDestroy(e,t,n)},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,t,n){return Ve(this,void 0,void 0,(function(){return Qe(this,(function(r){switch(r.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,t)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,t,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},e.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error("Could not unbind serviceIdentifier: "+F(e))}},e.prototype._bindingDeactivationAndPreDestroy=function(e,t,n){var r=this;if("function"==typeof e.onDeactivation){var i=e.onDeactivation(t);if(oe(i))return i.then((function(){return r._preDestroy(n,t)}))}return this._preDestroy(n,t)},e.prototype._bindingDeactivationAndPreDestroyAsync=function(e,t,n){return Ve(this,void 0,void 0,(function(){return Qe(this,(function(r){switch(r.label){case 0:return"function"!=typeof e.onDeactivation?[3,2]:[4,e.onDeactivation(t)];case 1:r.sent(),r.label=2;case 2:return[4,this._preDestroy(n,t)];case 3:return r.sent(),[2]}}))}))},e}(),et=function(e){this.id=E(),this.registry=e},tt=function(e){this.id=E(),this.registry=e};function nt(e,t,n,r){!function(e){if(void 0!==e)throw new Error(x)}(t),it(l,e,n.toString(),r)}function rt(e){var t=[];if(Array.isArray(e)){var n=function(e){for(var t=new Set,n=0,r=e;n<r.length;n++){var i=r[n];if(t.has(i))return i;t.add(i)}}((t=e).map((function(e){return e.key})));if(void 0!==n)throw new Error(w+" "+n.toString())}else t=[e];return t}function it(e,t,n,r){var i=rt(r),o={};Reflect.hasOwnMetadata(e,t)&&(o=Reflect.getMetadata(e,t));var a=o[n];if(void 0===a)a=[];else for(var s=function(e){if(i.some((function(t){return t.key===e.key})))throw new Error(w+" "+e.key.toString())},c=0,u=a;c<u.length;c++){s(u[c])}a.push.apply(a,i),o[n]=a,Reflect.defineMetadata(e,o,t)}function ot(e){return function(t,n,r){"number"==typeof r?nt(t,n,r,e):function(e,t,n){if(void 0!==e.prototype)throw new Error(x);it(d,e.constructor,t,n)}(t,n,e)}}function at(e,t){Reflect.decorate(e,t)}function st(e,t){return function(n,r){t(n,r,e)}}function ct(e,t,n){"number"==typeof n?at([st(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):at([e],t)}function ut(){return function(e){if(Reflect.hasOwnMetadata(f,e))throw new Error("Cannot apply @injectable decorator multiple times.");var t=Reflect.getMetadata(p,e)||[];return Reflect.defineMetadata(f,t,e),e}}function lt(e,t){return ot(new U(e,t))}function dt(e){return ot(new U(i,e))}function ft(e){return function(t){return function(n,r,i){if(void 0===t){var o="function"==typeof n?n.name:n.constructor.name;throw new Error("@inject called with undefined this could mean that the class "+o+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.")}return ot(new U(e,t))(n,r,i)}}}var pt=ft(c);function ht(){return ot(new U(s,!0))}function mt(){return function(e,t,n){nt(e,t,n,new U(a,!0))}}var gt=ft(u);function yt(e){return function(t,n,r){nt(t,n,r,new U(o,e))}}function _t(e,t){return function(){return function(n,r){var i=new U(e,r);if(Reflect.hasOwnMetadata(e,n.constructor))throw new Error(t);Reflect.defineMetadata(e,i,n.constructor)}}}var vt,bt=_t(h,"Cannot apply @postConstruct decorator multiple times in the same class"),Et=_t(m,"Cannot apply @preDestroy decorator multiple times in the same class");vt||(vt={});var Tt=r},8784:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,u=32,l=64,d=128,f=256,p=1/0,h=9007199254740991,m=NaN,g=4294967295,y=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",u],["partialRight",l],["rearg",f]],_="[object Arguments]",v="[object Array]",b="[object Boolean]",E="[object Date]",T="[object Error]",w="[object Function]",S="[object GeneratorFunction]",P="[object Map]",R="[object Number]",D="[object Object]",C="[object Promise]",x="[object RegExp]",N="[object Set]",A="[object String]",O="[object Symbol]",I="[object WeakMap]",k="[object ArrayBuffer]",F="[object DataView]",M="[object Float32Array]",j="[object Float64Array]",B="[object Int8Array]",L="[object Int16Array]",q="[object Int32Array]",U="[object Uint8Array]",H="[object Uint8ClampedArray]",W="[object Uint16Array]",$="[object Uint32Array]",Y=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,V=RegExp(X.source),Q=RegExp(K.source),Z=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,_e=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,Ee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Te=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Pe="\\u2700-\\u27bf",Re="a-z\\xdf-\\xf6\\xf8-\\xff",De="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="['’]",Ae="[\\ud800-\\udfff]",Oe="["+xe+"]",Ie="["+Se+"]",ke="\\d+",Fe="[\\u2700-\\u27bf]",Me="["+Re+"]",je="[^\\ud800-\\udfff"+xe+ke+Pe+Re+De+"]",Be="\\ud83c[\\udffb-\\udfff]",Le="[^\\ud800-\\udfff]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+De+"]",We="(?:"+Me+"|"+je+")",$e="(?:"+He+"|"+je+")",Ye="(?:['’](?:d|ll|m|re|s|t|ve))?",ze="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Ie+"|"+Be+")"+"?",Xe="[\\ufe0e\\ufe0f]?",Ke=Xe+Ge+("(?:\\u200d(?:"+[Le,qe,Ue].join("|")+")"+Xe+Ge+")*"),Ve="(?:"+[Fe,qe,Ue].join("|")+")"+Ke,Qe="(?:"+[Le+Ie+"?",Ie,qe,Ue,Ae].join("|")+")",Ze=RegExp(Ne,"g"),Je=RegExp(Ie,"g"),et=RegExp(Be+"(?="+Be+")|"+Qe+Ke,"g"),tt=RegExp([He+"?"+Me+"+"+Ye+"(?="+[Oe,He,"$"].join("|")+")",$e+"+"+ze+"(?="+[Oe,He+We,"$"].join("|")+")",He+"?"+We+"+"+Ye,He+"+"+ze,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ke,Ve].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Se+Ce+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,at={};at[M]=at[j]=at[B]=at[L]=at[q]=at[U]=at[H]=at[W]=at[$]=!0,at[_]=at[v]=at[k]=at[b]=at[F]=at[E]=at[T]=at[w]=at[P]=at[R]=at[D]=at[x]=at[N]=at[A]=at[I]=!1;var st={};st[_]=st[v]=st[k]=st[F]=st[b]=st[E]=st[M]=st[j]=st[B]=st[L]=st[q]=st[P]=st[R]=st[D]=st[x]=st[N]=st[A]=st[O]=st[U]=st[H]=st[W]=st[$]=!0,st[T]=st[w]=st[I]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,lt=parseInt,dt="object"==typeof global&&global&&global.Object===Object&&global,ft="object"==typeof self&&self&&self.Object===Object&&self,pt=dt||ft||Function("return this")(),ht=t&&!t.nodeType&&t,mt=ht&&e&&!e.nodeType&&e,gt=mt&&mt.exports===ht,yt=gt&&dt.process,_t=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(e){}}(),vt=_t&&_t.isArrayBuffer,bt=_t&&_t.isDate,Et=_t&&_t.isMap,Tt=_t&&_t.isRegExp,wt=_t&&_t.isSet,St=_t&&_t.isTypedArray;function Pt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Rt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function xt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function At(e,t){return!!(null==e?0:e.length)&&Ut(e,t,0)>-1}function Ot(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function It(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function kt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ft(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=Yt("length");function Lt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function qt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ut(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):qt(e,Wt,n)}function Ht(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Wt(e){return e!=e}function $t(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:m}function Yt(e){return function(t){return null==t?i:t[e]}}function zt(e){return function(t){return null==e?i:e[t]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Xt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Vt(e){return e?e.slice(0,mn(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function Zt(e,t){return It(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Ut(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Ut(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=zt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),on=zt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ct[e]}function sn(e){return nt.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Bt(e)}function hn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=zt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n,r=(t=null==t?pt:yn.defaults(pt.Object(),t,yn.pick(pt,it))).Array,se=t.Date,Se=t.Error,Pe=t.Function,Re=t.Math,De=t.Object,Ce=t.RegExp,xe=t.String,Ne=t.TypeError,Ae=r.prototype,Oe=Pe.prototype,Ie=De.prototype,ke=t["__core-js_shared__"],Fe=Oe.toString,Me=Ie.hasOwnProperty,je=0,Be=(n=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Le=Ie.toString,qe=Fe.call(De),Ue=pt._,He=Ce("^"+Fe.call(Me).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=gt?t.Buffer:i,$e=t.Symbol,Ye=t.Uint8Array,ze=We?We.allocUnsafe:i,Ge=un(De.getPrototypeOf,De),Xe=De.create,Ke=Ie.propertyIsEnumerable,Ve=Ae.splice,Qe=$e?$e.isConcatSpreadable:i,et=$e?$e.iterator:i,nt=$e?$e.toStringTag:i,ct=function(){try{var e=ho(De,"defineProperty");return e({},"",{}),e}catch(e){}}(),dt=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,ft=se&&se.now!==pt.Date.now&&se.now,ht=t.setTimeout!==pt.setTimeout&&t.setTimeout,mt=Re.ceil,yt=Re.floor,_t=De.getOwnPropertySymbols,Bt=We?We.isBuffer:i,zt=t.isFinite,_n=Ae.join,vn=un(De.keys,De),bn=Re.max,En=Re.min,Tn=se.now,wn=t.parseInt,Sn=Re.random,Pn=Ae.reverse,Rn=ho(t,"DataView"),Dn=ho(t,"Map"),Cn=ho(t,"Promise"),xn=ho(t,"Set"),Nn=ho(t,"WeakMap"),An=ho(De,"create"),On=Nn&&new Nn,In={},kn=Uo(Rn),Fn=Uo(Dn),Mn=Uo(Cn),jn=Uo(xn),Bn=Uo(Nn),Ln=$e?$e.prototype:i,qn=Ln?Ln.valueOf:i,Un=Ln?Ln.toString:i;function Hn(e){if(is(e)&&!Ga(e)&&!(e instanceof zn)){if(e instanceof Yn)return e;if(Me.call(e,"__wrapped__"))return Ho(e)}return new Yn(e)}var Wn=function(){function e(){}return function(t){if(!rs(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function $n(){}function Yn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new Xn(e);this.size=t.size}function Zn(e,t){var n=Ga(e),r=!n&&za(e),i=!n&&!r&&Qa(e),o=!n&&!r&&!i&&fs(e),a=n||r||i||o,s=a?Kt(e.length,xe):[],c=s.length;for(var u in e)!t&&!Me.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Eo(u,c))||s.push(u);return s}function Jn(e){var t=e.length;return t?e[Vr(0,t-1)]:i}function er(e,t){return Bo(Ai(e),ur(t,0,e.length))}function tr(e){return Bo(Ai(e))}function nr(e,t,n){(n!==i&&!Wa(e[t],n)||n===i&&!(t in e))&&sr(e,t,n)}function rr(e,t,n){var r=e[t];Me.call(e,t)&&Wa(r,n)&&(n!==i||t in e)||sr(e,t,n)}function ir(e,t){for(var n=e.length;n--;)if(Wa(e[n][0],t))return n;return-1}function or(e,t,n,r){return hr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function ar(e,t){return e&&Oi(t,ks(t),e)}function sr(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function cr(e,t){for(var n=-1,o=t.length,a=r(o),s=null==e;++n<o;)a[n]=s?i:xs(e,t[n]);return a}function ur(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,o,a){var s,c=1&t,u=2&t,l=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!rs(e))return e;var d=Ga(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return Ai(e,s)}else{var f=yo(e),p=f==w||f==S;if(Qa(e))return Pi(e,c);if(f==D||f==_||p&&!o){if(s=u||p?{}:vo(e),!c)return u?function(e,t){return Oi(e,go(e),t)}(e,function(e,t){return e&&Oi(t,Fs(t),e)}(s,e)):function(e,t){return Oi(e,mo(e),t)}(e,ar(s,e))}else{if(!st[f])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case k:return Ri(e);case b:case E:return new r(+e);case F:return function(e,t){var n=t?Ri(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case j:case B:case L:case q:case U:case H:case W:case $:return Di(e,n);case P:return new r;case R:case A:return new r(e);case x:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return new r;case O:return i=e,qn?De(qn.call(i)):{}}var i}(e,f,c)}}a||(a=new Qn);var h=a.get(e);if(h)return h;a.set(e,s),us(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,a))})):os(e)&&e.forEach((function(r,i){s.set(i,lr(r,t,n,i,e,a))}));var m=d?i:(l?u?ao:oo:u?Fs:ks)(e);return Dt(m||e,(function(r,i){m&&(r=e[i=r]),rr(s,i,lr(r,t,n,i,e,a))})),s}function dr(e,t,n){var r=n.length;if(null==e)return!r;for(e=De(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ne(o);return ko((function(){e.apply(i,n)}),t)}function pr(e,t,n,r){var i=-1,o=At,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=It(t,Qt(n))),r?(o=Ot,a=!1):t.length>=200&&(o=Jt,a=!1,t=new Vn(t));e:for(;++i<s;){var l=e[i],d=null==n?l:n(l);if(l=r||0!==l?l:0,a&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;c.push(l)}else o(t,d,r)||c.push(l)}return c}Hn.templateSettings={escape:Z,evaluate:J,interpolate:ee,variable:"",imports:{_:Hn}},Hn.prototype=$n.prototype,Hn.prototype.constructor=Hn,Yn.prototype=Wn($n.prototype),Yn.prototype.constructor=Yn,zn.prototype=Wn($n.prototype),zn.prototype.constructor=zn,Gn.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(An){var n=t[e];return n===a?i:n}return Me.call(t,e)?t[e]:i},Gn.prototype.has=function(e){var t=this.__data__;return An?t[e]!==i:Me.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===i?a:t,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=ir(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ve.call(t,n,1),--this.size,!0)},Xn.prototype.get=function(e){var t=this.__data__,n=ir(t,e);return n<0?i:t[n][1]},Xn.prototype.has=function(e){return ir(this.__data__,e)>-1},Xn.prototype.set=function(e,t){var n=this.__data__,r=ir(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Dn||Xn),string:new Gn}},Kn.prototype.delete=function(e){var t=fo(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return fo(this,e).get(e)},Kn.prototype.has=function(e){return fo(this,e).has(e)},Kn.prototype.set=function(e,t){var n=fo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Vn.prototype.add=Vn.prototype.push=function(e){return this.__data__.set(e,a),this},Vn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new Xn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Xn){var r=n.__data__;if(!Dn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var hr=Fi(Tr),mr=Fi(wr,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function yr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(c===i?s==s&&!ds(s):n(s,c)))var c=s,u=a}return u}function _r(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=bo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?vr(s,t-1,n,r,i):kt(i,s):r||(i[i.length]=s)}return i}var br=Mi(),Er=Mi(!0);function Tr(e,t){return e&&br(e,t,ks)}function wr(e,t){return e&&Er(e,t,ks)}function Sr(e,t){return Nt(t,(function(t){return es(e[t])}))}function Pr(e,t){for(var n=0,r=(t=Ei(t,e)).length;null!=e&&n<r;)e=e[qo(t[n++])];return n&&n==r?e:i}function Rr(e,t,n){var r=t(e);return Ga(e)?r:kt(r,n(e))}function Dr(e){return null==e?e===i?"[object Undefined]":"[object Null]":nt&&nt in De(e)?function(e){var t=Me.call(e,nt),n=e[nt];try{e[nt]=i;var r=!0}catch(e){}var o=Le.call(e);r&&(t?e[nt]=n:delete e[nt]);return o}(e):function(e){return Le.call(e)}(e)}function Cr(e,t){return e>t}function xr(e,t){return null!=e&&Me.call(e,t)}function Nr(e,t){return null!=e&&t in De(e)}function Ar(e,t,n){for(var o=n?Ot:At,a=e[0].length,s=e.length,c=s,u=r(s),l=1/0,d=[];c--;){var f=e[c];c&&t&&(f=It(f,Qt(t))),l=En(f.length,l),u[c]=!n&&(t||a>=120&&f.length>=120)?new Vn(c&&f):i}f=e[0];var p=-1,h=u[0];e:for(;++p<a&&d.length<l;){var m=f[p],g=t?t(m):m;if(m=n||0!==m?m:0,!(h?Jt(h,g):o(d,g,n))){for(c=s;--c;){var y=u[c];if(!(y?Jt(y,g):o(e[c],g,n)))continue e}h&&h.push(g),d.push(m)}}return d}function Or(e,t,n){var r=null==(e=No(e,t=Ei(t,e)))?e:e[qo(Jo(t))];return null==r?i:Pt(r,e,n)}function Ir(e){return is(e)&&Dr(e)==_}function kr(e,t,n,r,o){return e===t||(null==e||null==t||!is(e)&&!is(t)?e!=e&&t!=t:function(e,t,n,r,o,a){var s=Ga(e),c=Ga(t),u=s?v:yo(e),l=c?v:yo(t),d=(u=u==_?D:u)==D,f=(l=l==_?D:l)==D,p=u==l;if(p&&Qa(e)){if(!Qa(t))return!1;s=!0,d=!1}if(p&&!d)return a||(a=new Qn),s||fs(e)?ro(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case F:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!o(new Ye(e),new Ye(t)));case b:case E:case R:return Wa(+e,+t);case T:return e.name==t.name&&e.message==t.message;case x:case A:return e==t+"";case P:var s=cn;case N:var c=1&r;if(s||(s=dn),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=ro(s(e),s(t),r,i,o,a);return a.delete(e),l;case O:if(qn)return qn.call(e)==qn.call(t)}return!1}(e,t,u,n,r,o,a);if(!(1&n)){var h=d&&Me.call(e,"__wrapped__"),m=f&&Me.call(t,"__wrapped__");if(h||m){var g=h?e.value():e,y=m?t.value():t;return a||(a=new Qn),o(g,y,n,r,a)}}if(!p)return!1;return a||(a=new Qn),function(e,t,n,r,o,a){var s=1&n,c=oo(e),u=c.length,l=oo(t).length;if(u!=l&&!s)return!1;var d=u;for(;d--;){var f=c[d];if(!(s?f in t:Me.call(t,f)))return!1}var p=a.get(e),h=a.get(t);if(p&&h)return p==t&&h==e;var m=!0;a.set(e,t),a.set(t,e);var g=s;for(;++d<u;){var y=e[f=c[d]],_=t[f];if(r)var v=s?r(_,y,f,t,e,a):r(y,_,f,e,t,a);if(!(v===i?y===_||o(y,_,n,r,a):v)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var b=e.constructor,E=t.constructor;b==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,r,o,a)}(e,t,n,r,kr,o))}function Fr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=De(e);o--;){var c=n[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var u=(c=n[o])[0],l=e[u],d=c[1];if(s&&c[2]){if(l===i&&!(u in e))return!1}else{var f=new Qn;if(r)var p=r(l,d,u,e,t,f);if(!(p===i?kr(d,l,3,r,f):p))return!1}}return!0}function Mr(e){return!(!rs(e)||(t=e,Be&&Be in t))&&(es(e)?He:_e).test(Uo(e));var t}function jr(e){return"function"==typeof e?e:null==e?ac:"object"==typeof e?Ga(e)?Wr(e[0],e[1]):Hr(e):mc(e)}function Br(e){if(!Ro(e))return vn(e);var t=[];for(var n in De(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!rs(e))return function(e){var t=[];if(null!=e)for(var n in De(e))t.push(n);return t}(e);var t=Ro(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function qr(e,t){return e<t}function Ur(e,t){var n=-1,i=Ka(e)?r(e.length):[];return hr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Hr(e){var t=po(e);return 1==t.length&&t[0][2]?Co(t[0][0],t[0][1]):function(n){return n===e||Fr(n,e,t)}}function Wr(e,t){return wo(e)&&Do(t)?Co(qo(e),t):function(n){var r=xs(n,e);return r===i&&r===t?Ns(n,e):kr(t,r,3)}}function $r(e,t,n,r,o){e!==t&&br(t,(function(a,s){if(o||(o=new Qn),rs(a))!function(e,t,n,r,o,a,s){var c=Oo(e,n),u=Oo(t,n),l=s.get(u);if(l)return void nr(e,n,l);var d=a?a(c,u,n+"",e,t,s):i,f=d===i;if(f){var p=Ga(u),h=!p&&Qa(u),m=!p&&!h&&fs(u);d=u,p||h||m?Ga(c)?d=c:Va(c)?d=Ai(c):h?(f=!1,d=Pi(u,!0)):m?(f=!1,d=Di(u,!0)):d=[]:ss(u)||za(u)?(d=c,za(c)?d=bs(c):rs(c)&&!es(c)||(d=vo(u))):f=!1}f&&(s.set(u,d),o(d,u,r,a,s),s.delete(u));nr(e,n,d)}(e,t,s,n,$r,r,o);else{var c=r?r(Oo(e,s),a,s+"",e,t,o):i;c===i&&(c=a),nr(e,s,c)}}),Fs)}function Yr(e,t){var n=e.length;if(n)return Eo(t+=t<0?n:0,n)?e[t]:i}function zr(e,t,n){t=t.length?It(t,(function(e){return Ga(e)?function(t){return Pr(t,1===e.length?e[0]:e)}:e})):[ac];var r=-1;t=It(t,Qt(lo()));var i=Ur(e,(function(e,n,i){var o=It(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var c=Ci(i[r],o[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Pr(e,a);n(s,a)&&ti(o,Ei(a,e),s)}return o}function Xr(e,t,n,r){var i=r?Ht:Ut,o=-1,a=t.length,s=e;for(e===t&&(t=Ai(t)),n&&(s=It(e,Qt(n)));++o<a;)for(var c=0,u=t[o],l=n?n(u):u;(c=i(s,l,c,r))>-1;)s!==e&&Ve.call(s,c,1),Ve.call(e,c,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Eo(i)?Ve.call(e,i,1):pi(e,i)}}return e}function Vr(e,t){return e+yt(Sn()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=yt(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return Fo(xo(e,t,ac),e+"")}function Jr(e){return Jn(Ws(e))}function ei(e,t){var n=Ws(e);return Bo(n,ur(t,0,n.length))}function ti(e,t,n,r){if(!rs(e))return e;for(var o=-1,a=(t=Ei(t,e)).length,s=a-1,c=e;null!=c&&++o<a;){var u=qo(t[o]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=s){var d=c[u];(l=r?r(d,u,c):i)===i&&(l=rs(d)?d:Eo(t[o+1])?[]:{})}rr(c,u,l),c=c[u]}return e}var ni=On?function(e,t){return On.set(e,t),e}:ac,ri=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:rc(t),writable:!0})}:ac;function ii(e){return Bo(Ws(e))}function oi(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function ai(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ds(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ci(e,t,ac,n)}function ci(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,c=null===t,u=ds(t),l=t===i;o<a;){var d=yt((o+a)/2),f=n(e[d]),p=f!==i,h=null===f,m=f==f,g=ds(f);if(s)var y=r||m;else y=l?m&&(r||p):c?m&&p&&(r||!h):u?m&&p&&!h&&(r||!g):!h&&!g&&(r?f<=t:f<t);y?o=d+1:a=d}return En(a,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Wa(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function li(e){return"number"==typeof e?e:ds(e)?m:+e}function di(e){if("string"==typeof e)return e;if(Ga(e))return It(e,di)+"";if(ds(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=At,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=Ot;else if(o>=200){var u=t?null:Qi(e);if(u)return dn(u);a=!1,i=Jt,c=new Vn}else c=t?[]:s;e:for(;++r<o;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,a&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),s.push(l)}else i(c,d,n)||(c!==s&&c.push(d),s.push(l))}return s}function pi(e,t){return null==(e=No(e,t=Ei(t,e)))||delete e[qo(Jo(t))]}function hi(e,t,n,r){return ti(e,t,n(Pr(e,t)),r)}function mi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?oi(e,r?0:o,r?o+1:i):oi(e,r?o+1:0,r?i:o)}function gi(e,t){var n=e;return n instanceof zn&&(n=n.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,kt([e],t.args))}),n)}function yi(e,t,n){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],c=-1;++c<i;)c!=o&&(a[o]=pr(a[o]||s,e[c],t,n));return fi(vr(a,1),t,n)}function _i(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var c=r<a?t[r]:i;n(s,e[r],c)}return s}function vi(e){return Va(e)?e:[]}function bi(e){return"function"==typeof e?e:ac}function Ei(e,t){return Ga(e)?e:wo(e,t)?[e]:Lo(Es(e))}var Ti=Zr;function wi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:oi(e,t,n)}var Si=dt||function(e){return pt.clearTimeout(e)};function Pi(e,t){if(t)return e.slice();var n=e.length,r=ze?ze(n):new e.constructor(n);return e.copy(r),r}function Ri(e){var t=new e.constructor(e.byteLength);return new Ye(t).set(new Ye(e)),t}function Di(e,t){var n=t?Ri(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ci(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,a=ds(e),s=t!==i,c=null===t,u=t==t,l=ds(t);if(!c&&!l&&!a&&e>t||a&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||c&&n&&o||!s&&o||!u)return-1}return 0}function xi(e,t,n,i){for(var o=-1,a=e.length,s=n.length,c=-1,u=t.length,l=bn(a-s,0),d=r(u+l),f=!i;++c<u;)d[c]=t[c];for(;++o<s;)(f||o<a)&&(d[n[o]]=e[o]);for(;l--;)d[c++]=e[o++];return d}function Ni(e,t,n,i){for(var o=-1,a=e.length,s=-1,c=n.length,u=-1,l=t.length,d=bn(a-c,0),f=r(d+l),p=!i;++o<d;)f[o]=e[o];for(var h=o;++u<l;)f[h+u]=t[u];for(;++s<c;)(p||o<a)&&(f[h+n[s]]=e[o++]);return f}function Ai(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Oi(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var c=t[a],u=r?r(n[c],e[c],c,n,e):i;u===i&&(u=e[c]),o?sr(n,c,u):rr(n,c,u)}return n}function Ii(e,t){return function(n,r){var i=Ga(n)?Rt:or,o=t?t():{};return i(n,e,lo(r,2),o)}}function ki(e){return Zr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&To(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=De(t);++r<o;){var c=n[r];c&&e(t,c,r,a)}return t}))}function Fi(e,t){return function(n,r){if(null==n)return n;if(!Ka(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=De(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Mi(e){return function(t,n,r){for(var i=-1,o=De(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}function ji(e){return function(t){var n=sn(t=Es(t))?hn(t):i,r=n?n[0]:t.charAt(0),o=n?wi(n,1).join(""):t.slice(1);return r[e]()+o}}function Bi(e){return function(t){return Ft(ec(zs(t).replace(Ze,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Wn(e.prototype),r=e.apply(n,t);return rs(r)?r:n}}function qi(e){return function(t,n,r){var o=De(t);if(!Ka(t)){var a=lo(n,3);t=ks(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function Ui(e){return io((function(t){var n=t.length,r=n,a=Yn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ne(o);if(a&&!c&&"wrapper"==co(s))var c=new Yn([],!0)}for(r=c?r:n;++r<n;){var u=co(s=t[r]),l="wrapper"==u?so(s):i;c=l&&So(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[co(l[0])].apply(c,l[3]):1==s.length&&So(s)?c[u]():c.thru(s)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Ga(r))return c.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Hi(e,t,n,o,a,s,c,u,l,f){var p=t&d,h=1&t,m=2&t,g=24&t,y=512&t,_=m?i:Li(e);return function i(){for(var d=arguments.length,v=r(d),b=d;b--;)v[b]=arguments[b];if(g)var E=uo(i),T=nn(v,E);if(o&&(v=xi(v,o,a,g)),s&&(v=Ni(v,s,c,g)),d-=T,g&&d<f){var w=ln(v,E);return Ki(e,t,Hi,i.placeholder,n,v,w,u,l,f-d)}var S=h?n:this,P=m?S[e]:e;return d=v.length,u?v=Ao(v,u):y&&d>1&&v.reverse(),p&&l<d&&(v.length=l),this&&this!==pt&&this instanceof i&&(P=_||Li(P)),P.apply(S,v)}}function Wi(e,t){return function(n,r){return function(e,t,n,r){return Tr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function $i(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=di(n),r=di(r)):(n=li(n),r=li(r)),o=e(n,r)}return o}}function Yi(e){return io((function(t){return t=It(t,Qt(lo())),Zr((function(n){var r=this;return e(t,(function(e){return Pt(e,r,n)}))}))}))}function zi(e,t){var n=(t=t===i?" ":di(t)).length;if(n<2)return n?Qr(t,e):t;var r=Qr(t,mt(e/pn(t)));return sn(t)?wi(hn(r),0,e).join(""):r.slice(0,e)}function Gi(e){return function(t,n,o){return o&&"number"!=typeof o&&To(t,n,o)&&(n=o=i),t=gs(t),n===i?(n=t,t=0):n=gs(n),function(e,t,n,i){for(var o=-1,a=bn(mt((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,o=o===i?t<n?1:-1:gs(o),e)}}function Xi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=vs(t),n=vs(n)),e(t,n)}}function Ki(e,t,n,r,o,a,s,c,d,f){var p=8&t;t|=p?u:l,4&(t&=~(p?l:u))||(t&=-4);var h=[e,t,o,p?a:i,p?s:i,p?i:a,p?i:s,c,d,f],m=n.apply(i,h);return So(e)&&Io(m,h),m.placeholder=r,Mo(m,e,t)}function Vi(e){var t=Re[e];return function(e,n){if(e=vs(e),(n=null==n?0:En(ys(n),292))&&zt(e)){var r=(Es(e)+"e").split("e");return+((r=(Es(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qi=xn&&1/dn(new xn([,-0]))[1]==p?function(e){return new xn(e)}:dc;function Zi(e){return function(t){var n=yo(t);return n==P?cn(t):n==N?fn(t):function(e,t){return It(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,n,a,p,h,m,g){var y=2&t;if(!y&&"function"!=typeof e)throw new Ne(o);var _=a?a.length:0;if(_||(t&=-97,a=p=i),m=m===i?m:bn(ys(m),0),g=g===i?g:ys(g),_-=p?p.length:0,t&l){var v=a,b=p;a=p=i}var E=y?i:so(e),T=[e,t,n,a,p,v,b,h,m,g];if(E&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?xi(u,c,t[4]):c,e[4]=u?ln(e[3],s):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Ni(u,c,t[6]):c,e[6]=u?ln(e[5],s):t[6]);(c=t[7])&&(e[7]=c);r&d&&(e[8]=null==e[8]?t[8]:En(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(T,E),e=T[0],t=T[1],n=T[2],a=T[3],p=T[4],!(g=T[9]=T[9]===i?y?0:e.length:bn(T[9]-_,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==c?function(e,t,n){var o=Li(e);return function a(){for(var s=arguments.length,c=r(s),u=s,l=uo(a);u--;)c[u]=arguments[u];var d=s<3&&c[0]!==l&&c[s-1]!==l?[]:ln(c,l);return(s-=d.length)<n?Ki(e,t,Hi,a.placeholder,i,c,d,i,i,n-s):Pt(this&&this!==pt&&this instanceof a?o:e,this,c)}}(e,t,g):t!=u&&33!=t||p.length?Hi.apply(i,T):function(e,t,n,i){var o=1&t,a=Li(e);return function t(){for(var s=-1,c=arguments.length,u=-1,l=i.length,d=r(l+c),f=this&&this!==pt&&this instanceof t?a:e;++u<l;)d[u]=i[u];for(;c--;)d[u++]=arguments[++s];return Pt(f,o?n:this,d)}}(e,t,n,a);else var w=function(e,t,n){var r=1&t,i=Li(e);return function t(){return(this&&this!==pt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Mo((E?ni:Io)(w,T),e,t)}function eo(e,t,n,r){return e===i||Wa(e,Ie[n])&&!Me.call(r,n)?t:e}function to(e,t,n,r,o,a){return rs(e)&&rs(t)&&(a.set(t,e),$r(e,t,i,to,a),a.delete(t)),e}function no(e){return ss(e)?i:e}function ro(e,t,n,r,o,a){var s=1&n,c=e.length,u=t.length;if(c!=u&&!(s&&u>c))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var f=-1,p=!0,h=2&n?new Vn:i;for(a.set(e,t),a.set(t,e);++f<c;){var m=e[f],g=t[f];if(r)var y=s?r(g,m,f,t,e,a):r(m,g,f,e,t,a);if(y!==i){if(y)continue;p=!1;break}if(h){if(!jt(t,(function(e,t){if(!Jt(h,t)&&(m===e||o(m,e,n,r,a)))return h.push(t)}))){p=!1;break}}else if(m!==g&&!o(m,g,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function io(e){return Fo(xo(e,i,Xo),e+"")}function oo(e){return Rr(e,ks,mo)}function ao(e){return Rr(e,Fs,go)}var so=On?function(e){return On.get(e)}:dc;function co(e){for(var t=e.name+"",n=In[t],r=Me.call(In,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function uo(e){return(Me.call(Hn,"placeholder")?Hn:e).placeholder}function lo(){var e=Hn.iteratee||sc;return e=e===sc?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function fo(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function po(e){for(var t=ks(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Do(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Mr(n)?n:i}var mo=_t?function(e){return null==e?[]:(e=De(e),Nt(_t(e),(function(t){return Ke.call(e,t)})))}:_c,go=_t?function(e){for(var t=[];e;)kt(t,mo(e)),e=Ge(e);return t}:_c,yo=Dr;function _o(e,t,n){for(var r=-1,i=(t=Ei(t,e)).length,o=!1;++r<i;){var a=qo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ns(i)&&Eo(a,i)&&(Ga(e)||za(e))}function vo(e){return"function"!=typeof e.constructor||Ro(e)?{}:Wn(Ge(e))}function bo(e){return Ga(e)||za(e)||!!(Qe&&e&&e[Qe])}function Eo(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function To(e,t,n){if(!rs(n))return!1;var r=typeof t;return!!("number"==r?Ka(n)&&Eo(t,n.length):"string"==r&&t in n)&&Wa(n[t],e)}function wo(e,t){if(Ga(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ds(e))||(ne.test(e)||!te.test(e)||null!=t&&e in De(t))}function So(e){var t=co(e),n=Hn[t];if("function"!=typeof n||!(t in zn.prototype))return!1;if(e===n)return!0;var r=so(n);return!!r&&e===r[0]}(Rn&&yo(new Rn(new ArrayBuffer(1)))!=F||Dn&&yo(new Dn)!=P||Cn&&yo(Cn.resolve())!=C||xn&&yo(new xn)!=N||Nn&&yo(new Nn)!=I)&&(yo=function(e){var t=Dr(e),n=t==D?e.constructor:i,r=n?Uo(n):"";if(r)switch(r){case kn:return F;case Fn:return P;case Mn:return C;case jn:return N;case Bn:return I}return t});var Po=ke?es:vc;function Ro(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function Do(e){return e==e&&!rs(e)}function Co(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in De(n)))}}function xo(e,t,n){return t=bn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=bn(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var c=r(t+1);++o<t;)c[o]=i[o];return c[t]=n(s),Pt(e,this,c)}}function No(e,t){return t.length<2?e:Pr(e,oi(t,0,-1))}function Ao(e,t){for(var n=e.length,r=En(t.length,n),o=Ai(e);r--;){var a=t[r];e[r]=Eo(a,n)?o[a]:i}return e}function Oo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Io=jo(ni),ko=ht||function(e,t){return pt.setTimeout(e,t)},Fo=jo(ri);function Mo(e,t,n){var r=t+"";return Fo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Dt(y,(function(n){var r="_."+n[0];t&n[1]&&!At(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(le):[]}(r),n)))}function jo(e){var t=0,n=0;return function(){var r=Tn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Bo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Vr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Lo=function(e){var t=ja(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(pe,"$1"):n||e)})),t}));function qo(e){if("string"==typeof e||ds(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Uo(e){if(null!=e){try{return Fe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ho(e){if(e instanceof zn)return e.clone();var t=new Yn(e.__wrapped__,e.__chain__);return t.__actions__=Ai(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Wo=Zr((function(e,t){return Va(e)?pr(e,vr(t,1,Va,!0)):[]})),$o=Zr((function(e,t){var n=Jo(t);return Va(n)&&(n=i),Va(e)?pr(e,vr(t,1,Va,!0),lo(n,2)):[]})),Yo=Zr((function(e,t){var n=Jo(t);return Va(n)&&(n=i),Va(e)?pr(e,vr(t,1,Va,!0),i,n):[]}));function zo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=bn(r+i,0)),qt(e,lo(t,3),i)}function Go(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ys(n),o=n<0?bn(r+o,0):En(o,r-1)),qt(e,lo(t,3),o,!0)}function Xo(e){return(null==e?0:e.length)?vr(e,1):[]}function Ko(e){return e&&e.length?e[0]:i}var Vo=Zr((function(e){var t=It(e,vi);return t.length&&t[0]===e[0]?Ar(t):[]})),Qo=Zr((function(e){var t=Jo(e),n=It(e,vi);return t===Jo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ar(n,lo(t,2)):[]})),Zo=Zr((function(e){var t=Jo(e),n=It(e,vi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ar(n,i,t):[]}));function Jo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var ea=Zr(ta);function ta(e,t){return e&&e.length&&t&&t.length?Xr(e,t):e}var na=io((function(e,t){var n=null==e?0:e.length,r=cr(e,t);return Kr(e,It(t,(function(e){return Eo(e,n)?+e:e})).sort(Ci)),r}));function ra(e){return null==e?e:Pn.call(e)}var ia=Zr((function(e){return fi(vr(e,1,Va,!0))})),oa=Zr((function(e){var t=Jo(e);return Va(t)&&(t=i),fi(vr(e,1,Va,!0),lo(t,2))})),aa=Zr((function(e){var t=Jo(e);return t="function"==typeof t?t:i,fi(vr(e,1,Va,!0),i,t)}));function sa(e){if(!e||!e.length)return[];var t=0;return e=Nt(e,(function(e){if(Va(e))return t=bn(e.length,t),!0})),Kt(t,(function(t){return It(e,Yt(t))}))}function ca(e,t){if(!e||!e.length)return[];var n=sa(e);return null==t?n:It(n,(function(e){return Pt(t,i,e)}))}var ua=Zr((function(e,t){return Va(e)?pr(e,t):[]})),la=Zr((function(e){return yi(Nt(e,Va))})),da=Zr((function(e){var t=Jo(e);return Va(t)&&(t=i),yi(Nt(e,Va),lo(t,2))})),fa=Zr((function(e){var t=Jo(e);return t="function"==typeof t?t:i,yi(Nt(e,Va),i,t)})),pa=Zr(sa);var ha=Zr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ca(e,n)}));function ma(e){var t=Hn(e);return t.__chain__=!0,t}function ga(e,t){return t(e)}var ya=io((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return cr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof zn&&Eo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ga,args:[o],thisArg:i}),new Yn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var _a=Ii((function(e,t,n){Me.call(e,n)?++e[n]:sr(e,n,1)}));var va=qi(zo),ba=qi(Go);function Ea(e,t){return(Ga(e)?Dt:hr)(e,lo(t,3))}function Ta(e,t){return(Ga(e)?Ct:mr)(e,lo(t,3))}var wa=Ii((function(e,t,n){Me.call(e,n)?e[n].push(t):sr(e,n,[t])}));var Sa=Zr((function(e,t,n){var i=-1,o="function"==typeof t,a=Ka(e)?r(e.length):[];return hr(e,(function(e){a[++i]=o?Pt(t,e,n):Or(e,t,n)})),a})),Pa=Ii((function(e,t,n){sr(e,n,t)}));function Ra(e,t){return(Ga(e)?It:Ur)(e,lo(t,3))}var Da=Ii((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ca=Zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&To(e,t[0],t[1])?t=[]:n>2&&To(t[0],t[1],t[2])&&(t=[t[0]]),zr(e,vr(t,1),[])})),xa=ft||function(){return pt.Date.now()};function Na(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,d,i,i,i,i,t)}function Aa(e,t){var n;if("function"!=typeof t)throw new Ne(o);return e=ys(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Oa=Zr((function(e,t,n){var r=1;if(n.length){var i=ln(n,uo(Oa));r|=u}return Ji(e,r,t,n,i)})),Ia=Zr((function(e,t,n){var r=3;if(n.length){var i=ln(n,uo(Ia));r|=u}return Ji(t,r,e,n,i)}));function ka(e,t,n){var r,a,s,c,u,l,d=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new Ne(o);function m(t){var n=r,o=a;return r=a=i,d=t,c=e.apply(o,n)}function g(e){return d=e,u=ko(_,t),f?m(e):c}function y(e){var n=e-l;return l===i||n>=t||n<0||p&&e-d>=s}function _(){var e=xa();if(y(e))return v(e);u=ko(_,function(e){var n=t-(e-l);return p?En(n,s-(e-d)):n}(e))}function v(e){return u=i,h&&r?m(e):(r=a=i,c)}function b(){var e=xa(),n=y(e);if(r=arguments,a=this,l=e,n){if(u===i)return g(l);if(p)return Si(u),u=ko(_,t),m(l)}return u===i&&(u=ko(_,t)),c}return t=vs(t)||0,rs(n)&&(f=!!n.leading,s=(p="maxWait"in n)?bn(vs(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),b.cancel=function(){u!==i&&Si(u),d=0,r=l=a=u=i},b.flush=function(){return u===i?c:v(xa())},b}var Fa=Zr((function(e,t){return fr(e,1,t)})),Ma=Zr((function(e,t,n){return fr(e,vs(t)||0,n)}));function ja(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ne(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ja.Cache||Kn),n}function Ba(e){if("function"!=typeof e)throw new Ne(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ja.Cache=Kn;var La=Ti((function(e,t){var n=(t=1==t.length&&Ga(t[0])?It(t[0],Qt(lo())):It(vr(t,1),Qt(lo()))).length;return Zr((function(r){for(var i=-1,o=En(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Pt(e,this,r)}))})),qa=Zr((function(e,t){var n=ln(t,uo(qa));return Ji(e,u,i,t,n)})),Ua=Zr((function(e,t){var n=ln(t,uo(Ua));return Ji(e,l,i,t,n)})),Ha=io((function(e,t){return Ji(e,f,i,i,i,t)}));function Wa(e,t){return e===t||e!=e&&t!=t}var $a=Xi(Cr),Ya=Xi((function(e,t){return e>=t})),za=Ir(function(){return arguments}())?Ir:function(e){return is(e)&&Me.call(e,"callee")&&!Ke.call(e,"callee")},Ga=r.isArray,Xa=vt?Qt(vt):function(e){return is(e)&&Dr(e)==k};function Ka(e){return null!=e&&ns(e.length)&&!es(e)}function Va(e){return is(e)&&Ka(e)}var Qa=Bt||vc,Za=bt?Qt(bt):function(e){return is(e)&&Dr(e)==E};function Ja(e){if(!is(e))return!1;var t=Dr(e);return t==T||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!rs(e))return!1;var t=Dr(e);return t==w||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==ys(e)}function ns(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function rs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function is(e){return null!=e&&"object"==typeof e}var os=Et?Qt(Et):function(e){return is(e)&&yo(e)==P};function as(e){return"number"==typeof e||is(e)&&Dr(e)==R}function ss(e){if(!is(e)||Dr(e)!=D)return!1;var t=Ge(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Fe.call(n)==qe}var cs=Tt?Qt(Tt):function(e){return is(e)&&Dr(e)==x};var us=wt?Qt(wt):function(e){return is(e)&&yo(e)==N};function ls(e){return"string"==typeof e||!Ga(e)&&is(e)&&Dr(e)==A}function ds(e){return"symbol"==typeof e||is(e)&&Dr(e)==O}var fs=St?Qt(St):function(e){return is(e)&&ns(e.length)&&!!at[Dr(e)]};var ps=Xi(qr),hs=Xi((function(e,t){return e<=t}));function ms(e){if(!e)return[];if(Ka(e))return ls(e)?hn(e):Ai(e);if(et&&e[et])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[et]());var t=yo(e);return(t==P?cn:t==N?dn:Ws)(e)}function gs(e){return e?(e=vs(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ys(e){var t=gs(e),n=t%1;return t==t?n?t-n:t:0}function _s(e){return e?ur(ys(e),0,g):0}function vs(e){if("number"==typeof e)return e;if(ds(e))return m;if(rs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Vt(e);var n=ye.test(e);return n||ve.test(e)?lt(e.slice(2),n?2:8):ge.test(e)?m:+e}function bs(e){return Oi(e,Fs(e))}function Es(e){return null==e?"":di(e)}var Ts=ki((function(e,t){if(Ro(t)||Ka(t))Oi(t,ks(t),e);else for(var n in t)Me.call(t,n)&&rr(e,n,t[n])})),ws=ki((function(e,t){Oi(t,Fs(t),e)})),Ss=ki((function(e,t,n,r){Oi(t,Fs(t),e,r)})),Ps=ki((function(e,t,n,r){Oi(t,ks(t),e,r)})),Rs=io(cr);var Ds=Zr((function(e,t){e=De(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&To(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Fs(a),c=-1,u=s.length;++c<u;){var l=s[c],d=e[l];(d===i||Wa(d,Ie[l])&&!Me.call(e,l))&&(e[l]=a[l])}return e})),Cs=Zr((function(e){return e.push(i,to),Pt(js,i,e)}));function xs(e,t,n){var r=null==e?i:Pr(e,t);return r===i?n:r}function Ns(e,t){return null!=e&&_o(e,t,Nr)}var As=Wi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),e[t]=n}),rc(ac)),Os=Wi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),lo),Is=Zr(Or);function ks(e){return Ka(e)?Zn(e):Br(e)}function Fs(e){return Ka(e)?Zn(e,!0):Lr(e)}var Ms=ki((function(e,t,n){$r(e,t,n)})),js=ki((function(e,t,n,r){$r(e,t,n,r)})),Bs=io((function(e,t){var n={};if(null==e)return n;var r=!1;t=It(t,(function(t){return t=Ei(t,e),r||(r=t.length>1),t})),Oi(e,ao(e),n),r&&(n=lr(n,7,no));for(var i=t.length;i--;)pi(n,t[i]);return n}));var Ls=io((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Ns(e,n)}))}(e,t)}));function qs(e,t){if(null==e)return{};var n=It(ao(e),(function(e){return[e]}));return t=lo(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var Us=Zi(ks),Hs=Zi(Fs);function Ws(e){return null==e?[]:Zt(e,ks(e))}var $s=Bi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ys(t):t)}));function Ys(e){return Js(Es(e).toLowerCase())}function zs(e){return(e=Es(e))&&e.replace(Ee,rn).replace(Je,"")}var Gs=Bi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Xs=Bi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ks=ji("toLowerCase");var Vs=Bi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qs=Bi((function(e,t,n){return e+(n?" ":"")+Js(t)}));var Zs=Bi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Js=ji("toUpperCase");function ec(e,t,n){return e=Es(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var tc=Zr((function(e,t){try{return Pt(e,i,t)}catch(e){return Ja(e)?e:new Se(e)}})),nc=io((function(e,t){return Dt(t,(function(t){t=qo(t),sr(e,t,Oa(e[t],e))})),e}));function rc(e){return function(){return e}}var ic=Ui(),oc=Ui(!0);function ac(e){return e}function sc(e){return jr("function"==typeof e?e:lr(e,1))}var cc=Zr((function(e,t){return function(n){return Or(n,e,t)}})),uc=Zr((function(e,t){return function(n){return Or(e,n,t)}}));function lc(e,t,n){var r=ks(t),i=Sr(t,r);null!=n||rs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Sr(t,ks(t)));var o=!(rs(n)&&"chain"in n&&!n.chain),a=es(e);return Dt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ai(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,kt([this.value()],arguments))})})),e}function dc(){}var fc=Yi(It),pc=Yi(xt),hc=Yi(jt);function mc(e){return wo(e)?Yt(qo(e)):function(e){return function(t){return Pr(t,e)}}(e)}var gc=Gi(),yc=Gi(!0);function _c(){return[]}function vc(){return!1}var bc=$i((function(e,t){return e+t}),0),Ec=Vi("ceil"),Tc=$i((function(e,t){return e/t}),1),wc=Vi("floor");var Sc,Pc=$i((function(e,t){return e*t}),1),Rc=Vi("round"),Dc=$i((function(e,t){return e-t}),0);return Hn.after=function(e,t){if("function"!=typeof t)throw new Ne(o);return e=ys(e),function(){if(--e<1)return t.apply(this,arguments)}},Hn.ary=Na,Hn.assign=Ts,Hn.assignIn=ws,Hn.assignInWith=Ss,Hn.assignWith=Ps,Hn.at=Rs,Hn.before=Aa,Hn.bind=Oa,Hn.bindAll=nc,Hn.bindKey=Ia,Hn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ga(e)?e:[e]},Hn.chain=ma,Hn.chunk=function(e,t,n){t=(n?To(e,t,n):t===i)?1:bn(ys(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,c=r(mt(o/t));a<o;)c[s++]=oi(e,a,a+=t);return c},Hn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Hn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return kt(Ga(n)?Ai(n):[n],vr(t,1))},Hn.cond=function(e){var t=null==e?0:e.length,n=lo();return e=t?It(e,(function(e){if("function"!=typeof e[1])throw new Ne(o);return[n(e[0]),e[1]]})):[],Zr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Pt(i[0],this,n))return Pt(i[1],this,n)}}))},Hn.conforms=function(e){return function(e){var t=ks(e);return function(n){return dr(n,e,t)}}(lr(e,1))},Hn.constant=rc,Hn.countBy=_a,Hn.create=function(e,t){var n=Wn(e);return null==t?n:ar(n,t)},Hn.curry=function e(t,n,r){var o=Ji(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Hn.curryRight=function e(t,n,r){var o=Ji(t,c,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Hn.debounce=ka,Hn.defaults=Ds,Hn.defaultsDeep=Cs,Hn.defer=Fa,Hn.delay=Ma,Hn.difference=Wo,Hn.differenceBy=$o,Hn.differenceWith=Yo,Hn.drop=function(e,t,n){var r=null==e?0:e.length;return r?oi(e,(t=n||t===i?1:ys(t))<0?0:t,r):[]},Hn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oi(e,0,(t=r-(t=n||t===i?1:ys(t)))<0?0:t):[]},Hn.dropRightWhile=function(e,t){return e&&e.length?mi(e,lo(t,3),!0,!0):[]},Hn.dropWhile=function(e,t){return e&&e.length?mi(e,lo(t,3),!0):[]},Hn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&To(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ys(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ys(r))<0&&(r+=o),r=n>r?0:_s(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Hn.filter=function(e,t){return(Ga(e)?Nt:_r)(e,lo(t,3))},Hn.flatMap=function(e,t){return vr(Ra(e,t),1)},Hn.flatMapDeep=function(e,t){return vr(Ra(e,t),p)},Hn.flatMapDepth=function(e,t,n){return n=n===i?1:ys(n),vr(Ra(e,t),n)},Hn.flatten=Xo,Hn.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,p):[]},Hn.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===i?1:ys(t)):[]},Hn.flip=function(e){return Ji(e,512)},Hn.flow=ic,Hn.flowRight=oc,Hn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Hn.functions=function(e){return null==e?[]:Sr(e,ks(e))},Hn.functionsIn=function(e){return null==e?[]:Sr(e,Fs(e))},Hn.groupBy=wa,Hn.initial=function(e){return(null==e?0:e.length)?oi(e,0,-1):[]},Hn.intersection=Vo,Hn.intersectionBy=Qo,Hn.intersectionWith=Zo,Hn.invert=As,Hn.invertBy=Os,Hn.invokeMap=Sa,Hn.iteratee=sc,Hn.keyBy=Pa,Hn.keys=ks,Hn.keysIn=Fs,Hn.map=Ra,Hn.mapKeys=function(e,t){var n={};return t=lo(t,3),Tr(e,(function(e,r,i){sr(n,t(e,r,i),e)})),n},Hn.mapValues=function(e,t){var n={};return t=lo(t,3),Tr(e,(function(e,r,i){sr(n,r,t(e,r,i))})),n},Hn.matches=function(e){return Hr(lr(e,1))},Hn.matchesProperty=function(e,t){return Wr(e,lr(t,1))},Hn.memoize=ja,Hn.merge=Ms,Hn.mergeWith=js,Hn.method=cc,Hn.methodOf=uc,Hn.mixin=lc,Hn.negate=Ba,Hn.nthArg=function(e){return e=ys(e),Zr((function(t){return Yr(t,e)}))},Hn.omit=Bs,Hn.omitBy=function(e,t){return qs(e,Ba(lo(t)))},Hn.once=function(e){return Aa(2,e)},Hn.orderBy=function(e,t,n,r){return null==e?[]:(Ga(t)||(t=null==t?[]:[t]),Ga(n=r?i:n)||(n=null==n?[]:[n]),zr(e,t,n))},Hn.over=fc,Hn.overArgs=La,Hn.overEvery=pc,Hn.overSome=hc,Hn.partial=qa,Hn.partialRight=Ua,Hn.partition=Da,Hn.pick=Ls,Hn.pickBy=qs,Hn.property=mc,Hn.propertyOf=function(e){return function(t){return null==e?i:Pr(e,t)}},Hn.pull=ea,Hn.pullAll=ta,Hn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,lo(n,2)):e},Hn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,i,n):e},Hn.pullAt=na,Hn.range=gc,Hn.rangeRight=yc,Hn.rearg=Ha,Hn.reject=function(e,t){return(Ga(e)?Nt:_r)(e,Ba(lo(t,3)))},Hn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=lo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Kr(e,i),n},Hn.rest=function(e,t){if("function"!=typeof e)throw new Ne(o);return Zr(e,t=t===i?t:ys(t))},Hn.reverse=ra,Hn.sampleSize=function(e,t,n){return t=(n?To(e,t,n):t===i)?1:ys(t),(Ga(e)?er:ei)(e,t)},Hn.set=function(e,t,n){return null==e?e:ti(e,t,n)},Hn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ti(e,t,n,r)},Hn.shuffle=function(e){return(Ga(e)?tr:ii)(e)},Hn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&To(e,t,n)?(t=0,n=r):(t=null==t?0:ys(t),n=n===i?r:ys(n)),oi(e,t,n)):[]},Hn.sortBy=Ca,Hn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Hn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,lo(t,2)):[]},Hn.split=function(e,t,n){return n&&"number"!=typeof n&&To(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=Es(e))&&("string"==typeof t||null!=t&&!cs(t))&&!(t=di(t))&&sn(e)?wi(hn(e),0,n):e.split(t,n):[]},Hn.spread=function(e,t){if("function"!=typeof e)throw new Ne(o);return t=null==t?0:bn(ys(t),0),Zr((function(n){var r=n[t],i=wi(n,0,t);return r&&kt(i,r),Pt(e,this,i)}))},Hn.tail=function(e){var t=null==e?0:e.length;return t?oi(e,1,t):[]},Hn.take=function(e,t,n){return e&&e.length?oi(e,0,(t=n||t===i?1:ys(t))<0?0:t):[]},Hn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oi(e,(t=r-(t=n||t===i?1:ys(t)))<0?0:t,r):[]},Hn.takeRightWhile=function(e,t){return e&&e.length?mi(e,lo(t,3),!1,!0):[]},Hn.takeWhile=function(e,t){return e&&e.length?mi(e,lo(t,3)):[]},Hn.tap=function(e,t){return t(e),e},Hn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ne(o);return rs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ka(e,t,{leading:r,maxWait:t,trailing:i})},Hn.thru=ga,Hn.toArray=ms,Hn.toPairs=Us,Hn.toPairsIn=Hs,Hn.toPath=function(e){return Ga(e)?It(e,qo):ds(e)?[e]:Ai(Lo(Es(e)))},Hn.toPlainObject=bs,Hn.transform=function(e,t,n){var r=Ga(e),i=r||Qa(e)||fs(e);if(t=lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:rs(e)&&es(o)?Wn(Ge(e)):{}}return(i?Dt:Tr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Hn.unary=function(e){return Na(e,1)},Hn.union=ia,Hn.unionBy=oa,Hn.unionWith=aa,Hn.uniq=function(e){return e&&e.length?fi(e):[]},Hn.uniqBy=function(e,t){return e&&e.length?fi(e,lo(t,2)):[]},Hn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},Hn.unset=function(e,t){return null==e||pi(e,t)},Hn.unzip=sa,Hn.unzipWith=ca,Hn.update=function(e,t,n){return null==e?e:hi(e,t,bi(n))},Hn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,bi(n),r)},Hn.values=Ws,Hn.valuesIn=function(e){return null==e?[]:Zt(e,Fs(e))},Hn.without=ua,Hn.words=ec,Hn.wrap=function(e,t){return qa(bi(t),e)},Hn.xor=la,Hn.xorBy=da,Hn.xorWith=fa,Hn.zip=pa,Hn.zipObject=function(e,t){return _i(e||[],t||[],rr)},Hn.zipObjectDeep=function(e,t){return _i(e||[],t||[],ti)},Hn.zipWith=ha,Hn.entries=Us,Hn.entriesIn=Hs,Hn.extend=ws,Hn.extendWith=Ss,lc(Hn,Hn),Hn.add=bc,Hn.attempt=tc,Hn.camelCase=$s,Hn.capitalize=Ys,Hn.ceil=Ec,Hn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=vs(n))==n?n:0),t!==i&&(t=(t=vs(t))==t?t:0),ur(vs(e),t,n)},Hn.clone=function(e){return lr(e,4)},Hn.cloneDeep=function(e){return lr(e,5)},Hn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Hn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Hn.conformsTo=function(e,t){return null==t||dr(e,t,ks(t))},Hn.deburr=zs,Hn.defaultTo=function(e,t){return null==e||e!=e?t:e},Hn.divide=Tc,Hn.endsWith=function(e,t,n){e=Es(e),t=di(t);var r=e.length,o=n=n===i?r:ur(ys(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Hn.eq=Wa,Hn.escape=function(e){return(e=Es(e))&&Q.test(e)?e.replace(K,on):e},Hn.escapeRegExp=function(e){return(e=Es(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Hn.every=function(e,t,n){var r=Ga(e)?xt:gr;return n&&To(e,t,n)&&(t=i),r(e,lo(t,3))},Hn.find=va,Hn.findIndex=zo,Hn.findKey=function(e,t){return Lt(e,lo(t,3),Tr)},Hn.findLast=ba,Hn.findLastIndex=Go,Hn.findLastKey=function(e,t){return Lt(e,lo(t,3),wr)},Hn.floor=wc,Hn.forEach=Ea,Hn.forEachRight=Ta,Hn.forIn=function(e,t){return null==e?e:br(e,lo(t,3),Fs)},Hn.forInRight=function(e,t){return null==e?e:Er(e,lo(t,3),Fs)},Hn.forOwn=function(e,t){return e&&Tr(e,lo(t,3))},Hn.forOwnRight=function(e,t){return e&&wr(e,lo(t,3))},Hn.get=xs,Hn.gt=$a,Hn.gte=Ya,Hn.has=function(e,t){return null!=e&&_o(e,t,xr)},Hn.hasIn=Ns,Hn.head=Ko,Hn.identity=ac,Hn.includes=function(e,t,n,r){e=Ka(e)?e:Ws(e),n=n&&!r?ys(n):0;var i=e.length;return n<0&&(n=bn(i+n,0)),ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ut(e,t,n)>-1},Hn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=bn(r+i,0)),Ut(e,t,i)},Hn.inRange=function(e,t,n){return t=gs(t),n===i?(n=t,t=0):n=gs(n),function(e,t,n){return e>=En(t,n)&&e<bn(t,n)}(e=vs(e),t,n)},Hn.invoke=Is,Hn.isArguments=za,Hn.isArray=Ga,Hn.isArrayBuffer=Xa,Hn.isArrayLike=Ka,Hn.isArrayLikeObject=Va,Hn.isBoolean=function(e){return!0===e||!1===e||is(e)&&Dr(e)==b},Hn.isBuffer=Qa,Hn.isDate=Za,Hn.isElement=function(e){return is(e)&&1===e.nodeType&&!ss(e)},Hn.isEmpty=function(e){if(null==e)return!0;if(Ka(e)&&(Ga(e)||"string"==typeof e||"function"==typeof e.splice||Qa(e)||fs(e)||za(e)))return!e.length;var t=yo(e);if(t==P||t==N)return!e.size;if(Ro(e))return!Br(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Hn.isEqual=function(e,t){return kr(e,t)},Hn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?kr(e,t,i,n):!!r},Hn.isError=Ja,Hn.isFinite=function(e){return"number"==typeof e&&zt(e)},Hn.isFunction=es,Hn.isInteger=ts,Hn.isLength=ns,Hn.isMap=os,Hn.isMatch=function(e,t){return e===t||Fr(e,t,po(t))},Hn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Fr(e,t,po(t),n)},Hn.isNaN=function(e){return as(e)&&e!=+e},Hn.isNative=function(e){if(Po(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(e)},Hn.isNil=function(e){return null==e},Hn.isNull=function(e){return null===e},Hn.isNumber=as,Hn.isObject=rs,Hn.isObjectLike=is,Hn.isPlainObject=ss,Hn.isRegExp=cs,Hn.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=h},Hn.isSet=us,Hn.isString=ls,Hn.isSymbol=ds,Hn.isTypedArray=fs,Hn.isUndefined=function(e){return e===i},Hn.isWeakMap=function(e){return is(e)&&yo(e)==I},Hn.isWeakSet=function(e){return is(e)&&"[object WeakSet]"==Dr(e)},Hn.join=function(e,t){return null==e?"":_n.call(e,t)},Hn.kebabCase=Gs,Hn.last=Jo,Hn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ys(n))<0?bn(r+o,0):En(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):qt(e,Wt,o,!0)},Hn.lowerCase=Xs,Hn.lowerFirst=Ks,Hn.lt=ps,Hn.lte=hs,Hn.max=function(e){return e&&e.length?yr(e,ac,Cr):i},Hn.maxBy=function(e,t){return e&&e.length?yr(e,lo(t,2),Cr):i},Hn.mean=function(e){return $t(e,ac)},Hn.meanBy=function(e,t){return $t(e,lo(t,2))},Hn.min=function(e){return e&&e.length?yr(e,ac,qr):i},Hn.minBy=function(e,t){return e&&e.length?yr(e,lo(t,2),qr):i},Hn.stubArray=_c,Hn.stubFalse=vc,Hn.stubObject=function(){return{}},Hn.stubString=function(){return""},Hn.stubTrue=function(){return!0},Hn.multiply=Pc,Hn.nth=function(e,t){return e&&e.length?Yr(e,ys(t)):i},Hn.noConflict=function(){return pt._===this&&(pt._=Ue),this},Hn.noop=dc,Hn.now=xa,Hn.pad=function(e,t,n){e=Es(e);var r=(t=ys(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return zi(yt(i),n)+e+zi(mt(i),n)},Hn.padEnd=function(e,t,n){e=Es(e);var r=(t=ys(t))?pn(e):0;return t&&r<t?e+zi(t-r,n):e},Hn.padStart=function(e,t,n){e=Es(e);var r=(t=ys(t))?pn(e):0;return t&&r<t?zi(t-r,n)+e:e},Hn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(Es(e).replace(ae,""),t||0)},Hn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&To(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=gs(e),t===i?(t=e,e=0):t=gs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Sn();return En(e+o*(t-e+ut("1e-"+((o+"").length-1))),t)}return Vr(e,t)},Hn.reduce=function(e,t,n){var r=Ga(e)?Ft:Gt,i=arguments.length<3;return r(e,lo(t,4),n,i,hr)},Hn.reduceRight=function(e,t,n){var r=Ga(e)?Mt:Gt,i=arguments.length<3;return r(e,lo(t,4),n,i,mr)},Hn.repeat=function(e,t,n){return t=(n?To(e,t,n):t===i)?1:ys(t),Qr(Es(e),t)},Hn.replace=function(){var e=arguments,t=Es(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Hn.result=function(e,t,n){var r=-1,o=(t=Ei(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[qo(t[r])];a===i&&(r=o,a=n),e=es(a)?a.call(e):a}return e},Hn.round=Rc,Hn.runInContext=e,Hn.sample=function(e){return(Ga(e)?Jn:Jr)(e)},Hn.size=function(e){if(null==e)return 0;if(Ka(e))return ls(e)?pn(e):e.length;var t=yo(e);return t==P||t==N?e.size:Br(e).length},Hn.snakeCase=Vs,Hn.some=function(e,t,n){var r=Ga(e)?jt:ai;return n&&To(e,t,n)&&(t=i),r(e,lo(t,3))},Hn.sortedIndex=function(e,t){return si(e,t)},Hn.sortedIndexBy=function(e,t,n){return ci(e,t,lo(n,2))},Hn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&Wa(e[r],t))return r}return-1},Hn.sortedLastIndex=function(e,t){return si(e,t,!0)},Hn.sortedLastIndexBy=function(e,t,n){return ci(e,t,lo(n,2),!0)},Hn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=si(e,t,!0)-1;if(Wa(e[n],t))return n}return-1},Hn.startCase=Qs,Hn.startsWith=function(e,t,n){return e=Es(e),n=null==n?0:ur(ys(n),0,e.length),t=di(t),e.slice(n,n+t.length)==t},Hn.subtract=Dc,Hn.sum=function(e){return e&&e.length?Xt(e,ac):0},Hn.sumBy=function(e,t){return e&&e.length?Xt(e,lo(t,2)):0},Hn.template=function(e,t,n){var r=Hn.templateSettings;n&&To(e,t,n)&&(t=i),e=Es(e),t=Ss({},t,r,eo);var o,a,s=Ss({},t.imports,r.imports,eo),c=ks(s),u=Zt(s,c),l=0,d=t.interpolate||Te,f="__p += '",p=Ce((t.escape||Te).source+"|"+d.source+"|"+(d===ee?he:Te).source+"|"+(t.evaluate||Te).source+"|$","g"),h="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(p,(function(t,n,r,i,s,c){return r||(r=i),f+=e.slice(l,c).replace(we,an),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),f+="';\n";var m=Me.call(t,"variable")&&t.variable;if(m){if(fe.test(m))throw new Se("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(Y,""):f).replace(z,"$1").replace(G,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=tc((function(){return Pe(c,h+"return "+f).apply(i,u)}));if(g.source=f,Ja(g))throw g;return g},Hn.times=function(e,t){if((e=ys(e))<1||e>h)return[];var n=g,r=En(e,g);t=lo(t),e-=g;for(var i=Kt(r,t);++n<e;)t(n);return i},Hn.toFinite=gs,Hn.toInteger=ys,Hn.toLength=_s,Hn.toLower=function(e){return Es(e).toLowerCase()},Hn.toNumber=vs,Hn.toSafeInteger=function(e){return e?ur(ys(e),-9007199254740991,h):0===e?e:0},Hn.toString=Es,Hn.toUpper=function(e){return Es(e).toUpperCase()},Hn.trim=function(e,t,n){if((e=Es(e))&&(n||t===i))return Vt(e);if(!e||!(t=di(t)))return e;var r=hn(e),o=hn(t);return wi(r,en(r,o),tn(r,o)+1).join("")},Hn.trimEnd=function(e,t,n){if((e=Es(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=di(t)))return e;var r=hn(e);return wi(r,0,tn(r,hn(t))+1).join("")},Hn.trimStart=function(e,t,n){if((e=Es(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=di(t)))return e;var r=hn(e);return wi(r,en(r,hn(t))).join("")},Hn.truncate=function(e,t){var n=30,r="...";if(rs(t)){var o="separator"in t?t.separator:o;n="length"in t?ys(t.length):n,r="omission"in t?di(t.omission):r}var a=(e=Es(e)).length;if(sn(e)){var s=hn(e);a=s.length}if(n>=a)return e;var c=n-pn(r);if(c<1)return r;var u=s?wi(s,0,c).join(""):e.slice(0,c);if(o===i)return u+r;if(s&&(c+=u.length-c),cs(o)){if(e.slice(c).search(o)){var l,d=u;for(o.global||(o=Ce(o.source,Es(me.exec(o))+"g")),o.lastIndex=0;l=o.exec(d);)var f=l.index;u=u.slice(0,f===i?c:f)}}else if(e.indexOf(di(o),c)!=c){var p=u.lastIndexOf(o);p>-1&&(u=u.slice(0,p))}return u+r},Hn.unescape=function(e){return(e=Es(e))&&V.test(e)?e.replace(X,gn):e},Hn.uniqueId=function(e){var t=++je;return Es(e)+t},Hn.upperCase=Zs,Hn.upperFirst=Js,Hn.each=Ea,Hn.eachRight=Ta,Hn.first=Ko,lc(Hn,(Sc={},Tr(Hn,(function(e,t){Me.call(Hn.prototype,t)||(Sc[t]=e)})),Sc),{chain:!1}),Hn.VERSION="4.17.21",Dt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Hn[e].placeholder=Hn})),Dt(["drop","take"],(function(e,t){zn.prototype[e]=function(n){n=n===i?1:bn(ys(n),0);var r=this.__filtered__&&!t?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=En(n,r.__takeCount__):r.__views__.push({size:En(n,g),type:e+(r.__dir__<0?"Right":"")}),r},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Dt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Dt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");zn.prototype[e]=function(){return this[n](1).value()[0]}})),Dt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");zn.prototype[e]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(ac)},zn.prototype.find=function(e){return this.filter(e).head()},zn.prototype.findLast=function(e){return this.reverse().find(e)},zn.prototype.invokeMap=Zr((function(e,t){return"function"==typeof e?new zn(this):this.map((function(n){return Or(n,e,t)}))})),zn.prototype.reject=function(e){return this.filter(Ba(lo(e)))},zn.prototype.slice=function(e,t){e=ys(e);var n=this;return n.__filtered__&&(e>0||t<0)?new zn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ys(t))<0?n.dropRight(-t):n.take(t-e)),n)},zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zn.prototype.toArray=function(){return this.take(g)},Tr(zn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Hn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Hn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof zn,u=s[0],l=c||Ga(t),d=function(e){var t=o.apply(Hn,kt([e],s));return r&&f?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var f=this.__chain__,p=!!this.__actions__.length,h=a&&!f,m=c&&!p;if(!a&&l){t=m?t:new zn(this);var g=e.apply(t,s);return g.__actions__.push({func:ga,args:[d],thisArg:i}),new Yn(g,f)}return h&&m?e.apply(this,s):(g=this.thru(d),h?r?g.value()[0]:g.value():g)})})),Dt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Hn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ga(i)?i:[],e)}return this[n]((function(n){return t.apply(Ga(n)?n:[],e)}))}})),Tr(zn.prototype,(function(e,t){var n=Hn[t];if(n){var r=n.name+"";Me.call(In,r)||(In[r]=[]),In[r].push({name:t,func:n})}})),In[Hi(i,2).name]=[{name:"wrapper",func:i}],zn.prototype.clone=function(){var e=new zn(this.__wrapped__);return e.__actions__=Ai(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ai(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ai(this.__views__),e},zn.prototype.reverse=function(){if(this.__filtered__){var e=new zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ga(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=En(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,d=l.length,f=0,p=En(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return gi(e,this.__actions__);var h=[];e:for(;c--&&f<p;){for(var m=-1,g=e[u+=t];++m<d;){var y=l[m],_=y.iteratee,v=y.type,b=_(g);if(2==v)g=b;else if(!b){if(1==v)continue e;break e}}h[f++]=g}return h},Hn.prototype.at=ya,Hn.prototype.chain=function(){return ma(this)},Hn.prototype.commit=function(){return new Yn(this.value(),this.__chain__)},Hn.prototype.next=function(){this.__values__===i&&(this.__values__=ms(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Hn.prototype.plant=function(e){for(var t,n=this;n instanceof $n;){var r=Ho(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Hn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var t=e;return this.__actions__.length&&(t=new zn(this)),(t=t.reverse()).__actions__.push({func:ga,args:[ra],thisArg:i}),new Yn(t,this.__chain__)}return this.thru(ra)},Hn.prototype.toJSON=Hn.prototype.valueOf=Hn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},Hn.prototype.first=Hn.prototype.head,et&&(Hn.prototype[et]=function(){return this}),Hn}();pt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},4132:(e,t,n)=>{var r=n(7477);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},8706:()=>{var e;!function(e){!function(t){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=i(e);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===n.Reflect?n.Reflect=e:r=i(n.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,c={create:o?function(){return re(Object.create(null))}:a?function(){return re({__proto__:null})}:function(){return re({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,f=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,p=new(l||"function"!=typeof WeakMap?ne():WeakMap);function h(e,t,n,r){if(F(n)){if(!$(e))throw new TypeError;if(!z(t))throw new TypeError;return S(e,t)}if(!$(e))throw new TypeError;if(!B(t))throw new TypeError;if(!B(r)&&!F(r)&&!M(r))throw new TypeError;return M(r)&&(r=void 0),P(e,t,n=W(n),r)}function m(e,t){function n(n,r){if(!B(n))throw new TypeError;if(!F(r)&&!G(r))throw new TypeError;A(e,t,n,r)}return n}function g(e,t,n,r){if(!B(n))throw new TypeError;return F(r)||(r=W(r)),A(e,t,n,r)}function y(e,t,n){if(!B(t))throw new TypeError;return F(n)||(n=W(n)),D(e,t,n)}function _(e,t,n){if(!B(t))throw new TypeError;return F(n)||(n=W(n)),C(e,t,n)}function v(e,t,n){if(!B(t))throw new TypeError;return F(n)||(n=W(n)),x(e,t,n)}function b(e,t,n){if(!B(t))throw new TypeError;return F(n)||(n=W(n)),N(e,t,n)}function E(e,t){if(!B(e))throw new TypeError;return F(t)||(t=W(t)),O(e,t)}function T(e,t){if(!B(e))throw new TypeError;return F(t)||(t=W(t)),I(e,t)}function w(e,t,n){if(!B(t))throw new TypeError;F(n)||(n=W(n));var r=R(t,n,!1);if(F(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=p.get(t);return i.delete(n),i.size>0||p.delete(t),!0}function S(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!F(r)&&!M(r)){if(!z(r))throw new TypeError;t=r}}return t}function P(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!F(o)&&!M(o)){if(!B(o))throw new TypeError;r=o}}return r}function R(e,t,n){var r=p.get(e);if(F(r)){if(!n)return;r=new d,p.set(e,r)}var i=r.get(t);if(F(i)){if(!n)return;i=new d,r.set(t,i)}return i}function D(e,t,n){if(C(e,t,n))return!0;var r=J(t);return!M(r)&&D(e,r,n)}function C(e,t,n){var r=R(t,n,!1);return!F(r)&&U(r.has(e))}function x(e,t,n){if(C(e,t,n))return N(e,t,n);var r=J(t);return M(r)?void 0:x(e,r,n)}function N(e,t,n){var r=R(t,n,!1);if(!F(r))return r.get(e)}function A(e,t,n,r){R(n,r,!0).set(e,t)}function O(e,t){var n=I(e,t),r=J(e);if(null===r)return n;var i=O(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new f,a=[],s=0,c=n;s<c.length;s++){var u=c[s];o.has(u)||(o.add(u),a.push(u))}for(var l=0,d=i;l<d.length;l++){u=d[l];o.has(u)||(o.add(u),a.push(u))}return a}function I(e,t){var n=[],r=R(e,t,!1);if(F(r))return n;for(var i=K(r.keys()),o=0;;){var a=Q(i);if(!a)return n.length=o,n;var s=V(a);try{n[o]=s}catch(e){try{Z(i)}finally{throw e}}o++}}function k(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function F(e){return void 0===e}function M(e){return null===e}function j(e){return"symbol"==typeof e}function B(e){return"object"==typeof e?null!==e:"function"==typeof e}function L(e,t){switch(k(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=X(e,r);if(void 0!==i){var o=i.call(e,n);if(B(o))throw new TypeError;return o}return q(e,"default"===n?"number":n)}function q(e,t){if("string"===t){var n=e.toString;if(Y(n))if(!B(i=n.call(e)))return i;if(Y(r=e.valueOf))if(!B(i=r.call(e)))return i}else{var r;if(Y(r=e.valueOf))if(!B(i=r.call(e)))return i;var i,o=e.toString;if(Y(o))if(!B(i=o.call(e)))return i}throw new TypeError}function U(e){return!!e}function H(e){return""+e}function W(e){var t=L(e,3);return j(t)?t:H(t)}function $(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function Y(e){return"function"==typeof e}function z(e){return"function"==typeof e}function G(e){switch(k(e)){case 3:case 4:return!0;default:return!1}}function X(e,t){var n=e[t];if(null!=n){if(!Y(n))throw new TypeError;return n}}function K(e){var t=X(e,i);if(!Y(t))throw new TypeError;var n=t.call(e);if(!B(n))throw new TypeError;return n}function V(e){return e.value}function Q(e){var t=e.next();return!t.done&&t}function Z(e){var t=e.return;t&&t.call(e)}function J(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function ne(){var e=16,n=c.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+u()}while(c.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function u(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",h),e("metadata",m),e("defineMetadata",g),e("hasMetadata",y),e("hasOwnMetadata",_),e("getMetadata",v),e("getOwnMetadata",b),e("getMetadataKeys",E),e("getOwnMetadataKeys",T),e("deleteMetadata",w)}(r)}()}(e||(e={}))},5748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.Trace=t.ProgressType=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.RAL=void 0,t.CancellationStrategy=void 0;const r=n(5285);Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return r.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return r.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return r.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return r.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return r.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return r.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return r.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return r.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return r.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return r.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return r.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return r.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return r.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return r.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return r.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return r.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return r.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return r.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return r.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return r.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return r.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return r.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return r.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return r.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return r.ParameterStructures}});const i=n(8159);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return i.Disposable}});const o=n(345);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return o.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return o.Emitter}});const a=n(7770);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return a.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return a.CancellationToken}});const s=n(4806);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return s.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return s.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return s.ReadableStreamMessageReader}});const c=n(9248);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return c.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return c.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return c.WriteableStreamMessageWriter}});const u=n(6336);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return u.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return u.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return u.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return u.createMessageConnection}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return u.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return u.Trace}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return u.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return u.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return u.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return u.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return u.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return u.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return u.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return u.CancellationStrategy}});const l=n(8094);t.RAL=l.default},7770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const r=n(8094),i=n(8472),o=n(345);var a;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(a=t.CancellationToken||(t.CancellationToken={}));const s=Object.freeze((function(e,t){const n=r.default().timer.setTimeout(e.bind(t),0);return{dispose(){r.default().timer.clearTimeout(n)}}}));class c{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token.cancel():this._token=a.Cancelled}dispose(){this._token?this._token instanceof c&&this._token.dispose():this._token=a.None}}},6336:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.Trace=t.NullLogger=t.ProgressType=void 0;const r=n(8094),i=n(8472),o=n(5285),a=n(5164),s=n(345),c=n(7770);var u,l,d,f,p,h,m,g,y,_,v,b,E;!function(e){e.type=new o.NotificationType("$/cancelRequest")}(u||(u={})),function(e){e.type=new o.NotificationType("$/progress")}(l||(l={}));t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return i.func(e)}}(d||(d={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(f=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){if(!i.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(f=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTrace")}(h=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTrace")}(m=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(g=t.ConnectionErrors||(t.ConnectionErrors={}));class T extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,T.prototype)}}t.ConnectionError=T,function(e){e.is=function(e){const t=e;return t&&i.func(t.cancelUndispatched)}}(y=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new c.CancellationTokenSource}),e.is=function(e){const t=e;return t&&i.func(t.createCancellationTokenSource)}}(_=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation(e,t){e.sendNotification(u.type,{id:t})},cleanup(e){}}),e.is=function(e){const t=e;return t&&i.func(t.sendCancellation)&&i.func(t.cleanup)}}(v=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:_.Message,sender:v.Message}),e.is=function(e){const t=e;return t&&_.is(t.receiver)&&v.is(t.sender)}}(b=t.CancellationStrategy||(t.CancellationStrategy={})),function(e){e.is=function(e){const t=e;return t&&(b.is(t.cancellationStrategy)||y.is(t.connectionStrategy))}}(t.ConnectionOptions||(t.ConnectionOptions={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(E||(E={})),t.createMessageConnection=function(e,n,y,_){const v=void 0!==y?y:t.NullLogger;let w=0,S=0,P=0;const R="2.0";let D;const C=Object.create(null);let x;const N=Object.create(null),A=new Map;let O,I,k=new a.LinkedMap,F=Object.create(null),M=Object.create(null),j=f.Off,B=p.Text,L=E.New;const q=new s.Emitter,U=new s.Emitter,H=new s.Emitter,W=new s.Emitter,$=new s.Emitter,Y=_&&_.cancellationStrategy?_.cancellationStrategy:b.Message;function z(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function G(e,t){var n;o.isRequestMessage(t)?e.set(z(t.id),t):o.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++P).toString():"res-"+n.toString(),t):e.set("not-"+(++S).toString(),t)}function X(e){}function K(){return L===E.Listening}function V(){return L===E.Closed}function Q(){return L===E.Disposed}function Z(){L!==E.New&&L!==E.Listening||(L=E.Closed,U.fire(void 0))}function J(){O||0===k.size||(O=r.default().timer.setImmediate((()=>{O=void 0,function(){if(0===k.size)return;const e=k.shift();try{o.isRequestMessage(e)?function(e){if(Q())return;function t(t,r,i){const a={jsonrpc:R,id:e.id};t instanceof o.ResponseError?a.error=t.toJson():a.result=void 0===t?null:t,te(a,r,i),n.write(a)}function r(t,r,i){const o={jsonrpc:R,id:e.id,error:t.toJson()};te(o,r,i),n.write(o)}function a(t,r,i){void 0===t&&(t=null);const o={jsonrpc:R,id:e.id,result:t};te(o,r,i),n.write(o)}!function(e){if(j===f.Off||!I)return;if(B===p.Text){let t;j===f.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),I.log(`Received request '${e.method} - (${e.id})'.`,t)}else ne("receive-request",e)}(e);const s=C[e.method];let c,u;s&&(c=s.type,u=s.handler);const l=Date.now();if(u||D){const n=String(e.id),s=Y.receiver.createCancellationTokenSource(n);M[n]=s;try{let d;if(u)if(void 0===e.params){if(void 0!==c&&0!==c.numberOfParams)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines ${c.numberOfParams} params but recevied none.`),e.method,l);d=u(s.token)}else if(Array.isArray(e.params)){if(void 0!==c&&c.parameterStructures===o.ParameterStructures.byName)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,l);d=u(...e.params,s.token)}else{if(void 0!==c&&c.parameterStructures===o.ParameterStructures.byPosition)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,l);d=u(e.params,s.token)}else D&&(d=D(e.method,e.params,s.token));const f=d;d?f.then?f.then((r=>{delete M[n],t(r,e.method,l)}),(t=>{delete M[n],t instanceof o.ResponseError?r(t,e.method,l):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)})):(delete M[n],t(d,e.method,l)):(delete M[n],a(d,e.method,l))}catch(a){delete M[n],a instanceof o.ResponseError?t(a,e.method,l):a&&i.string(a.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${a.message}`),e.method,l):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,l)}(e):o.isNotificationMessage(e)?function(e){if(Q())return;let t,n;if(e.method===u.type.method)n=e=>{const t=e.id,n=M[String(t)];n&&n.cancel()};else{const r=N[e.method];r&&(n=r.handler,t=r.type)}if(n||x)try{!function(e){if(j===f.Off||!I||e.method===m.type.method)return;if(B===p.Text){let t;j===f.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),I.log(`Received notification '${e.method}'.`,t)}else ne("receive-notification",e)}(e),n?void 0===e.params?(void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==o.ParameterStructures.byName&&v.error(`Notification ${e.method} defines ${t.numberOfParams} params but recevied none.`),n()):Array.isArray(e.params)?(void 0!==t&&(t.parameterStructures===o.ParameterStructures.byName&&v.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&v.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${e.params.length} argumennts`)),n(...e.params)):(void 0!==t&&t.parameterStructures===o.ParameterStructures.byPosition&&v.error(`Notification ${e.method} defines parameters by position but received parameters by name`),n(e.params)):x&&x(e.method,e.params)}catch(t){t.message?v.error(`Notification handler '${e.method}' failed with message: ${t.message}`):v.error(`Notification handler '${e.method}' failed unexpectedly.`)}else H.fire(e)}(e):o.isResponseMessage(e)?function(e){if(Q())return;if(null===e.id)e.error?v.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):v.error("Received response message without id. No further error information provided.");else{const t=String(e.id),n=F[t];if(function(e,t){if(j===f.Off||!I)return;if(B===p.Text){let n;if(j===f.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";I.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else I.log(`Received response ${e.id} without active response promise.`,n)}else ne("receive-response",e)}(e,n),n){delete F[t];try{if(e.error){const t=e.error;n.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?v.error(`Response handler '${n.method}' failed with message: ${e.message}`):v.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void v.error("Received empty message.");v.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(i.string(t.id)||i.number(t.id)){const e=String(t.id),n=F[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{J()}}()})))}e.onClose(Z),e.onError((function(e){q.fire([e,void 0,void 0])})),n.onClose(Z),n.onError((function(e){q.fire(e)}));const ee=e=>{try{if(o.isNotificationMessage(e)&&e.method===u.type.method){const t=z(e.params.id),r=k.get(t);if(o.isRequestMessage(r)){const i=null==_?void 0:_.connectionStrategy,o=i&&i.cancelUndispatched?i.cancelUndispatched(r,X):void 0;if(o&&(void 0!==o.error||void 0!==o.result))return k.delete(t),o.id=r.id,te(o,e.method,Date.now()),void n.write(o)}}G(k,e)}finally{J()}};function te(e,t,n){if(j!==f.Off&&I)if(B===p.Text){let r;j===f.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),I.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else ne("send-response",e)}function ne(e,t){if(!I||j===f.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};I.log(n)}function re(){if(V())throw new T(g.Closed,"Connection is closed.");if(Q())throw new T(g.Disposed,"Connection is disposed.")}function ie(e){return void 0===e?null:e}function oe(e){return null===e?void 0:e}function ae(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function se(e,t){switch(e){case o.ParameterStructures.auto:return ae(t)?oe(t):[ie(t)];case o.ParameterStructures.byName:if(!ae(t))throw new Error("Recevied parameters by name but param is not an object literal.");return oe(t);case o.ParameterStructures.byPosition:return[ie(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function ce(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=se(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(ie(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const ue={sendNotification:(e,...t)=>{let r,a;if(re(),i.string(e)){r=e;const n=t[0];let i=0,s=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(i=1,s=n);let c=t.length;const u=c-i;switch(u){case 0:a=void 0;break;case 1:a=se(s,t[i]);break;default:if(s===o.ParameterStructures.byName)throw new Error(`Recevied ${u} parameters for 'by Name' notification parameter structure.`);a=t.slice(i,c).map((e=>ie(e)))}}else{const n=t;r=e.method,a=ce(e,n)}const s={jsonrpc:R,method:r,params:a};!function(e){if(j!==f.Off&&I)if(B===p.Text){let t;j===f.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),I.log(`Sending notification '${e.method}'.`,t)}else ne("send-notification",e)}(s),n.write(s)},onNotification:(e,t)=>{let n;return re(),i.func(e)?x=e:t&&(i.string(e)?(n=e,N[e]={type:void 0,handler:t}):(n=e.method,N[e.method]={type:e,handler:t})),{dispose:()=>{void 0!==n?delete N[n]:x=void 0}}},onProgress:(e,t,n)=>{if(A.has(t))throw new Error(`Progress handler for token ${t} already registered`);return A.set(t,n),{dispose:()=>{A.delete(t)}}},sendProgress:(e,t,n)=>{ue.sendNotification(l.type,{token:t,value:n})},onUnhandledProgress:W.event,sendRequest:(e,...t)=>{let r,a,s;if(re(),function(){if(!K())throw new Error("Call listen() first.")}(),i.string(e)){r=e;const n=t[0],i=t[t.length-1];let u=0,l=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(u=1,l=n);let d=t.length;c.CancellationToken.is(i)&&(d-=1,s=i);const f=d-u;switch(f){case 0:a=void 0;break;case 1:a=se(l,t[u]);break;default:if(l===o.ParameterStructures.byName)throw new Error(`Recevied ${f} parameters for 'by Name' request parameter structure.`);a=t.slice(u,d).map((e=>ie(e)))}}else{const n=t;r=e.method,a=ce(e,n);const i=e.numberOfParams;s=c.CancellationToken.is(n[i])?n[i]:void 0}const u=w++;let l;s&&(l=s.onCancellationRequested((()=>{Y.sender.sendCancellation(ue,u)})));return new Promise(((e,t)=>{const i={jsonrpc:R,id:u,method:r,params:a};let s={method:r,timerStart:Date.now(),resolve:t=>{e(t),Y.sender.cleanup(u),null==l||l.dispose()},reject:e=>{t(e),Y.sender.cleanup(u),null==l||l.dispose()}};!function(e){if(j!==f.Off&&I)if(B===p.Text){let t;j===f.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),I.log(`Sending request '${e.method} - (${e.id})'.`,t)}else ne("send-request",e)}(i);try{n.write(i)}catch(e){s.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),s=null}s&&(F[String(u)]=s)}))},onRequest:(e,t)=>{re();let n=null;return d.is(e)?(n=void 0,D=e):i.string(e)?(n=null,void 0!==t&&(n=e,C[e]={handler:t,type:void 0})):void 0!==t&&(n=e.method,C[e.method]={type:e,handler:t}),{dispose:()=>{null!==n&&(void 0!==n?delete C[n]:D=void 0)}}},trace:(e,t,n)=>{let r=!1,o=p.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||p.Text)),j=e,B=o,I=j===f.Off?void 0:t,!r||V()||Q()||ue.sendNotification(h.type,{value:f.toString(e)})},onError:q.event,onClose:U.event,onUnhandledNotification:H.event,onDispose:$.event,end:()=>{n.end()},dispose:()=>{if(Q())return;L=E.Disposed,$.fire(void 0);const t=new Error("Connection got disposed.");Object.keys(F).forEach((e=>{F[e].reject(t)})),F=Object.create(null),M=Object.create(null),k=new a.LinkedMap,i.func(n.dispose)&&n.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{re(),function(){if(K())throw new T(g.AlreadyListening,"Connection is already listening")}(),L=E.Listening,e.listen(ee)},inspect:()=>{r.default().console.log("inspect")}};return ue.onNotification(m.type,(e=>{j!==f.Off&&I&&I.log(e.message,j===f.Verbose?e.verbose:void 0)})),ue.onNotification(l.type,(e=>{const t=A.get(e.token);t?t(e.value):W.fire(e)})),ue}},8159:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={}))},345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const r=n(8094);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class i{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,a=n.length;o<a;o++)try{t.push(n[o].apply(i[o],e))}catch(e){r.default().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class o{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new i),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),r.dispose=o._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=o,o._noop=function(){}},8472:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))}},5164:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(n=t.Touch||(t.Touch={}));class r{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=n.None){const r=this._map.get(e);if(r)return t!==n.None&&this.touch(r,t),r.value}set(e,t,r=n.None){let i=this._map.get(e);if(i)i.value=t,r!==n.None&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case n.None:this.addItemLast(i);break;case n.First:this.addItemFirst(i);break;case n.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.key,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.value,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:[n.key,n.value],done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===n.First||t===n.Last)if(t===n.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===n.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=r;t.LRUCache=class extends r{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=n.AsNew){return super.get(e,t)}peek(e){return super.get(e,n.None)}set(e,t){return super.set(e,t,n.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},5506:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0;t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,n=0,r=0;e:for(;t<this._chunks.length;){const i=this._chunks[t];for(n=0;n<i.length;){switch(i[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}r+=i.byteLength,t++}if(4!==e)return;const i=this._read(r+n),o=new Map,a=this.toString(i,"ascii").split("\r\n");if(a.length<2)return o;for(let e=0;e<a.length-2;e++){const t=a[e],n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");const r=t.substr(0,n),i=t.substr(n+1).trim();o.set(r,i)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const r=this._chunks[0];if(r.byteLength>e){const i=r.slice(0,e);t.set(i,n),n+=e,this._chunks[0]=r.slice(e),this._totalLength-=e,e-=e}else t.set(r,n),n+=r.byteLength,this._chunks.shift(),this._totalLength-=r.byteLength,e-=r.byteLength}return t}}},4806:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const r=n(8094),i=n(8472),o=n(345);var a;!function(e){e.is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class s{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=s,function(e){e.fromOptions=function(e){var t;let n,i;const o=new Map;let a;const s=new Map;if(void 0===e||"string"==typeof e)n=null!=e?e:"utf-8";else{if(n=null!==(t=e.charset)&&void 0!==t?t:"utf-8",void 0!==e.contentDecoder&&(i=e.contentDecoder,o.set(i.name,i)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)o.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(a=e.contentTypeDecoder,s.set(a.name,a)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)s.set(t.name,t)}return void 0===a&&(a=r.default().applicationJson.decoder,s.set(a.name,a)),{charset:n,contentDecoder:i,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:s}}}(a||(a={}));t.ReadableStreamMessageReader=class extends s{constructor(e,t){super(),this.readable=e,this.options=a.fromOptions(t),this.buffer=r.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then((e=>{this.options.contentTypeDecoder.decode(e,this.options).then((e=>{this.callback(e)}),(e=>{this.fireError(e)}))}),(e=>{this.fireError(e)}))}}clearPartialMessageTimer(){this.partialMessageTimer&&(r.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=r.default().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},9248:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const r=n(8094),i=n(8472),o=n(6791),a=n(345);var s;!function(e){e.is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class c{constructor(){this.errorEmitter=new a.Emitter,this.closeEmitter=new a.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=c,function(e){e.fromOptions=function(e){var t,n;return void 0===e||"string"==typeof e?{charset:null!=e?e:"utf-8",contentTypeEncoder:r.default().applicationJson.encoder}:{charset:null!==(t=e.charset)&&void 0!==t?t:"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:null!==(n=e.contentTypeEncoder)&&void 0!==n?n:r.default().applicationJson.encoder}}}(s||(s={}));t.WriteableStreamMessageWriter=class extends c{constructor(e,t){super(),this.writable=e,this.options=s.fromOptions(t),this.errorCount=0,this.writeSemaphore=new o.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},5285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isResponseMessage=t.isNotificationMessage=t.isRequestMessage=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const r=n(8472);var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=e.jsonrpcReservedErrorRangeStart,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=e.jsonrpcReservedErrorRangeEnd}(i=t.ErrorCodes||(t.ErrorCodes={}));class o extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,o.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=o;class a{constructor(e){this.kind=e}static is(e){return e===a.auto||e===a.byName||e===a.byPosition}toString(){return this.kind}}t.ParameterStructures=a,a.auto=new a("auto"),a.byPosition=new a("byPosition"),a.byName=new a("byName");class s{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return a.auto}}t.AbstractMessageSignature=s;t.RequestType0=class extends s{constructor(e){super(e,0)}};t.RequestType=class extends s{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.RequestType1=class extends s{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.RequestType2=class extends s{constructor(e){super(e,2)}};t.RequestType3=class extends s{constructor(e){super(e,3)}};t.RequestType4=class extends s{constructor(e){super(e,4)}};t.RequestType5=class extends s{constructor(e){super(e,5)}};t.RequestType6=class extends s{constructor(e){super(e,6)}};t.RequestType7=class extends s{constructor(e){super(e,7)}};t.RequestType8=class extends s{constructor(e){super(e,8)}};t.RequestType9=class extends s{constructor(e){super(e,9)}};t.NotificationType=class extends s{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.NotificationType0=class extends s{constructor(e){super(e,0)}};t.NotificationType1=class extends s{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.NotificationType2=class extends s{constructor(e){super(e,2)}};t.NotificationType3=class extends s{constructor(e){super(e,3)}};t.NotificationType4=class extends s{constructor(e){super(e,4)}};t.NotificationType5=class extends s{constructor(e){super(e,5)}};t.NotificationType6=class extends s{constructor(e){super(e,6)}};t.NotificationType7=class extends s{constructor(e){super(e,7)}};t.NotificationType8=class extends s{constructor(e){super(e,8)}};t.NotificationType9=class extends s{constructor(e){super(e,9)}},t.isRequestMessage=function(e){const t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function(e){const t=e;return t&&r.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},8094:(e,t)=>{"use strict";let n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},6791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const r=n(8094);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&r.default().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},1694:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const o=n(3590);o.default.install();const a=n(5748),s=n(1017),c=n(2037),u=n(6113),l=n(1808);i(n(5748),t);class d extends a.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){return this.process.on("message",e),a.Disposable.create((()=>this.process.off("message",e)))}}t.IPCMessageReader=d;class f extends a.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,(t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0})),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=f;class p extends a.ReadableStreamMessageReader{constructor(e,t="utf-8"){super(o.default().stream.asReadableStream(e),t)}}t.SocketMessageReader=p;class h extends a.WriteableStreamMessageWriter{constructor(e,t){super(o.default().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=h;class m extends a.ReadableStreamMessageReader{constructor(e,t){super(o.default().stream.asReadableStream(e),t)}}t.StreamMessageReader=m;class g extends a.WriteableStreamMessageWriter{constructor(e,t){super(o.default().stream.asWritableStream(e),t)}}t.StreamMessageWriter=g;const y=process.env.XDG_RUNTIME_DIR,_=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function(){const e=u.randomBytes(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;t=y?s.join(y,`vscode-ipc-${e}.sock`):s.join(c.tmpdir(),`vscode-${e}.sock`);const n=_.get(process.platform);return void 0!==n&&t.length>=n&&o.default().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t},t.createClientPipeTransport=function(e,t="utf-8"){let n;const r=new Promise(((e,t)=>{n=e}));return new Promise(((i,o)=>{let a=l.createServer((e=>{a.close(),n([new p(e,t),new h(e,t)])}));a.on("error",o),a.listen(e,(()=>{a.removeListener("error",o),i({onConnected:()=>r})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const n=l.createConnection(e);return[new p(n,t),new h(n,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let n;const r=new Promise(((e,t)=>{n=e}));return new Promise(((i,o)=>{const a=l.createServer((e=>{a.close(),n([new p(e,t),new h(e,t)])}));a.on("error",o),a.listen(e,"127.0.0.1",(()=>{a.removeListener("error",o),i({onConnected:()=>r})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const n=l.createConnection(e,"127.0.0.1");return[new p(n,t),new h(n,t)]},t.createMessageConnection=function(e,t,n,r){n||(n=a.NullLogger);const i=function(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new m(e):e,o=function(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new g(t):t;return a.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),a.createMessageConnection(i,o,n,r)}},3590:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8094),i=n(3837),o=n(8159),a=n(5506);class s extends a.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return s.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new i.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}s.emptyBuffer=Buffer.allocUnsafe(0);class c{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),o.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),o.Disposable.create((()=>this.stream.off("end",e)))}onData(e){return this.stream.on("data",e),o.Disposable.create((()=>this.stream.off("data",e)))}}class u{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),o.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),o.Disposable.create((()=>this.stream.off("end",e)))}write(e,t){return new Promise(((n,r)=>{const i=e=>{null==e?n():r(e)};"string"==typeof e?this.stream.write(e,t,i):this.stream.write(e,i)}))}end(){this.stream.end()}}const l=Object.freeze({messageBuffer:Object.freeze({create:e=>new s(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new i.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new c(e),asWritableStream:e=>new u(e)}),console,timer:Object.freeze({setTimeout:(e,t,...n)=>setTimeout(e,t,...n),clearTimeout(e){clearTimeout(e)},setImmediate:(e,...t)=>setImmediate(e,...t),clearImmediate(e){clearImmediate(e)}})});function d(){return l}!function(e){e.install=function(){r.default.install(l)}}(d||(d={})),t.default=d},2659:(e,t,n)=>{"use strict";e.exports=n(1694)},559:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,i(n(1694),t),i(n(2880),t),i(n(4742),t),i(n(7304),t);var o=n(7558);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return o.createProtocolConnection}}),function(e){e.lspReservedErrorRangeStart=-32899,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800}(t.LSPErrorCodes||(t.LSPErrorCodes={}))},7558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=n(1694);t.createProtocolConnection=function(e,t,n,i){return r.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),r.createMessageConnection(e,t,n,i)}},4742:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=void 0;const r=n(1694);t.RegistrationType=class{constructor(e){this.method=e}};class i extends r.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=i;class o extends r.RequestType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolRequestType=o;class a extends r.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=a;class s extends r.NotificationType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolNotificationType=s},2565:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;const r=n(4742);!function(e){e.method="textDocument/prepareCallHierarchy",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})),function(e){e.method="callHierarchy/incomingCalls",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})),function(e){e.method="callHierarchy/outgoingCalls",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={}))},5509:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;const r=n(4742);!function(e){e.method="textDocument/documentColor",e.type=new r.ProtocolRequestType(e.method)}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.type=new r.ProtocolRequestType("textDocument/colorPresentation")}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},7296:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;const r=n(4742);!function(e){e.type=new r.ProtocolRequestType("workspace/configuration")}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},9137:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;const r=n(4742);!function(e){e.method="textDocument/declaration",e.type=new r.ProtocolRequestType(e.method)}(t.DeclarationRequest||(t.DeclarationRequest={}))},2235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;const r=n(4742);!function(e){e.file="file",e.folder="folder"}(t.FileOperationPatternKind||(t.FileOperationPatternKind={})),function(e){e.method="workspace/willCreateFiles",e.type=new r.ProtocolRequestType(e.method)}(t.WillCreateFilesRequest||(t.WillCreateFilesRequest={})),function(e){e.method="workspace/didCreateFiles",e.type=new r.ProtocolNotificationType(e.method)}(t.DidCreateFilesNotification||(t.DidCreateFilesNotification={})),function(e){e.method="workspace/willRenameFiles",e.type=new r.ProtocolRequestType(e.method)}(t.WillRenameFilesRequest||(t.WillRenameFilesRequest={})),function(e){e.method="workspace/didRenameFiles",e.type=new r.ProtocolNotificationType(e.method)}(t.DidRenameFilesNotification||(t.DidRenameFilesNotification={})),function(e){e.method="workspace/didDeleteFiles",e.type=new r.ProtocolNotificationType(e.method)}(t.DidDeleteFilesNotification||(t.DidDeleteFilesNotification={})),function(e){e.method="workspace/willDeleteFiles",e.type=new r.ProtocolRequestType(e.method)}(t.WillDeleteFilesRequest||(t.WillDeleteFilesRequest={}))},5171:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRequest=t.FoldingRangeKind=void 0;const r=n(4742);!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.method="textDocument/foldingRange",e.type=new r.ProtocolRequestType(e.method)}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},2441:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;const r=n(4742);!function(e){e.method="textDocument/implementation",e.type=new r.ProtocolRequestType(e.method)}(t.ImplementationRequest||(t.ImplementationRequest={}))},7304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeError=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.DocumentFilter=void 0,t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=void 0;const r=n(9348),i=n(4742),o=n(2441);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return o.ImplementationRequest}});const a=n(8685);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return a.TypeDefinitionRequest}});const s=n(1343);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return s.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return s.DidChangeWorkspaceFoldersNotification}});const c=n(7296);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return c.ConfigurationRequest}});const u=n(5509);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return u.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return u.ColorPresentationRequest}});const l=n(5171);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return l.FoldingRangeRequest}});const d=n(9137);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return d.DeclarationRequest}});const f=n(2964);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return f.SelectionRangeRequest}});const p=n(7450);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return p.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return p.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return p.WorkDoneProgressCancelNotification}});const h=n(2565);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return h.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return h.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return h.CallHierarchyPrepareRequest}});const m=n(5402);Object.defineProperty(t,"SemanticTokenTypes",{enumerable:!0,get:function(){return m.SemanticTokenTypes}}),Object.defineProperty(t,"SemanticTokenModifiers",{enumerable:!0,get:function(){return m.SemanticTokenModifiers}}),Object.defineProperty(t,"SemanticTokens",{enumerable:!0,get:function(){return m.SemanticTokens}}),Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return m.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return m.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return m.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return m.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return m.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return m.SemanticTokensRegistrationType}});const g=n(903);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return g.ShowDocumentRequest}});const y=n(7323);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return y.LinkedEditingRangeRequest}});const _=n(2235);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return _.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return _.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return _.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return _.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return _.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return _.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return _.WillDeleteFilesRequest}});const v=n(9219);var b,E;Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return v.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return v.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return v.MonikerRequest}}),function(e){e.is=function(e){const t=e;return r.string(t.language)||r.string(t.scheme)||r.string(t.pattern)}}(b=t.DocumentFilter||(t.DocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!r.string(t)&&!b.is(t))return!1;return!0}}(E=t.DocumentSelector||(t.DocumentSelector={})),function(e){e.type=new i.ProtocolRequestType("client/registerCapability")}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.type=new i.ProtocolRequestType("client/unregisterCapability")}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.hasId=function(e){const t=e;return t&&r.string(t.id)&&t.id.length>0}}(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})),function(e){e.is=function(e){const t=e;return t&&(null===t.documentSelector||E.is(t.documentSelector))}}(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})),function(e){e.is=function(e){const t=e;return r.objectLiteral(t)&&(void 0===t.workDoneProgress||r.boolean(t.workDoneProgress))},e.hasWorkDoneProgress=function(e){const t=e;return t&&r.boolean(t.workDoneProgress)}}(t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})),function(e){e.type=new i.ProtocolRequestType("initialize")}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeError||(t.InitializeError={})),function(e){e.type=new i.ProtocolNotificationType("initialized")}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.type=new i.ProtocolRequestType0("shutdown")}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.type=new i.ProtocolNotificationType0("exit")}(t.ExitNotification||(t.ExitNotification={})),function(e){e.type=new i.ProtocolNotificationType("workspace/didChangeConfiguration")}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.type=new i.ProtocolNotificationType("window/showMessage")}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.type=new i.ProtocolRequestType("window/showMessageRequest")}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.type=new i.ProtocolNotificationType("window/logMessage")}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.type=new i.ProtocolNotificationType("telemetry/event")}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.method="textDocument/didOpen",e.type=new i.ProtocolNotificationType(e.method)}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.isIncremental=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},e.isFull=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}(t.TextDocumentContentChangeEvent||(t.TextDocumentContentChangeEvent={})),function(e){e.method="textDocument/didChange",e.type=new i.ProtocolNotificationType(e.method)}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.method="textDocument/didClose",e.type=new i.ProtocolNotificationType(e.method)}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.method="textDocument/didSave",e.type=new i.ProtocolNotificationType(e.method)}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})),function(e){e.method="textDocument/willSave",e.type=new i.ProtocolNotificationType(e.method)}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.method="textDocument/willSaveWaitUntil",e.type=new i.ProtocolRequestType(e.method)}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.type=new i.ProtocolNotificationType("workspace/didChangeWatchedFiles")}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.type=new i.ProtocolNotificationType("textDocument/publishDiagnostics")}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.method="textDocument/completion",e.type=new i.ProtocolRequestType(e.method)}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.method="completionItem/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.method="textDocument/hover",e.type=new i.ProtocolRequestType(e.method)}(t.HoverRequest||(t.HoverRequest={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3}(t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})),function(e){e.method="textDocument/signatureHelp",e.type=new i.ProtocolRequestType(e.method)}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.method="textDocument/definition",e.type=new i.ProtocolRequestType(e.method)}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.method="textDocument/references",e.type=new i.ProtocolRequestType(e.method)}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.method="textDocument/documentHighlight",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.method="textDocument/documentSymbol",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.method="textDocument/codeAction",e.type=new i.ProtocolRequestType(e.method)}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.method="codeAction/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.CodeActionResolveRequest||(t.CodeActionResolveRequest={})),function(e){e.method="workspace/symbol",e.type=new i.ProtocolRequestType(e.method)}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.method="textDocument/codeLens",e.type=new i.ProtocolRequestType(e.method)}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.method="codeLens/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.method="workspace/codeLens/refresh",e.type=new i.ProtocolRequestType0(e.method)}(t.CodeLensRefreshRequest||(t.CodeLensRefreshRequest={})),function(e){e.method="textDocument/documentLink",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.method="documentLink/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.method="textDocument/formatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.method="textDocument/rangeFormatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.method="textDocument/onTypeFormatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.Identifier=1}(t.PrepareSupportDefaultBehavior||(t.PrepareSupportDefaultBehavior={})),function(e){e.method="textDocument/rename",e.type=new i.ProtocolRequestType(e.method)}(t.RenameRequest||(t.RenameRequest={})),function(e){e.method="textDocument/prepareRename",e.type=new i.ProtocolRequestType(e.method)}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.type=new i.ProtocolRequestType("workspace/executeCommand")}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.type=new i.ProtocolRequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},7323:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;const r=n(4742);!function(e){e.method="textDocument/linkedEditingRange",e.type=new r.ProtocolRequestType(e.method)}(t.LinkedEditingRangeRequest||(t.LinkedEditingRangeRequest={}))},9219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;const r=n(4742);!function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"}(t.UniquenessLevel||(t.UniquenessLevel={})),function(e){e.import="import",e.export="export",e.local="local"}(t.MonikerKind||(t.MonikerKind={})),function(e){e.method="textDocument/moniker",e.type=new r.ProtocolRequestType(e.method)}(t.MonikerRequest||(t.MonikerRequest={}))},7450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;const r=n(1694),i=n(4742);!function(e){e.type=new r.ProgressType,e.is=function(t){return t===e.type}}(t.WorkDoneProgress||(t.WorkDoneProgress={})),function(e){e.type=new i.ProtocolRequestType("window/workDoneProgress/create")}(t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})),function(e){e.type=new i.ProtocolNotificationType("window/workDoneProgress/cancel")}(t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={}))},2964:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;const r=n(4742);!function(e){e.method="textDocument/selectionRange",e.type=new r.ProtocolRequestType(e.method)}(t.SelectionRangeRequest||(t.SelectionRangeRequest={}))},5402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=void 0;const r=n(4742);!function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator"}(t.SemanticTokenTypes||(t.SemanticTokenTypes={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(t.SemanticTokenModifiers||(t.SemanticTokenModifiers={})),function(e){e.is=function(e){const t=e;return void 0!==t&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(t.SemanticTokens||(t.SemanticTokens={})),function(e){e.Relative="relative"}(t.TokenFormat||(t.TokenFormat={})),function(e){e.method="textDocument/semanticTokens",e.type=new r.RegistrationType(e.method)}(t.SemanticTokensRegistrationType||(t.SemanticTokensRegistrationType={})),function(e){e.method="textDocument/semanticTokens/full",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensRequest||(t.SemanticTokensRequest={})),function(e){e.method="textDocument/semanticTokens/full/delta",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensDeltaRequest||(t.SemanticTokensDeltaRequest={})),function(e){e.method="textDocument/semanticTokens/range",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={})),function(e){e.method="workspace/semanticTokens/refresh",e.type=new r.ProtocolRequestType0(e.method)}(t.SemanticTokensRefreshRequest||(t.SemanticTokensRefreshRequest={}))},903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;const r=n(4742);!function(e){e.method="window/showDocument",e.type=new r.ProtocolRequestType(e.method)}(t.ShowDocumentRequest||(t.ShowDocumentRequest={}))},8685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;const r=n(4742);!function(e){e.method="textDocument/typeDefinition",e.type=new r.ProtocolRequestType(e.method)}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},1343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;const r=n(4742);!function(e){e.type=new r.ProtocolRequestType0("workspace/workspaceFolders")}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.type=new r.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},9348:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},7745:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const o=n(2659);i(n(2659),t),i(n(559),t),t.createProtocolConnection=function(e,t,n,r){return o.createMessageConnection(e,t,n,r)}},4057:(e,t,n)=>{"use strict";e.exports=n(7745)},6288:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TextDocument:()=>i});class r{constructor(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){for(let t of e)if(r.isIncremental(t)){const e=s(t.range),n=this.offsetAt(e.start),r=this.offsetAt(e.end);this._content=this._content.substring(0,n)+t.text+this._content.substring(r,this._content.length);const i=Math.max(e.start.line,0),o=Math.max(e.end.line,0);let c=this._lineOffsets;const u=a(t.text,!1,n);if(o-i===u.length)for(let e=0,t=u.length;e<t;e++)c[e+i+1]=u[e];else u.length<1e4?c.splice(i+1,o-i,...u):this._lineOffsets=c=c.slice(0,i+1).concat(u,c.slice(o+1));const l=t.text.length-(r-n);if(0!==l)for(let e=i+1+u.length,t=c.length;e<t;e++)c[e]=c[e]+l}else{if(!r.isFull(t))throw new Error("Unknown change event received");this._content=t.text,this._lineOffsets=void 0}this._version=t}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=a(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return{line:0,character:e};for(;n<r;){let i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}let i=n-1;return{line:i,character:e-t[i]}}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)}static isFull(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}var i;function o(e,t){if(e.length<=1)return e;const n=e.length/2|0,r=e.slice(0,n),i=e.slice(n);o(r,t),o(i,t);let a=0,s=0,c=0;for(;a<r.length&&s<i.length;){let n=t(r[a],i[s]);e[c++]=n<=0?r[a++]:i[s++]}for(;a<r.length;)e[c++]=r[a++];for(;s<i.length;)e[c++]=i[s++];return e}function a(e,t,n=0){const r=t?[n]:[];for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);13!==i&&10!==i||(13===i&&t+1<e.length&&10===e.charCodeAt(t+1)&&t++,r.push(n+t+1))}return r}function s(e){const t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function c(e){const t=s(e.range);return t!==e.range?{newText:e.newText,range:t}:e}!function(e){e.create=function(e,t,n,i){return new r(e,t,n,i)},e.update=function(e,t,n){if(e instanceof r)return e.update(t,n),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")},e.applyEdits=function(e,t){let n=e.getText(),r=o(t.map(c),((e,t)=>{let n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),i=0;const a=[];for(const t of r){let r=e.offsetAt(t.range.start);if(r<i)throw new Error("Overlapping edit");r>i&&a.push(n.substring(i,r)),t.newText.length&&a.push(t.newText),i=e.offsetAt(t.range.end)}return a.push(n.substr(i)),a.join("")}}(i||(i={}))},2880:(e,t,n)=>{"use strict";var r,i,o,a,s,c,u,l,d,f,p,h,m,g,y,_,v,b,E,T,w,S,P,R,D,C;n.r(t),n.d(t,{AnnotatedTextEdit:()=>w,ChangeAnnotation:()=>E,ChangeAnnotationIdentifier:()=>T,CodeAction:()=>ee,CodeActionContext:()=>J,CodeActionKind:()=>Z,CodeDescription:()=>y,CodeLens:()=>te,Color:()=>u,ColorInformation:()=>l,ColorPresentation:()=>d,Command:()=>v,CompletionItem:()=>q,CompletionItemKind:()=>F,CompletionItemTag:()=>j,CompletionList:()=>U,CreateFile:()=>P,DeleteFile:()=>D,Diagnostic:()=>_,DiagnosticRelatedInformation:()=>h,DiagnosticSeverity:()=>m,DiagnosticTag:()=>g,DocumentHighlight:()=>G,DocumentHighlightKind:()=>z,DocumentLink:()=>re,DocumentSymbol:()=>Q,EOL:()=>ue,FoldingRange:()=>p,FoldingRangeKind:()=>f,FormattingOptions:()=>ne,Hover:()=>W,InsertReplaceEdit:()=>B,InsertTextFormat:()=>M,InsertTextMode:()=>L,Location:()=>s,LocationLink:()=>c,MarkedString:()=>H,MarkupContent:()=>k,MarkupKind:()=>I,OptionalVersionedTextDocumentIdentifier:()=>A,ParameterInformation:()=>$,Position:()=>o,Range:()=>a,RenameFile:()=>R,SelectionRange:()=>ie,SignatureInformation:()=>Y,SymbolInformation:()=>V,SymbolKind:()=>X,SymbolTag:()=>K,TextDocument:()=>ce,TextDocumentEdit:()=>S,TextDocumentIdentifier:()=>x,TextDocumentItem:()=>O,TextEdit:()=>b,VersionedTextDocumentIdentifier:()=>N,WorkspaceChange:()=>se,WorkspaceEdit:()=>C,integer:()=>r,uinteger:()=>i}),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647}(r||(r={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647}(i||(i={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=i.MAX_VALUE),t===Number.MAX_VALUE&&(t=i.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return le.objectLiteral(t)&&le.uinteger(t.line)&&le.uinteger(t.character)}}(o||(o={})),function(e){e.create=function(e,t,n,r){if(le.uinteger(e)&&le.uinteger(t)&&le.uinteger(n)&&le.uinteger(r))return{start:o.create(e,t),end:o.create(n,r)};if(o.is(e)&&o.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+r+"]")},e.is=function(e){var t=e;return le.objectLiteral(t)&&o.is(t.start)&&o.is(t.end)}}(a||(a={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return le.defined(t)&&a.is(t.range)&&(le.string(t.uri)||le.undefined(t.uri))}}(s||(s={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return le.defined(t)&&a.is(t.targetRange)&&le.string(t.targetUri)&&(a.is(t.targetSelectionRange)||le.undefined(t.targetSelectionRange))&&(a.is(t.originSelectionRange)||le.undefined(t.originSelectionRange))}}(c||(c={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return le.numberRange(t.red,0,1)&&le.numberRange(t.green,0,1)&&le.numberRange(t.blue,0,1)&&le.numberRange(t.alpha,0,1)}}(u||(u={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return a.is(t.range)&&u.is(t.color)}}(l||(l={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return le.string(t.label)&&(le.undefined(t.textEdit)||b.is(t))&&(le.undefined(t.additionalTextEdits)||le.typedArray(t.additionalTextEdits,b.is))}}(d||(d={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(f||(f={})),function(e){e.create=function(e,t,n,r,i){var o={startLine:e,endLine:t};return le.defined(n)&&(o.startCharacter=n),le.defined(r)&&(o.endCharacter=r),le.defined(i)&&(o.kind=i),o},e.is=function(e){var t=e;return le.uinteger(t.startLine)&&le.uinteger(t.startLine)&&(le.undefined(t.startCharacter)||le.uinteger(t.startCharacter))&&(le.undefined(t.endCharacter)||le.uinteger(t.endCharacter))&&(le.undefined(t.kind)||le.string(t.kind))}}(p||(p={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return le.defined(t)&&s.is(t.location)&&le.string(t.message)}}(h||(h={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(m||(m={})),function(e){e.Unnecessary=1,e.Deprecated=2}(g||(g={})),function(e){e.is=function(e){var t=e;return null!=t&&le.string(t.href)}}(y||(y={})),function(e){e.create=function(e,t,n,r,i,o){var a={range:e,message:t};return le.defined(n)&&(a.severity=n),le.defined(r)&&(a.code=r),le.defined(i)&&(a.source=i),le.defined(o)&&(a.relatedInformation=o),a},e.is=function(e){var t,n=e;return le.defined(n)&&a.is(n.range)&&le.string(n.message)&&(le.number(n.severity)||le.undefined(n.severity))&&(le.integer(n.code)||le.string(n.code)||le.undefined(n.code))&&(le.undefined(n.codeDescription)||le.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(le.string(n.source)||le.undefined(n.source))&&(le.undefined(n.relatedInformation)||le.typedArray(n.relatedInformation,h.is))}}(_||(_={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return le.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.title)&&le.string(t.command)}}(v||(v={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return le.objectLiteral(t)&&le.string(t.newText)&&a.is(t.range)}}(b||(b={})),function(e){e.create=function(e,t,n){var r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){var t=e;return void 0!==t&&le.objectLiteral(t)&&le.string(t.label)&&(le.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(le.string(t.description)||void 0===t.description)}}(E||(E={})),function(e){e.is=function(e){return"string"==typeof e}}(T||(T={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return b.is(t)&&(E.is(t.annotationId)||T.is(t.annotationId))}}(w||(w={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return le.defined(t)&&A.is(t.textDocument)&&Array.isArray(t.edits)}}(S||(S={})),function(e){e.create=function(e,t,n){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"create"===t.kind&&le.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||le.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||le.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||T.is(t.annotationId))}}(P||(P={})),function(e){e.create=function(e,t,n,r){var i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},e.is=function(e){var t=e;return t&&"rename"===t.kind&&le.string(t.oldUri)&&le.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||le.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||le.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||T.is(t.annotationId))}}(R||(R={})),function(e){e.create=function(e,t,n){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"delete"===t.kind&&le.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||le.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||le.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||T.is(t.annotationId))}}(D||(D={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return le.string(e.kind)?P.is(e)||R.is(e)||D.is(e):S.is(e)})))}}(C||(C={}));var x,N,A,O,I,k,F,M,j,B,L,q,U,H,W,$,Y,z,G,X,K,V,Q,Z,J,ee,te,ne,re,ie,oe=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var r,i;if(void 0===n?r=b.insert(e,t):T.is(n)?(i=n,r=w.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=w.insert(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.replace=function(e,t,n){var r,i;if(void 0===n?r=b.replace(e,t):T.is(n)?(i=n,r=w.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=w.replace(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.delete=function(e,t){var n,r;if(void 0===t?n=b.del(e):T.is(t)?(r=t,n=w.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=w.del(e,r)),this.edits.push(n),void 0!==r)return r},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),ae=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(T.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id "+n+" is already in use.");if(void 0===t)throw new Error("No annotation provided for id "+n);return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),se=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new ae(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(S.is(e)){var n=new oe(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new oe(e.changes[n]);t._textEditChanges[n]=r}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(A.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new oe(i,this._changeAnnotations),this._textEditChanges[t.uri]=r}return r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new oe(i),this._textEditChanges[e]=r}return r},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new ae,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(E.is(t)||T.is(t)?r=t:n=t,void 0===r?i=P.create(e,n):(o=T.is(r)?r:this._changeAnnotations.manage(r),i=P.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e.prototype.renameFile=function(e,t,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,o,a;if(E.is(n)||T.is(n)?i=n:r=n,void 0===i?o=R.create(e,t,r):(a=T.is(i)?i:this._changeAnnotations.manage(i),o=R.create(e,t,r,a)),this._workspaceEdit.documentChanges.push(o),void 0!==a)return a},e.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(E.is(t)||T.is(t)?r=t:n=t,void 0===r?i=D.create(e,n):(o=T.is(r)?r:this._changeAnnotations.manage(r),i=D.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.uri)}}(x||(x={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.uri)&&le.integer(t.version)}}(N||(N={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.uri)&&(null===t.version||le.integer(t.version))}}(A||(A={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.uri)&&le.string(t.languageId)&&le.integer(t.version)&&le.string(t.text)}}(O||(O={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(I||(I={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(I||(I={})),function(e){e.is=function(e){var t=e;return le.objectLiteral(e)&&I.is(t.kind)&&le.string(t.value)}}(k||(k={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(F||(F={})),function(e){e.PlainText=1,e.Snippet=2}(M||(M={})),function(e){e.Deprecated=1}(j||(j={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){var t=e;return t&&le.string(t.newText)&&a.is(t.insert)&&a.is(t.replace)}}(B||(B={})),function(e){e.asIs=1,e.adjustIndentation=2}(L||(L={})),function(e){e.create=function(e){return{label:e}}}(q||(q={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(U||(U={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return le.string(t)||le.objectLiteral(t)&&le.string(t.language)&&le.string(t.value)}}(H||(H={})),function(e){e.is=function(e){var t=e;return!!t&&le.objectLiteral(t)&&(k.is(t.contents)||H.is(t.contents)||le.typedArray(t.contents,H.is))&&(void 0===e.range||a.is(e.range))}}(W||(W={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}($||($={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return le.defined(t)&&(i.documentation=t),le.defined(n)?i.parameters=n:i.parameters=[],i}}(Y||(Y={})),function(e){e.Text=1,e.Read=2,e.Write=3}(z||(z={})),function(e){e.create=function(e,t){var n={range:e};return le.number(t)&&(n.kind=t),n}}(G||(G={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(X||(X={})),function(e){e.Deprecated=1}(K||(K={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(V||(V={})),function(e){e.create=function(e,t,n,r,i,o){var a={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(a.children=o),a},e.is=function(e){var t=e;return t&&le.string(t.name)&&le.number(t.kind)&&a.is(t.range)&&a.is(t.selectionRange)&&(void 0===t.detail||le.string(t.detail))&&(void 0===t.deprecated||le.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(Q||(Q={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(Z||(Z={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return le.defined(t)&&le.typedArray(t.diagnostics,_.is)&&(void 0===t.only||le.typedArray(t.only,le.string))}}(J||(J={})),function(e){e.create=function(e,t,n){var r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):v.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&le.string(t.title)&&(void 0===t.diagnostics||le.typedArray(t.diagnostics,_.is))&&(void 0===t.kind||le.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||v.is(t.command))&&(void 0===t.isPreferred||le.boolean(t.isPreferred))&&(void 0===t.edit||C.is(t.edit))}}(ee||(ee={})),function(e){e.create=function(e,t){var n={range:e};return le.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return le.defined(t)&&a.is(t.range)&&(le.undefined(t.command)||v.is(t.command))}}(te||(te={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return le.defined(t)&&le.uinteger(t.tabSize)&&le.boolean(t.insertSpaces)}}(ne||(ne={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return le.defined(t)&&a.is(t.range)&&(le.undefined(t.target)||le.string(t.target))}}(re||(re={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return void 0!==n&&a.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ie||(ie={}));var ce,ue=["\n","\r\n","\r"];!function(e){function t(e,n){if(e.length<=1)return e;var r=e.length/2|0,i=e.slice(0,r),o=e.slice(r);t(i,n),t(o,n);for(var a=0,s=0,c=0;a<i.length&&s<o.length;){var u=n(i[a],o[s]);e[c++]=u<=0?i[a++]:o[s++]}for(;a<i.length;)e[c++]=i[a++];for(;s<o.length;)e[c++]=o[s++];return e}e.create=function(e,t,n,r){return new de(e,t,n,r)},e.is=function(e){var t=e;return!!(le.defined(t)&&le.string(t.uri)&&(le.undefined(t.languageId)||le.string(t.languageId))&&le.uinteger(t.lineCount)&&le.func(t.getText)&&le.func(t.positionAt)&&le.func(t.offsetAt))},e.applyEdits=function(e,n){for(var r=e.getText(),i=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),o=r.length,a=i.length-1;a>=0;a--){var s=i[a],c=e.offsetAt(s.range.start),u=e.offsetAt(s.range.end);if(!(u<=o))throw new Error("Overlapping edit");r=r.substring(0,c)+s.newText+r.substring(u,r.length),o=c}return r}}(ce||(ce={}));var le,de=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return o.create(0,e);for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var a=n-1;return o.create(a,e-t[a])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(le||(le={}))},9936:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.SemanticTokensBuilder=void 0;const o=n(7255);Object.defineProperty(t,"SemanticTokensBuilder",{enumerable:!0,get:function(){return o.SemanticTokensBuilder}}),i(n(7745),t),i(n(6717),t),function(e){e.all={__brand:"features"}}(t.ProposedFeatures||(t.ProposedFeatures={}))},4225:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyFeature=void 0;const r=n(7745);t.CallHierarchyFeature=e=>class extends e{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(r.CallHierarchyPrepareRequest.type,((t,n)=>e(t,n,this.attachWorkDoneProgress(t),void 0)))},onIncomingCalls:e=>{const t=r.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))},onOutgoingCalls:e=>{const t=r.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))}}}}},3606:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationFeature=void 0;const r=n(7745),i=n(6960);t.ConfigurationFeature=e=>class extends e{getConfiguration(e){return e?i.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let t={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(r.ConfigurationRequest.type,t).then((t=>Array.isArray(e)?t:t[0]))}}},7695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileOperationsFeature=void 0;const r=n(7745);t.FileOperationsFeature=e=>class extends e{onDidCreateFiles(e){this.connection.onNotification(r.DidCreateFilesNotification.type,(t=>{e(t)}))}onDidRenameFiles(e){this.connection.onNotification(r.DidRenameFilesNotification.type,(t=>{e(t)}))}onDidDeleteFiles(e){this.connection.onNotification(r.DidDeleteFilesNotification.type,(t=>{e(t)}))}onWillCreateFiles(e){return this.connection.onRequest(r.WillCreateFilesRequest.type,((t,n)=>e(t,n)))}onWillRenameFiles(e){return this.connection.onRequest(r.WillRenameFilesRequest.type,((t,n)=>e(t,n)))}onWillDeleteFiles(e){return this.connection.onRequest(r.WillDeleteFilesRequest.type,((t,n)=>e(t,n)))}}},7129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeFeature=void 0;const r=n(7745);t.LinkedEditingRangeFeature=e=>class extends e{onLinkedEditingRange(e){this.connection.onRequest(r.LinkedEditingRangeRequest.type,((t,n)=>e(t,n,this.attachWorkDoneProgress(t),void 0)))}}},8535:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerFeature=void 0;const r=n(7745);t.MonikerFeature=e=>class extends e{get moniker(){return{on:e=>{const t=r.MonikerRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))}}}}},3787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachPartialResult=t.ProgressFeature=t.attachWorkDone=void 0;const r=n(7745),i=n(7867);class o{constructor(e,t){this._connection=e,this._token=t,o.Instances.set(this._token,this)}begin(e,t,n,i){let o={kind:"begin",title:e,percentage:t,message:n,cancellable:i};this._connection.sendProgress(r.WorkDoneProgress.type,this._token,o)}report(e,t){let n={kind:"report"};"number"==typeof e?(n.percentage=e,void 0!==t&&(n.message=t)):n.message=e,this._connection.sendProgress(r.WorkDoneProgress.type,this._token,n)}done(){o.Instances.delete(this._token),this._connection.sendProgress(r.WorkDoneProgress.type,this._token,{kind:"end"})}}o.Instances=new Map;class a extends o{constructor(e,t){super(e,t),this._source=new r.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class s{constructor(){}begin(){}report(){}done(){}}class c extends s{constructor(){super(),this._source=new r.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}t.attachWorkDone=function(e,t){if(void 0===t||void 0===t.workDoneToken)return new s;const n=t.workDoneToken;return delete t.workDoneToken,new o(e,n)};var u;t.ProgressFeature=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(e){var t;!0===(null===(t=null==e?void 0:e.window)||void 0===t?void 0:t.workDoneProgress)&&(this._progressSupported=!0,this.connection.onNotification(r.WorkDoneProgressCancelNotification.type,(e=>{let t=o.Instances.get(e.token);(t instanceof a||t instanceof c)&&t.cancel()})))}attachWorkDoneProgress(e){return void 0===e?new s:new o(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){const e=i.generateUuid();return this.connection.sendRequest(r.WorkDoneProgressCreateRequest.type,{token:e}).then((()=>new a(this.connection,e)))}return Promise.resolve(new c)}},function(e){e.type=new r.ProgressType}(u||(u={}));class l{constructor(e,t){this._connection=e,this._token=t}report(e){this._connection.sendProgress(u.type,this._token,e)}}t.attachPartialResult=function(e,t){if(void 0===t||void 0===t.partialResultToken)return;const n=t.partialResultToken;return delete t.partialResultToken,new l(e,n)}},7255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensBuilder=t.SemanticTokensFeature=void 0;const r=n(7745);t.SemanticTokensFeature=e=>class extends e{get semanticTokens(){return{on:e=>{const t=r.SemanticTokensRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))},onDelta:e=>{const t=r.SemanticTokensDeltaRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))},onRange:e=>{const t=r.SemanticTokensRangeRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))}}}};t.SemanticTokensBuilder=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,t,n,r,i){let o=e,a=t;this._dataLen>0&&(o-=this._prevLine,0===o&&(a-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._prevLine=e,this._prevChar=t}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){if(void 0!==this._prevData){const e=this._prevData.length,t=this._data.length;let n=0;for(;n<t&&n<e&&this._prevData[n]===this._data[n];)n++;if(n<t&&n<e){let r=0;for(;r<t&&r<e&&this._prevData[e-1-r]===this._data[t-1-r];)r++;const i=this._data.slice(n,t-r);return{resultId:this.id,edits:[{start:n,deleteCount:e-r-n,data:i}]}}return n<t?{resultId:this.id,edits:[{start:n,deleteCount:0,data:this._data.slice(n)}]}:n<e?{resultId:this.id,edits:[{start:n,deleteCount:e-n}]}:{resultId:this.id,edits:[]}}return this.build()}}},6717:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConnection=t.combineFeatures=t.combineLanguagesFeatures=t.combineWorkspaceFeatures=t.combineWindowFeatures=t.combineClientFeatures=t.combineTracerFeatures=t.combineTelemetryFeatures=t.combineConsoleFeatures=t._LanguagesImpl=t.BulkUnregistration=t.BulkRegistration=t.ErrorMessageTracker=t.TextDocuments=void 0;const r=n(7745),i=n(6960),o=n(7867),a=n(3787),s=n(3606),c=n(518),u=n(4225),l=n(7255),d=n(9283),f=n(7695),p=n(7129),h=n(8535);function m(e){if(null!==e)return e}t.TextDocuments=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new r.Emitter,this._onDidOpen=new r.Emitter,this._onDidClose=new r.Emitter,this._onDidSave=new r.Emitter,this._onWillSave=new r.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map((e=>this._documents[e]))}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=r.TextDocumentSyncKind.Full,e.onDidOpenTextDocument((e=>{let t=e.textDocument,n=this._configuration.create(t.uri,t.languageId,t.version,t.text);this._documents[t.uri]=n;let r=Object.freeze({document:n});this._onDidOpen.fire(r),this._onDidChangeContent.fire(r)})),e.onDidChangeTextDocument((e=>{let t=e.textDocument,n=e.contentChanges;if(0===n.length)return;let r=this._documents[t.uri];const{version:i}=t;if(null==i)throw new Error(`Received document change event for ${t.uri} without valid version identifier`);r=this._configuration.update(r,n,i),this._documents[t.uri]=r,this._onDidChangeContent.fire(Object.freeze({document:r}))})),e.onDidCloseTextDocument((e=>{let t=this._documents[e.textDocument.uri];t&&(delete this._documents[e.textDocument.uri],this._onDidClose.fire(Object.freeze({document:t})))})),e.onWillSaveTextDocument((e=>{let t=this._documents[e.textDocument.uri];t&&this._onWillSave.fire(Object.freeze({document:t,reason:e.reason}))})),e.onWillSaveTextDocumentWaitUntil(((e,t)=>{let n=this._documents[e.textDocument.uri];return n&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:n,reason:e.reason}),t):[]})),e.onDidSaveTextDocument((e=>{let t=this._documents[e.textDocument.uri];t&&this._onDidSave.fire(Object.freeze({document:t}))}))}};t.ErrorMessageTracker=class{constructor(){this._messages=Object.create(null)}add(e){let t=this._messages[e];t||(t=0),t++,this._messages[e]=t}sendErrors(e){Object.keys(this._messages).forEach((t=>{e.window.showErrorMessage(t)}))}};class g{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(r.MessageType.Error,e)}warn(e){this.send(r.MessageType.Warning,e)}info(e){this.send(r.MessageType.Info,e)}log(e){this.send(r.MessageType.Log,e)}send(e,t){this._rawConnection&&this._rawConnection.sendNotification(r.LogMessageNotification.type,{type:e,message:t})}}const y=d.ShowDocumentFeature(a.ProgressFeature(class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...t){let n={type:r.MessageType.Error,message:e,actions:t};return this.connection.sendRequest(r.ShowMessageRequest.type,n).then(m)}showWarningMessage(e,...t){let n={type:r.MessageType.Warning,message:e,actions:t};return this.connection.sendRequest(r.ShowMessageRequest.type,n).then(m)}showInformationMessage(e,...t){let n={type:r.MessageType.Info,message:e,actions:t};return this.connection.sendRequest(r.ShowMessageRequest.type,n).then(m)}}));!function(e){e.create=function(){return new _}}(t.BulkRegistration||(t.BulkRegistration={}));class _{constructor(){this._registrations=[],this._registered=new Set}add(e,t){const n=i.string(e)?e:e.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);const r=o.generateUuid();this._registrations.push({id:r,method:n,registerOptions:t||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}}!function(e){e.create=function(){return new v(void 0,[])}}(t.BulkUnregistration||(t.BulkUnregistration={}));class v{constructor(e,t){this._connection=e,this._unregistrations=new Map,t.forEach((e=>{this._unregistrations.set(e.method,e)}))}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let t of this._unregistrations.values())e.push(t);let t={unregisterations:e};this._connection.sendRequest(r.UnregistrationRequest.type,t).then(void 0,(e=>{this._connection.console.info("Bulk unregistration failed.")}))}disposeSingle(e){const t=i.string(e)?e:e.method,n=this._unregistrations.get(t);if(!n)return!1;let o={unregisterations:[n]};return this._connection.sendRequest(r.UnregistrationRequest.type,o).then((()=>{this._unregistrations.delete(t)}),(e=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)})),!0}}class b{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,t,n){return e instanceof _?this.registerMany(e):e instanceof v?this.registerSingle1(e,t,n):this.registerSingle2(e,t)}registerSingle1(e,t,n){const a=i.string(t)?t:t.method,s=o.generateUuid();let c={registrations:[{id:s,method:a,registerOptions:n||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(r.RegistrationRequest.type,c).then((t=>(e.add({id:s,method:a}),e)),(e=>(this.connection.console.info(`Registering request handler for ${a} failed.`),Promise.reject(e))))}registerSingle2(e,t){const n=i.string(e)?e:e.method,a=o.generateUuid();let s={registrations:[{id:a,method:n,registerOptions:t||{}}]};return this.connection.sendRequest(r.RegistrationRequest.type,s).then((e=>r.Disposable.create((()=>{this.unregisterSingle(a,n)}))),(e=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(e))))}unregisterSingle(e,t){let n={unregisterations:[{id:e,method:t}]};return this.connection.sendRequest(r.UnregistrationRequest.type,n).then(void 0,(t=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)}))}registerMany(e){let t=e.asRegistrationParams();return this.connection.sendRequest(r.RegistrationRequest.type,t).then((()=>new v(this._connection,t.registrations.map((e=>({id:e.id,method:e.method}))))),(e=>(this.connection.console.info("Bulk registration failed."),Promise.reject(e))))}}const E=f.FileOperationsFeature(c.WorkspaceFoldersFeature(s.ConfigurationFeature(class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){let t=(n=e)&&n.edit?e:{edit:e};var n;return this.connection.sendRequest(r.ApplyWorkspaceEditRequest.type,t)}})));class T{constructor(){this._trace=r.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,t){this._trace!==r.Trace.Off&&this.connection.sendNotification(r.LogTraceNotification.type,{message:e,verbose:this._trace===r.Trace.Verbose?t:void 0})}}class w{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(r.TelemetryEventNotification.type,e)}}class S{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return a.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,t){return a.attachPartialResult(this.connection,t)}}t._LanguagesImpl=S;const P=h.MonikerFeature(p.LinkedEditingRangeFeature(l.SemanticTokensFeature(u.CallHierarchyFeature(S))));function R(e,t){return function(n){return t(e(n))}}function D(e,t){return function(n){return t(e(n))}}function C(e,t){return function(n){return t(e(n))}}function x(e,t){return function(n){return t(e(n))}}function N(e,t){return function(n){return t(e(n))}}function A(e,t){return function(n){return t(e(n))}}t.combineConsoleFeatures=R,t.combineTelemetryFeatures=D,t.combineTracerFeatures=C,t.combineClientFeatures=x,t.combineWindowFeatures=N,t.combineWorkspaceFeatures=A,t.combineLanguagesFeatures=function(e,t){return function(n){return t(e(n))}},t.combineFeatures=function(e,t){function n(e,t,n){return e&&t?n(e,t):e||t}return{__brand:"features",console:n(e.console,t.console,R),tracer:n(e.tracer,t.tracer,C),telemetry:n(e.telemetry,t.telemetry,D),client:n(e.client,t.client,x),window:n(e.window,t.window,N),workspace:n(e.workspace,t.workspace,A)}},t.createConnection=function(e,t,n){const o=n&&n.console?new(n.console(g)):new g,s=e(o);o.rawAttach(s);const c=n&&n.tracer?new(n.tracer(T)):new T,u=n&&n.telemetry?new(n.telemetry(w)):new w,l=n&&n.client?new(n.client(b)):new b,d=n&&n.window?new(n.window(y)):new y,f=n&&n.workspace?new(n.workspace(E)):new E,p=n&&n.languages?new(n.languages(P)):new P,h=[o,c,u,l,d,f,p];function m(e){return e instanceof Promise?e:i.thenable(e)?new Promise(((t,n)=>{e.then((e=>t(e)),(e=>n(e)))})):Promise.resolve(e)}let _,v,S,R={listen:()=>s.listen(),sendRequest:(e,...t)=>s.sendRequest(i.string(e)?e:e.method,...t),onRequest:(e,t)=>s.onRequest(e,t),sendNotification:(e,t)=>{const n=i.string(e)?e:e.method;1===arguments.length?s.sendNotification(n):s.sendNotification(n,t)},onNotification:(e,t)=>s.onNotification(e,t),onProgress:s.onProgress,sendProgress:s.sendProgress,onInitialize:e=>v=e,onInitialized:e=>s.onNotification(r.InitializedNotification.type,e),onShutdown:e=>_=e,onExit:e=>S=e,get console(){return o},get telemetry(){return u},get tracer(){return c},get client(){return l},get window(){return d},get workspace(){return f},get languages(){return p},onDidChangeConfiguration:e=>s.onNotification(r.DidChangeConfigurationNotification.type,e),onDidChangeWatchedFiles:e=>s.onNotification(r.DidChangeWatchedFilesNotification.type,e),__textDocumentSync:void 0,onDidOpenTextDocument:e=>s.onNotification(r.DidOpenTextDocumentNotification.type,e),onDidChangeTextDocument:e=>s.onNotification(r.DidChangeTextDocumentNotification.type,e),onDidCloseTextDocument:e=>s.onNotification(r.DidCloseTextDocumentNotification.type,e),onWillSaveTextDocument:e=>s.onNotification(r.WillSaveTextDocumentNotification.type,e),onWillSaveTextDocumentWaitUntil:e=>s.onRequest(r.WillSaveTextDocumentWaitUntilRequest.type,e),onDidSaveTextDocument:e=>s.onNotification(r.DidSaveTextDocumentNotification.type,e),sendDiagnostics:e=>s.sendNotification(r.PublishDiagnosticsNotification.type,e),onHover:e=>s.onRequest(r.HoverRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),void 0))),onCompletion:e=>s.onRequest(r.CompletionRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onCompletionResolve:e=>s.onRequest(r.CompletionResolveRequest.type,e),onSignatureHelp:e=>s.onRequest(r.SignatureHelpRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),void 0))),onDeclaration:e=>s.onRequest(r.DeclarationRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onDefinition:e=>s.onRequest(r.DefinitionRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onTypeDefinition:e=>s.onRequest(r.TypeDefinitionRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onImplementation:e=>s.onRequest(r.ImplementationRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onReferences:e=>s.onRequest(r.ReferencesRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onDocumentHighlight:e=>s.onRequest(r.DocumentHighlightRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onDocumentSymbol:e=>s.onRequest(r.DocumentSymbolRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onWorkspaceSymbol:e=>s.onRequest(r.WorkspaceSymbolRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onCodeAction:e=>s.onRequest(r.CodeActionRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onCodeActionResolve:e=>s.onRequest(r.CodeActionResolveRequest.type,((t,n)=>e(t,n))),onCodeLens:e=>s.onRequest(r.CodeLensRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onCodeLensResolve:e=>s.onRequest(r.CodeLensResolveRequest.type,((t,n)=>e(t,n))),onDocumentFormatting:e=>s.onRequest(r.DocumentFormattingRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),void 0))),onDocumentRangeFormatting:e=>s.onRequest(r.DocumentRangeFormattingRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),void 0))),onDocumentOnTypeFormatting:e=>s.onRequest(r.DocumentOnTypeFormattingRequest.type,((t,n)=>e(t,n))),onRenameRequest:e=>s.onRequest(r.RenameRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),void 0))),onPrepareRename:e=>s.onRequest(r.PrepareRenameRequest.type,((t,n)=>e(t,n))),onDocumentLinks:e=>s.onRequest(r.DocumentLinkRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onDocumentLinkResolve:e=>s.onRequest(r.DocumentLinkResolveRequest.type,((t,n)=>e(t,n))),onDocumentColor:e=>s.onRequest(r.DocumentColorRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onColorPresentation:e=>s.onRequest(r.ColorPresentationRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onFoldingRanges:e=>s.onRequest(r.FoldingRangeRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onSelectionRanges:e=>s.onRequest(r.SelectionRangeRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),a.attachPartialResult(s,t)))),onExecuteCommand:e=>s.onRequest(r.ExecuteCommandRequest.type,((t,n)=>e(t,n,a.attachWorkDone(s,t),void 0))),dispose:()=>s.dispose()};for(let e of h)e.attach(R);return s.onRequest(r.InitializeRequest.type,(e=>{t.initialize(e),i.string(e.trace)&&(c.trace=r.Trace.fromString(e.trace));for(let t of h)t.initialize(e.capabilities);if(v){return m(v(e,(new r.CancellationTokenSource).token,a.attachWorkDone(s,e),void 0)).then((e=>{if(e instanceof r.ResponseError)return e;let t=e;t||(t={capabilities:{}});let n=t.capabilities;n||(n={},t.capabilities=n),void 0===n.textDocumentSync||null===n.textDocumentSync?n.textDocumentSync=i.number(R.__textDocumentSync)?R.__textDocumentSync:r.TextDocumentSyncKind.None:i.number(n.textDocumentSync)||i.number(n.textDocumentSync.change)||(n.textDocumentSync.change=i.number(R.__textDocumentSync)?R.__textDocumentSync:r.TextDocumentSyncKind.None);for(let e of h)e.fillServerCapabilities(n);return t}))}{let e={capabilities:{textDocumentSync:r.TextDocumentSyncKind.None}};for(let t of h)t.fillServerCapabilities(e.capabilities);return e}})),s.onRequest(r.ShutdownRequest.type,(()=>(t.shutdownReceived=!0,_?_((new r.CancellationTokenSource).token):void 0))),s.onNotification(r.ExitNotification.type,(()=>{try{S&&S()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}})),s.onNotification(r.SetTraceNotification.type,(e=>{c.trace=r.Trace.fromString(e.value)})),R}},9283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentFeature=void 0;const r=n(7745);t.ShowDocumentFeature=e=>class extends e{showDocument(e){return this.connection.sendRequest(r.ShowDocumentRequest.type,e)}}},6960:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return"function"==typeof e}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.thenable=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=r,t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&r(e.then)}},7867:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.parse=t.isUUID=t.v4=t.empty=void 0;class n{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class r extends n{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}}function i(){return new r}r._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],r._timeHighBits=["8","9","a","b"],t.empty=new n("00000000-0000-0000-0000-000000000000"),t.v4=i;const o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function a(e){return o.test(e)}t.isUUID=a,t.parse=function(e){if(!a(e))throw new Error("invalid uuid");return new n(e)},t.generateUuid=function(){return i().asHex()}},518:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFoldersFeature=void 0;const r=n(7745);t.WorkspaceFoldersFeature=e=>class extends e{initialize(e){let t=e.workspace;t&&t.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new r.Emitter,this.connection.onNotification(r.DidChangeWorkspaceFoldersNotification.type,(e=>{this._onDidChangeWorkspaceFolders.fire(e.event)})))}getWorkspaceFolders(){return this.connection.sendRequest(r.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(r.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}},1507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveModulePath=t.FileSystem=t.resolveGlobalYarnPath=t.resolveGlobalNodePath=t.resolve=t.uriToFilePath=void 0;const r=n(7310),i=n(1017),o=n(7147),a=n(2081);function s(){return"win32"===process.platform}function c(e,t,n,r){const s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise(((c,u)=>{let l=process.env,d=Object.create(null);Object.keys(l).forEach((e=>d[e]=l[e])),t&&o.existsSync(t)&&(d.NODE_PATH?d.NODE_PATH=t+i.delimiter+d.NODE_PATH:d.NODE_PATH=t,r&&r(`NODE_PATH value is: ${d.NODE_PATH}`)),d.ELECTRON_RUN_AS_NODE="1";try{let t=a.fork("",[],{cwd:n,env:d,execArgv:["-e",s]});if(void 0===t.pid)return void u(new Error(`Starting process to resolve node module  ${e} failed`));t.on("error",(e=>{u(e)})),t.on("message",(n=>{"r"===n.c&&(t.send({c:"e"}),n.s?c(n.r):u(new Error(`Failed to resolve module: ${e}`)))}));let r={c:"rs",a:e};t.send(r)}catch(e){u(e)}}))}function u(e){let t="npm";const n=Object.create(null);Object.keys(process.env).forEach((e=>n[e]=process.env[e])),n.NO_UPDATE_NOTIFIER="true";const r={encoding:"utf8",env:n};s()&&(t="npm.cmd",r.shell=!0);let o=()=>{};try{process.on("SIGPIPE",o);let n=a.spawnSync(t,["config","get","prefix"],r).stdout;if(!n)return void(e&&e("'npm config get prefix' didn't return a value."));let c=n.trim();return e&&e(`'npm config get prefix' value is: ${c}`),c.length>0?s()?i.join(c,"node_modules"):i.join(c,"lib","node_modules"):void 0}catch(e){return}finally{process.removeListener("SIGPIPE",o)}}var l;t.uriToFilePath=function(e){let t=r.parse(e);if("file:"!==t.protocol||!t.path)return;let n=t.path.split("/");for(var o=0,a=n.length;o<a;o++)n[o]=decodeURIComponent(n[o]);if("win32"===process.platform&&n.length>1){let e=n[0],t=n[1];0===e.length&&t.length>1&&":"===t[1]&&n.shift()}return i.normalize(n.join("/"))},t.resolve=c,t.resolveGlobalNodePath=u,t.resolveGlobalYarnPath=function(e){let t="yarn",n={encoding:"utf8"};s()&&(t="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let o=a.spawnSync(t,["global","dir","--json"],n),s=o.stdout;if(!s)return void(e&&(e("'yarn global dir' didn't return a value."),o.stderr&&e(o.stderr)));let c=s.trim().split(/\r?\n/);for(let e of c)try{let t=JSON.parse(e);if("log"===t.type)return i.join(t.data,"node_modules")}catch(e){}return}catch(e){return}finally{process.removeListener("SIGPIPE",r)}},function(e){let t;function n(){return void 0!==t||(t="win32"!==process.platform&&(!o.existsSync(__filename.toUpperCase())||!o.existsSync(__filename.toLowerCase()))),t}e.isCaseSensitive=n,e.isParent=function(e,t){return n()?0===i.normalize(t).indexOf(i.normalize(e)):0===i.normalize(t).toLowerCase().indexOf(i.normalize(e).toLowerCase())}}(l=t.FileSystem||(t.FileSystem={})),t.resolveModulePath=function(e,t,n,r){return n?(i.isAbsolute(n)||(n=i.join(e,n)),c(t,n,n,r).then((e=>l.isParent(n,e)?e:Promise.reject(new Error(`Failed to load ${t} from node path location.`)))).then(void 0,(n=>c(t,u(r),e,r)))):c(t,u(r),e,r)}},2374:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createConnection=t.Files=void 0;const o=n(6960),a=n(6717),s=n(1507),c=n(4057);i(n(4057),t),i(n(9936),t),function(e){e.uriToFilePath=s.uriToFilePath,e.resolveGlobalNodePath=s.resolveGlobalNodePath,e.resolveGlobalYarnPath=s.resolveGlobalYarnPath,e.resolve=s.resolve,e.resolveModulePath=s.resolveModulePath}(t.Files||(t.Files={}));let u,l=!1;!function(){const e="--clientProcessId";function t(e){try{let t=parseInt(e);isNaN(t)||(u=setInterval((()=>{try{process.kill(t,0)}catch(e){process.exit(l?0:1)}}),3e3))}catch(e){}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===e&&n+1<process.argv.length)return void t(process.argv[n+1]);{let n=r.split("=");n[0]===e&&t(n[1])}}}();const d={initialize:e=>{const t=e.processId;o.number(t)&&void 0===u&&setInterval((()=>{try{process.kill(t,0)}catch(e){process.exit(l?0:1)}}),3e3)},get shutdownReceived(){return l},set shutdownReceived(e){l=e},exit:e=>{process.exit(e)}};t.createConnection=function(e,t,n,r){let i,s,u,f;return void 0!==e&&"features"===e.__brand&&(i=e,e=t,t=n,n=r),c.ConnectionStrategy.is(e)||c.ConnectionOptions.is(e)?f=e:(s=e,u=t,f=n),function(e,t,n,r){if(!e&&!t&&process.argv.length>2){let n,r,o=process.argv.slice(2);for(let a=0;a<o.length;a++){let s=o[a];if("--node-ipc"===s){e=new c.IPCMessageReader(process),t=new c.IPCMessageWriter(process);break}if("--stdio"===s){e=process.stdin,t=process.stdout;break}if("--socket"===s){n=parseInt(o[a+1]);break}if("--pipe"===s){r=o[a+1];break}var i=s.split("=");if("--socket"===i[0]){n=parseInt(i[1]);break}if("--pipe"===i[0]){r=i[1];break}}if(n){let r=c.createServerSocketTransport(n);e=r[0],t=r[1]}else if(r){let n=c.createServerPipeTransport(r);e=n[0],t=n[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+s);if(!t)throw new Error("Connection output stream is not set. "+s);if(o.func(e.read)&&o.func(e.on)){let t=e;t.on("end",(()=>{process.exit(l?0:1)})),t.on("close",(()=>{process.exit(l?0:1)}))}const u=r=>c.createProtocolConnection(e,t,r,n);return a.createConnection(u,d,r)}(s,u,f,i)}},433:(e,t,n)=>{"use strict";e.exports=n(2374)},6630:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{URI:()=>i,Utils:()=>o}),r=(()=>{var e={470:e=>{function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,o=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",i=0):i=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),o=s,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=s,a=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,s):r=e.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a;o>=0?a=arguments[o]:(void 0===e&&(e=process.cwd()),a=e),t(a),0!==a.length&&(r=a+"/"+r,i=47===a.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,a=o-i,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var c=n.length-s,u=a<c?a:c,l=-1,d=0;d<=u;++d){if(d===u){if(c>u){if(47===n.charCodeAt(s+d))return n.slice(s+d+1);if(0===d)return n.slice(s+d)}else a>u&&(47===e.charCodeAt(i+d)?l=d:0===d&&(l=0));break}var f=e.charCodeAt(i+d);if(f!==n.charCodeAt(s+d))break;47===f&&(l=d)}var p="";for(d=i+l+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===p.length?p+="..":p+="/..");return p.length>0?p+n.slice(s+l):(s+=l,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(n=e.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,o=-1,a=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var s=n.length-1,c=-1;for(r=e.length-1;r>=0;--r){var u=e.charCodeAt(r);if(47===u){if(!a){i=r+1;break}}else-1===c&&(a=!1,c=r+1),s>=0&&(u===n.charCodeAt(s)?-1==--s&&(o=r):(s=-1,o=c))}return i===o?o=c:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!a){i=r+1;break}}else-1===o&&(a=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,o=!0,a=0,s=e.length-1;s>=0;--s){var c=e.charCodeAt(s);if(47!==c)-1===i&&(o=!1,i=s+1),46===c?-1===n?n=s:1!==a&&(a=1):-1!==n&&(a=-1);else if(!o){r=s+1;break}}return-1===n||-1===i||0===a||1===a&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var a=-1,s=0,c=-1,u=!0,l=e.length-1,d=0;l>=r;--l)if(47!==(i=e.charCodeAt(l)))-1===c&&(u=!1,c=l+1),46===i?-1===a?a=l:1!==d&&(d=1):-1!==a&&(d=-1);else if(!u){s=l+1;break}return-1===a||-1===c||0===d||1===d&&a===c-1&&a===s+1?-1!==c&&(n.base=n.name=0===s&&o?e.slice(1,c):e.slice(s,c)):(0===s&&o?(n.name=e.slice(1,a),n.base=e.slice(1,c)):(n.name=e.slice(s,a),n.base=e.slice(s,c)),n.ext=e.slice(a,c)),s>0?n.dir=e.slice(0,s-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},447:(e,t,n)=>{var r;if(n.r(t),n.d(t,{URI:()=>m,Utils:()=>R}),"object"==typeof process)r="win32"===process.platform;else if("object"==typeof navigator){var i=navigator.userAgent;r=i.indexOf("Windows")>=0}var o,a,s=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=/^\w[\w\d+.-]*$/,u=/^\//,l=/^\/\//;function d(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(e.authority,'", path: "').concat(e.path,'", query: "').concat(e.query,'", fragment: "').concat(e.fragment,'"}'));if(e.scheme&&!c.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!u.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}var f="",p="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,m=function(){function e(e,t,n,r,i,o){void 0===o&&(o=!1),"object"==typeof e?(this.scheme=e.scheme||f,this.authority=e.authority||f,this.path=e.path||f,this.query=e.query||f,this.fragment=e.fragment||f):(this.scheme=function(e,t){return e||t?e:"file"}(e,o),this.authority=t||f,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==p&&(t=p+t):t=p}return t}(this.scheme,n||f),this.query=r||f,this.fragment=i||f,d(this,o))}return e.isUri=function(t){return t instanceof e||!!t&&"string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme&&"string"==typeof t.fsPath&&"function"==typeof t.with&&"function"==typeof t.toString},Object.defineProperty(e.prototype,"fsPath",{get:function(){return E(this,!1)},enumerable:!1,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,r=e.path,i=e.query,o=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=f),void 0===n?n=this.authority:null===n&&(n=f),void 0===r?r=this.path:null===r&&(r=f),void 0===i?i=this.query:null===i&&(i=f),void 0===o?o=this.fragment:null===o&&(o=f),t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&o===this.fragment?this:new y(t,n,r,i,o)},e.parse=function(e,t){void 0===t&&(t=!1);var n=h.exec(e);return n?new y(n[2]||f,P(n[4]||f),P(n[5]||f),P(n[7]||f),P(n[9]||f),t):new y(f,f,f,f,f)},e.file=function(e){var t=f;if(r&&(e=e.replace(/\\/g,p)),e[0]===p&&e[1]===p){var n=e.indexOf(p,2);-1===n?(t=e.substring(2),e=p):(t=e.substring(2,n),e=e.substring(n)||p)}return new y("file",t,e,f,f)},e.from=function(e){var t=new y(e.scheme,e.authority,e.path,e.query,e.fragment);return d(t,!0),t},e.prototype.toString=function(e){return void 0===e&&(e=!1),T(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var n=new y(t);return n._formatted=t.external,n._fsPath=t._sep===g?t.fsPath:null,n}return t},e}(),g=r?1:void 0,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return s(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=E(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?T(this,!0):(this._formatted||(this._formatted=T(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=g),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(m),_=((a={})[58]="%3A",a[47]="%2F",a[63]="%3F",a[35]="%23",a[91]="%5B",a[93]="%5D",a[64]="%40",a[33]="%21",a[36]="%24",a[38]="%26",a[39]="%27",a[40]="%28",a[41]="%29",a[42]="%2A",a[43]="%2B",a[44]="%2C",a[59]="%3B",a[61]="%3D",a[32]="%20",a);function v(e,t){for(var n=void 0,r=-1,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o)-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),void 0!==n&&(n+=e.charAt(i));else{void 0===n&&(n=e.substr(0,i));var a=_[o];void 0!==a?(-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),n+=a):-1===r&&(r=i)}}return-1!==r&&(n+=encodeURIComponent(e.substring(r))),void 0!==n?n:e}function b(e){for(var t=void 0,n=0;n<e.length;n++){var r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=_[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function E(e,t){var n;return n=e.authority&&e.path.length>1&&"file"===e.scheme?"//".concat(e.authority).concat(e.path):47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,r&&(n=n.replace(/\//g,"\\")),n}function T(e,t){var n=t?b:v,r="",i=e.scheme,o=e.authority,a=e.path,s=e.query,c=e.fragment;if(i&&(r+=i,r+=":"),(o||"file"===i)&&(r+=p,r+=p),o){var u=o.indexOf("@");if(-1!==u){var l=o.substr(0,u);o=o.substr(u+1),-1===(u=l.indexOf(":"))?r+=n(l,!1):(r+=n(l.substr(0,u),!1),r+=":",r+=n(l.substr(u+1),!1)),r+="@"}-1===(u=(o=o.toLowerCase()).indexOf(":"))?r+=n(o,!1):(r+=n(o.substr(0,u),!1),r+=o.substr(u))}if(a){if(a.length>=3&&47===a.charCodeAt(0)&&58===a.charCodeAt(2))(d=a.charCodeAt(1))>=65&&d<=90&&(a="/".concat(String.fromCharCode(d+32),":").concat(a.substr(3)));else if(a.length>=2&&58===a.charCodeAt(1)){var d;(d=a.charCodeAt(0))>=65&&d<=90&&(a="".concat(String.fromCharCode(d+32),":").concat(a.substr(2)))}r+=n(a,!0)}return s&&(r+="?",r+=n(s,!1)),c&&(r+="#",r+=t?c:v(c,!1)),r}function w(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+w(e.substr(3)):e}}var S=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function P(e){return e.match(S)?e.replace(S,(function(e){return w(e)})):e}var R,D=n(470),C=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},x=D.posix||D;!function(e){e.joinPath=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.with({path:x.join.apply(x,C([e.path],t,!1))})},e.resolvePath=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e.path||"/";return e.with({path:x.resolve.apply(x,C([r],t,!1))})},e.dirname=function(e){var t=x.dirname(e.path);return 1===t.length&&46===t.charCodeAt(0)?e:e.with({path:t})},e.basename=function(e){return x.basename(e.path)},e.extname=function(e){return x.extname(e.path)}}(R||(R={}))}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(447)})();const{URI:i,Utils:o}=r},7908:(e,t,n)=>{var r=void 0!==r?r:{},i=function(){var t,i="object"==typeof window?{currentScript:window.document.currentScript}:null;class o{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(a){return t||(r=Object.assign({},r,a),t=new Promise((t=>{var a,s={};for(a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);var c,u,l,d,f=[],p="./this.program",h=function(e,t){throw t};l="object"==typeof window,d="function"==typeof importScripts,c="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,u=!l&&!c&&!d;var m,g,y,_,v,b="";c?(b=d?n(1017).dirname(b)+"/":__dirname+"/",m=function(e,t){return _||(_=n(7147)),v||(v=n(1017)),e=v.normalize(e),_.readFileSync(e,t?null:"utf8")},y=function(e){var t=m(e,!0);return t.buffer||(t=new Uint8Array(t)),O(t.buffer),t},process.argv.length>1&&(p=process.argv[1].replace(/\\/g,"/")),f=process.argv.slice(2),e.exports=r,h=function(e){process.exit(e)},r.inspect=function(){return"[Emscripten Module object]"}):u?("undefined"!=typeof read&&(m=function(e){return read(e)}),y=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(O("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?f=scriptArgs:void 0!==arguments&&(f=arguments),"function"==typeof quit&&(h=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(l||d)&&(d?b=self.location.href:void 0!==i&&i.currentScript&&(b=i.currentScript.src),b=0!==b.indexOf("blob:")?b.substr(0,b.lastIndexOf("/")+1):"",m=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(y=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),g=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}),r.print||console.log.bind(console);var E=r.printErr||console.warn.bind(console);for(a in s)s.hasOwnProperty(a)&&(r[a]=s[a]);s=null,r.arguments&&(f=r.arguments),r.thisProgram&&(p=r.thisProgram),r.quit&&(h=r.quit);var T,w=[];function S(e,t){if(!T){T=new WeakMap;for(var n=0;n<K.length;n++){var r=K.get(n);r&&T.set(r,n)}}if(T.has(e))return T.get(e);var i=function(){if(w.length)return w.pop();try{K.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return K.length-1}();try{K.set(i,e)}catch(n){if(!(n instanceof TypeError))throw n;var o=function(e,t){if("function"==typeof WebAssembly.Function){for(var n={i:"i32",j:"i64",f:"f32",d:"f64"},r={parameters:[],results:"v"==t[0]?[]:[n[t[0]]]},i=1;i<t.length;++i)r.parameters.push(n[t[i]]);return new WebAssembly.Function(r,e)}var o=[1,0,1,96],a=t.slice(0,1),s=t.slice(1),c={i:127,j:126,f:125,d:124};for(o.push(s.length),i=0;i<s.length;++i)o.push(c[s[i]]);"v"==a?o.push(0):o=o.concat([1,c[a]]),o[1]=o.length-2;var u=new Uint8Array([0,97,115,109,1,0,0,0].concat(o,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),l=new WebAssembly.Module(u);return new WebAssembly.Instance(l,{e:{f:e}}).exports.f}(e,t);K.set(i,o)}return T.set(e,i),i}var P,R=r.dynamicLibraries||[];r.wasmBinary&&(P=r.wasmBinary);var D,C=r.noExitRuntime||!0;function x(e,t,n,r){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":k[e>>0]=t;break;case"i16":M[e>>1]=t;break;case"i32":j[e>>2]=t;break;case"i64":ue=[t>>>0,(ce=t,+Math.abs(ce)>=1?ce>0?(0|Math.min(+Math.floor(ce/4294967296),4294967295))>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)],j[e>>2]=ue[0],j[e+4>>2]=ue[1];break;case"float":B[e>>2]=t;break;case"double":L[e>>3]=t;break;default:ae("invalid type for setValue: "+n)}}function N(e,t,n){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return k[e>>0];case"i16":return M[e>>1];case"i32":case"i64":return j[e>>2];case"float":return B[e>>2];case"double":return L[e>>3];default:ae("invalid type for getValue: "+t)}return null}"object"!=typeof WebAssembly&&ae("no native wasm support detected");var A=!1;function O(e,t){e||ae("Assertion failed: "+t)}var I,k,F,M,j,B,L,q="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function U(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&q)return q.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|c:(7&a)<<18|s<<12|c<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function H(e,t){return e?U(F,e,t):""}function W(e,t,n,r){if(!(r>0))return 0;for(var i=n,o=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(n>=o)break;t[n++]=s}else if(s<=2047){if(n+1>=o)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=o)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=o)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function $(e,t,n){return W(e,F,t,n)}function Y(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}function z(e){var t=Y(e)+1,n=He(t);return W(e,k,n,t),n}function G(e){I=e,r.HEAP8=k=new Int8Array(e),r.HEAP16=M=new Int16Array(e),r.HEAP32=j=new Int32Array(e),r.HEAPU8=F=new Uint8Array(e),r.HEAPU16=new Uint16Array(e),r.HEAPU32=new Uint32Array(e),r.HEAPF32=B=new Float32Array(e),r.HEAPF64=L=new Float64Array(e)}var X=r.INITIAL_MEMORY||33554432;(D=r.wasmMemory?r.wasmMemory:new WebAssembly.Memory({initial:X/65536,maximum:32768}))&&(I=D.buffer),X=I.byteLength,G(I);var K=new WebAssembly.Table({initial:17,element:"anyfunc"}),V=[],Q=[],Z=[],J=[],ee=!1,te=0,ne=null,re=null;function ie(e){te++,r.monitorRunDependencies&&r.monitorRunDependencies(te)}function oe(e){if(te--,r.monitorRunDependencies&&r.monitorRunDependencies(te),0==te&&(null!==ne&&(clearInterval(ne),ne=null),re)){var t=re;re=null,t()}}function ae(e){throw r.onAbort&&r.onAbort(e),E(e+=""),A=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}r.preloadedImages={},r.preloadedAudios={},r.preloadedWasm={};var se,ce,ue;function le(e){return e.startsWith("data:application/octet-stream;base64,")}function de(e){return e.startsWith("file://")}function fe(e){try{if(e==se&&P)return new Uint8Array(P);if(y)return y(e);throw"both async and sync fetching of the wasm failed"}catch(e){ae(e)}}le(se="tree-sitter.wasm")||(se=function(e){return r.locateFile?r.locateFile(e,b):b+e}(se));var pe={},he={get:function(e,t){return pe[t]||(pe[t]=new WebAssembly.Global({value:"i32",mutable:!0})),pe[t]}};function me(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?K.get(n)():K.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(r)}}function ge(e){var t=0;function n(){for(var n=0,r=1;;){var i=e[t++];if(n+=(127&i)*r,r*=128,!(128&i))break}return n}if(e instanceof WebAssembly.Module){var r=WebAssembly.Module.customSections(e,"dylink");O(0!=r.length,"need dylink section"),e=new Int8Array(r[0])}else O(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0],"need to see wasm magic number"),O(0===e[8],"need the dylink section to be first"),t=9,n(),O(6===e[t]),O(e[++t]==="d".charCodeAt(0)),O(e[++t]==="y".charCodeAt(0)),O(e[++t]==="l".charCodeAt(0)),O(e[++t]==="i".charCodeAt(0)),O(e[++t]==="n".charCodeAt(0)),O(e[++t]==="k".charCodeAt(0)),t++;var i={};i.memorySize=n(),i.memoryAlign=n(),i.tableSize=n(),i.tableAlign=n();var o=n();i.neededDynlibs=[];for(var a=0;a<o;++a){var s=n(),c=e.subarray(t,t+s);t+=s;var u=U(c,0);i.neededDynlibs.push(u)}return i}function ye(){return C||!1}function _e(e){return 0==e.indexOf("dynCall_")||["stackAlloc","stackSave","stackRestore"].includes(e)?e:"_"+e}function ve(e,t){for(var n in e)if(e.hasOwnProperty(n)){je.hasOwnProperty(n)||(je[n]=e[n]);var i=_e(n);r.hasOwnProperty(i)||(r[i]=e[n])}}var be={nextHandle:1,loadedLibs:{},loadedLibNames:{}};function Ee(e,t,n){return e.includes("j")?function(e,t,n){var i=r["dynCall_"+e];return n&&n.length?i.apply(null,[t].concat(n)):i.call(null,t)}(e,t,n):K.get(t).apply(null,n)}var Te=5250880;function we(e){return["__cpp_exception","__wasm_apply_data_relocs","__dso_handle","__set_stack_limits"].includes(e)}function Se(e,t){var n={};for(var r in e){var i=e[r];"object"==typeof i&&(i=i.value),"number"==typeof i&&(i+=t),n[r]=i}return function(e){for(var t in e)if(!we(t)){var n=!1,r=e[t];t.startsWith("orig$")&&(t=t.split("$")[1],n=!0),pe[t]||(pe[t]=new WebAssembly.Global({value:"i32",mutable:!0})),(n||0==pe[t].value)&&("function"==typeof r?pe[t].value=S(r):"number"==typeof r?pe[t].value=r:E("unhandled export type for `"+t+"`: "+typeof r))}}(n),n}function Pe(e,t){var n,i;return t&&(n=je["orig$"+e]),n||(n=je[e]),n||(n=r[_e(e)]),!n&&e.startsWith("invoke_")&&(i=e.split("_")[1],n=function(){var e=qe();try{return Ee(i,arguments[0],Array.prototype.slice.call(arguments,1))}catch(t){if(Ue(e),t!==t+0&&"longjmp"!==t)throw t;We(1,0)}}),n}function Re(e,t){var n=ge(e);function r(){var r=Math.pow(2,n.memoryAlign);r=Math.max(r,16);var i,o,a,s=(i=function(e){if(ee)return Be(e);var t=Te,n=t+e+15&-16;return Te=n,pe.__heap_base.value=n,t}(n.memorySize+r),(o=r)||(o=16),Math.ceil(i/o)*o),c=K.length;K.grow(n.tableSize);for(var u=s;u<s+n.memorySize;u++)k[u]=0;for(u=c;u<c+n.tableSize;u++)K.set(u,null);var l=new Proxy({},{get:function(e,t){switch(t){case"__memory_base":return s;case"__table_base":return c}return t in je?je[t]:(t in e||(e[t]=function(){return n||(n=function(e){var t=Pe(e,!1);return t||(t=a[e]),t}(t)),n.apply(null,arguments)}),e[t]);var n}}),d={"GOT.mem":new Proxy({},he),"GOT.func":new Proxy({},he),env:l,wasi_snapshot_preview1:l};function f(e){for(var r=0;r<n.tableSize;r++){var i=K.get(c+r);i&&T.set(i,c+r)}a=Se(e.exports,s),t.allowUndefined||Ce();var o=a.__wasm_call_ctors;return o||(o=a.__post_instantiate),o&&(ee?o():Q.push(o)),a}if(t.loadAsync){if(e instanceof WebAssembly.Module){var p=new WebAssembly.Instance(e,d);return Promise.resolve(f(p))}return WebAssembly.instantiate(e,d).then((function(e){return f(e.instance)}))}var h=e instanceof WebAssembly.Module?e:new WebAssembly.Module(e);return f(p=new WebAssembly.Instance(h,d))}return t.loadAsync?n.neededDynlibs.reduce((function(e,n){return e.then((function(){return De(n,t)}))}),Promise.resolve()).then((function(){return r()})):(n.neededDynlibs.forEach((function(e){De(e,t)})),r())}function De(e,t){"__main__"!=e||be.loadedLibNames[e]||(be.loadedLibs[-1]={refcount:1/0,name:"__main__",module:r.asm,global:!0},be.loadedLibNames.__main__=-1),t=t||{global:!0,nodelete:!0};var n,i=be.loadedLibNames[e];if(i)return n=be.loadedLibs[i],t.global&&!n.global&&(n.global=!0,"loading"!==n.module&&ve(n.module)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,t.loadAsync?Promise.resolve(i):i;function o(e){if(t.fs){var n=t.fs.readFile(e,{encoding:"binary"});return n instanceof Uint8Array||(n=new Uint8Array(n)),t.loadAsync?Promise.resolve(n):n}return t.loadAsync?(r=e,fetch(r,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load binary file at '"+r+"'";return e.arrayBuffer()})).then((function(e){return new Uint8Array(e)}))):y(e);var r}function a(){if(void 0!==r.preloadedWasm&&void 0!==r.preloadedWasm[e]){var n=r.preloadedWasm[e];return t.loadAsync?Promise.resolve(n):n}return t.loadAsync?o(e).then((function(e){return Re(e,t)})):Re(o(e),t)}function s(e){n.global&&ve(e),n.module=e}return i=be.nextHandle++,n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},be.loadedLibNames[e]=i,be.loadedLibs[i]=n,t.loadAsync?a().then((function(e){return s(e),i})):(s(a()),i)}function Ce(){for(var e in pe)if(0==pe[e].value){var t=Pe(e,!0);"function"==typeof t?pe[e].value=S(t,t.sig):"number"==typeof t?pe[e].value=t:O(!1,"bad export type for `"+e+"`: "+typeof t)}}r.___heap_base=Te;var xe,Ne=new WebAssembly.Global({value:"i32",mutable:!0},5250880);function Ae(){ae()}r._abort=Ae,Ae.sig="v",xe=c?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};function Oe(e,t){var n;if(0===e)n=Date.now();else{if(1!==e&&4!==e)return 28,j[Le()>>2]=28,-1;n=xe()}return j[t>>2]=n/1e3|0,j[t+4>>2]=n%1e3*1e3*1e3|0,0}function Ie(e){try{return D.grow(e-I.byteLength+65535>>>16),G(D.buffer),1}catch(e){}}function ke(e){Ge(e)}function Fe(e){}Oe.sig="iii",ke.sig="vi",Fe.sig="vi";var Me,je={__heap_base:Te,__indirect_function_table:K,__memory_base:1024,__stack_pointer:Ne,__table_base:1,abort:Ae,clock_gettime:Oe,emscripten_memcpy_big:function(e,t,n){F.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){var t,n=F.length;if((e>>>=0)>2147483648)return!1;for(var r=1;r<=4;r*=2){var i=n*(1+.2/r);if(i=Math.min(i,e+100663296),Ie(Math.min(2147483648,((t=Math.max(e,i))%65536>0&&(t+=65536-t%65536),t))))return!0}return!1},exit:ke,memory:D,setTempRet0:Fe,tree_sitter_log_callback:function(e,t){if(ot){const n=H(t);ot(n,0!==e)}},tree_sitter_parse_callback:function(e,t,n,r,i){var o=it(t,{row:n,column:r});"string"==typeof o?(x(i,o.length,"i32"),function(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=(n-=2)<2*e.length?n/2:e.length,i=0;i<r;++i){var o=e.charCodeAt(i);M[t>>1]=o,t+=2}M[t>>1]=0}(o,e,10240)):x(i,0,"i32")}},Be=(function(){var e={env:je,wasi_snapshot_preview1:je,"GOT.mem":new Proxy(je,he),"GOT.func":new Proxy(je,he)};function t(e,t){var n=e.exports;n=Se(n,1024),r.asm=n;var i,o=ge(t);o.neededDynlibs&&(R=o.neededDynlibs.concat(R)),ve(n),i=r.asm.__wasm_call_ctors,Q.unshift(i),oe()}function n(e){t(e.instance,e.module)}function i(t){return function(){if(!P&&(l||d)){if("function"==typeof fetch&&!de(se))return fetch(se,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+se+"'";return e.arrayBuffer()})).catch((function(){return fe(se)}));if(g)return new Promise((function(e,t){g(se,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return fe(se)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){E("failed to asynchronously prepare wasm: "+e),ae(e)}))}if(ie(),r.instantiateWasm)try{return r.instantiateWasm(e,t)}catch(e){return E("Module.instantiateWasm callback failed with error: "+e),!1}P||"function"!=typeof WebAssembly.instantiateStreaming||le(se)||de(se)||"function"!=typeof fetch?i(n):fetch(se,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return E("wasm streaming compile failed: "+e),E("falling back to ArrayBuffer instantiation"),i(n)}))}))}(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.__wasm_call_ctors).apply(null,arguments)},r._malloc=function(){return(Be=r._malloc=r.asm.malloc).apply(null,arguments)}),Le=(r._calloc=function(){return(r._calloc=r.asm.calloc).apply(null,arguments)},r._realloc=function(){return(r._realloc=r.asm.realloc).apply(null,arguments)},r._free=function(){return(r._free=r.asm.free).apply(null,arguments)},r._ts_language_symbol_count=function(){return(r._ts_language_symbol_count=r.asm.ts_language_symbol_count).apply(null,arguments)},r._ts_language_version=function(){return(r._ts_language_version=r.asm.ts_language_version).apply(null,arguments)},r._ts_language_field_count=function(){return(r._ts_language_field_count=r.asm.ts_language_field_count).apply(null,arguments)},r._ts_language_symbol_name=function(){return(r._ts_language_symbol_name=r.asm.ts_language_symbol_name).apply(null,arguments)},r._ts_language_symbol_for_name=function(){return(r._ts_language_symbol_for_name=r.asm.ts_language_symbol_for_name).apply(null,arguments)},r._ts_language_symbol_type=function(){return(r._ts_language_symbol_type=r.asm.ts_language_symbol_type).apply(null,arguments)},r._ts_language_field_name_for_id=function(){return(r._ts_language_field_name_for_id=r.asm.ts_language_field_name_for_id).apply(null,arguments)},r._memcpy=function(){return(r._memcpy=r.asm.memcpy).apply(null,arguments)},r._ts_parser_delete=function(){return(r._ts_parser_delete=r.asm.ts_parser_delete).apply(null,arguments)},r._ts_parser_reset=function(){return(r._ts_parser_reset=r.asm.ts_parser_reset).apply(null,arguments)},r._ts_parser_set_language=function(){return(r._ts_parser_set_language=r.asm.ts_parser_set_language).apply(null,arguments)},r._ts_parser_timeout_micros=function(){return(r._ts_parser_timeout_micros=r.asm.ts_parser_timeout_micros).apply(null,arguments)},r._ts_parser_set_timeout_micros=function(){return(r._ts_parser_set_timeout_micros=r.asm.ts_parser_set_timeout_micros).apply(null,arguments)},r._memmove=function(){return(r._memmove=r.asm.memmove).apply(null,arguments)},r._memcmp=function(){return(r._memcmp=r.asm.memcmp).apply(null,arguments)},r._ts_query_new=function(){return(r._ts_query_new=r.asm.ts_query_new).apply(null,arguments)},r._ts_query_delete=function(){return(r._ts_query_delete=r.asm.ts_query_delete).apply(null,arguments)},r._iswspace=function(){return(r._iswspace=r.asm.iswspace).apply(null,arguments)},r._iswalnum=function(){return(r._iswalnum=r.asm.iswalnum).apply(null,arguments)},r._ts_query_pattern_count=function(){return(r._ts_query_pattern_count=r.asm.ts_query_pattern_count).apply(null,arguments)},r._ts_query_capture_count=function(){return(r._ts_query_capture_count=r.asm.ts_query_capture_count).apply(null,arguments)},r._ts_query_string_count=function(){return(r._ts_query_string_count=r.asm.ts_query_string_count).apply(null,arguments)},r._ts_query_capture_name_for_id=function(){return(r._ts_query_capture_name_for_id=r.asm.ts_query_capture_name_for_id).apply(null,arguments)},r._ts_query_string_value_for_id=function(){return(r._ts_query_string_value_for_id=r.asm.ts_query_string_value_for_id).apply(null,arguments)},r._ts_query_predicates_for_pattern=function(){return(r._ts_query_predicates_for_pattern=r.asm.ts_query_predicates_for_pattern).apply(null,arguments)},r._ts_tree_copy=function(){return(r._ts_tree_copy=r.asm.ts_tree_copy).apply(null,arguments)},r._ts_tree_delete=function(){return(r._ts_tree_delete=r.asm.ts_tree_delete).apply(null,arguments)},r._ts_init=function(){return(r._ts_init=r.asm.ts_init).apply(null,arguments)},r._ts_parser_new_wasm=function(){return(r._ts_parser_new_wasm=r.asm.ts_parser_new_wasm).apply(null,arguments)},r._ts_parser_enable_logger_wasm=function(){return(r._ts_parser_enable_logger_wasm=r.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},r._ts_parser_parse_wasm=function(){return(r._ts_parser_parse_wasm=r.asm.ts_parser_parse_wasm).apply(null,arguments)},r._ts_language_type_is_named_wasm=function(){return(r._ts_language_type_is_named_wasm=r.asm.ts_language_type_is_named_wasm).apply(null,arguments)},r._ts_language_type_is_visible_wasm=function(){return(r._ts_language_type_is_visible_wasm=r.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},r._ts_tree_root_node_wasm=function(){return(r._ts_tree_root_node_wasm=r.asm.ts_tree_root_node_wasm).apply(null,arguments)},r._ts_tree_edit_wasm=function(){return(r._ts_tree_edit_wasm=r.asm.ts_tree_edit_wasm).apply(null,arguments)},r._ts_tree_get_changed_ranges_wasm=function(){return(r._ts_tree_get_changed_ranges_wasm=r.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},r._ts_tree_cursor_new_wasm=function(){return(r._ts_tree_cursor_new_wasm=r.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},r._ts_tree_cursor_delete_wasm=function(){return(r._ts_tree_cursor_delete_wasm=r.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},r._ts_tree_cursor_reset_wasm=function(){return(r._ts_tree_cursor_reset_wasm=r.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},r._ts_tree_cursor_goto_first_child_wasm=function(){return(r._ts_tree_cursor_goto_first_child_wasm=r.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},r._ts_tree_cursor_goto_next_sibling_wasm=function(){return(r._ts_tree_cursor_goto_next_sibling_wasm=r.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},r._ts_tree_cursor_goto_parent_wasm=function(){return(r._ts_tree_cursor_goto_parent_wasm=r.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},r._ts_tree_cursor_current_node_type_id_wasm=function(){return(r._ts_tree_cursor_current_node_type_id_wasm=r.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},r._ts_tree_cursor_current_node_is_named_wasm=function(){return(r._ts_tree_cursor_current_node_is_named_wasm=r.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},r._ts_tree_cursor_current_node_is_missing_wasm=function(){return(r._ts_tree_cursor_current_node_is_missing_wasm=r.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},r._ts_tree_cursor_current_node_id_wasm=function(){return(r._ts_tree_cursor_current_node_id_wasm=r.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},r._ts_tree_cursor_start_position_wasm=function(){return(r._ts_tree_cursor_start_position_wasm=r.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},r._ts_tree_cursor_end_position_wasm=function(){return(r._ts_tree_cursor_end_position_wasm=r.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},r._ts_tree_cursor_start_index_wasm=function(){return(r._ts_tree_cursor_start_index_wasm=r.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},r._ts_tree_cursor_end_index_wasm=function(){return(r._ts_tree_cursor_end_index_wasm=r.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},r._ts_tree_cursor_current_field_id_wasm=function(){return(r._ts_tree_cursor_current_field_id_wasm=r.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},r._ts_tree_cursor_current_node_wasm=function(){return(r._ts_tree_cursor_current_node_wasm=r.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},r._ts_node_symbol_wasm=function(){return(r._ts_node_symbol_wasm=r.asm.ts_node_symbol_wasm).apply(null,arguments)},r._ts_node_child_count_wasm=function(){return(r._ts_node_child_count_wasm=r.asm.ts_node_child_count_wasm).apply(null,arguments)},r._ts_node_named_child_count_wasm=function(){return(r._ts_node_named_child_count_wasm=r.asm.ts_node_named_child_count_wasm).apply(null,arguments)},r._ts_node_child_wasm=function(){return(r._ts_node_child_wasm=r.asm.ts_node_child_wasm).apply(null,arguments)},r._ts_node_named_child_wasm=function(){return(r._ts_node_named_child_wasm=r.asm.ts_node_named_child_wasm).apply(null,arguments)},r._ts_node_child_by_field_id_wasm=function(){return(r._ts_node_child_by_field_id_wasm=r.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},r._ts_node_next_sibling_wasm=function(){return(r._ts_node_next_sibling_wasm=r.asm.ts_node_next_sibling_wasm).apply(null,arguments)},r._ts_node_prev_sibling_wasm=function(){return(r._ts_node_prev_sibling_wasm=r.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},r._ts_node_next_named_sibling_wasm=function(){return(r._ts_node_next_named_sibling_wasm=r.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},r._ts_node_prev_named_sibling_wasm=function(){return(r._ts_node_prev_named_sibling_wasm=r.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},r._ts_node_parent_wasm=function(){return(r._ts_node_parent_wasm=r.asm.ts_node_parent_wasm).apply(null,arguments)},r._ts_node_descendant_for_index_wasm=function(){return(r._ts_node_descendant_for_index_wasm=r.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},r._ts_node_named_descendant_for_index_wasm=function(){return(r._ts_node_named_descendant_for_index_wasm=r.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},r._ts_node_descendant_for_position_wasm=function(){return(r._ts_node_descendant_for_position_wasm=r.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},r._ts_node_named_descendant_for_position_wasm=function(){return(r._ts_node_named_descendant_for_position_wasm=r.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},r._ts_node_start_point_wasm=function(){return(r._ts_node_start_point_wasm=r.asm.ts_node_start_point_wasm).apply(null,arguments)},r._ts_node_end_point_wasm=function(){return(r._ts_node_end_point_wasm=r.asm.ts_node_end_point_wasm).apply(null,arguments)},r._ts_node_start_index_wasm=function(){return(r._ts_node_start_index_wasm=r.asm.ts_node_start_index_wasm).apply(null,arguments)},r._ts_node_end_index_wasm=function(){return(r._ts_node_end_index_wasm=r.asm.ts_node_end_index_wasm).apply(null,arguments)},r._ts_node_to_string_wasm=function(){return(r._ts_node_to_string_wasm=r.asm.ts_node_to_string_wasm).apply(null,arguments)},r._ts_node_children_wasm=function(){return(r._ts_node_children_wasm=r.asm.ts_node_children_wasm).apply(null,arguments)},r._ts_node_named_children_wasm=function(){return(r._ts_node_named_children_wasm=r.asm.ts_node_named_children_wasm).apply(null,arguments)},r._ts_node_descendants_of_type_wasm=function(){return(r._ts_node_descendants_of_type_wasm=r.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},r._ts_node_is_named_wasm=function(){return(r._ts_node_is_named_wasm=r.asm.ts_node_is_named_wasm).apply(null,arguments)},r._ts_node_has_changes_wasm=function(){return(r._ts_node_has_changes_wasm=r.asm.ts_node_has_changes_wasm).apply(null,arguments)},r._ts_node_has_error_wasm=function(){return(r._ts_node_has_error_wasm=r.asm.ts_node_has_error_wasm).apply(null,arguments)},r._ts_node_is_missing_wasm=function(){return(r._ts_node_is_missing_wasm=r.asm.ts_node_is_missing_wasm).apply(null,arguments)},r._ts_query_matches_wasm=function(){return(r._ts_query_matches_wasm=r.asm.ts_query_matches_wasm).apply(null,arguments)},r._ts_query_captures_wasm=function(){return(r._ts_query_captures_wasm=r.asm.ts_query_captures_wasm).apply(null,arguments)},r._iswdigit=function(){return(r._iswdigit=r.asm.iswdigit).apply(null,arguments)},r._iswalpha=function(){return(r._iswalpha=r.asm.iswalpha).apply(null,arguments)},r._iswlower=function(){return(r._iswlower=r.asm.iswlower).apply(null,arguments)},r._towupper=function(){return(r._towupper=r.asm.towupper).apply(null,arguments)},r.___errno_location=function(){return(Le=r.___errno_location=r.asm.__errno_location).apply(null,arguments)}),qe=(r._memchr=function(){return(r._memchr=r.asm.memchr).apply(null,arguments)},r._strlen=function(){return(r._strlen=r.asm.strlen).apply(null,arguments)},r.stackSave=function(){return(qe=r.stackSave=r.asm.stackSave).apply(null,arguments)}),Ue=r.stackRestore=function(){return(Ue=r.stackRestore=r.asm.stackRestore).apply(null,arguments)},He=r.stackAlloc=function(){return(He=r.stackAlloc=r.asm.stackAlloc).apply(null,arguments)},We=r._setThrew=function(){return(We=r._setThrew=r.asm.setThrew).apply(null,arguments)};function $e(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=r.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=r.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=r.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=r.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},r.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(r.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=r.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=r.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},r.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(r.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=r.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},r.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(r.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=r.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},r.__Znwm=function(){return(r.__Znwm=r.asm._Znwm).apply(null,arguments)},r.__ZdlPv=function(){return(r.__ZdlPv=r.asm._ZdlPv).apply(null,arguments)},r.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=function(){return(r.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=r.asm._ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv).apply(null,arguments)},r._orig$ts_parser_timeout_micros=function(){return(r._orig$ts_parser_timeout_micros=r.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},r._orig$ts_parser_set_timeout_micros=function(){return(r._orig$ts_parser_set_timeout_micros=r.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},r.allocate=function(e,t){var n;return n=1==t?He(e.length):Be(e.length),e.subarray||e.slice?F.set(e,n):F.set(new Uint8Array(e),n),n},re=function e(){Me||ze(),Me||(re=e)};var Ye=!1;function ze(e){function t(){Me||(Me=!0,r.calledRun=!0,A||(ee=!0,me(Q),me(Z),r.onRuntimeInitialized&&r.onRuntimeInitialized(),Xe&&function(e){var t=r._main;if(t){var n=(e=e||[]).length+1,i=He(4*(n+1));j[i>>2]=z(p);for(var o=1;o<n;o++)j[(i>>2)+o]=z(e[o-1]);j[(i>>2)+n]=0;try{Ge(t(n,i),!0)}catch(e){if(e instanceof $e)return;if("unwind"==e)return;var a=e;e&&"object"==typeof e&&e.stack&&(a=[e,e.stack]),E("exception thrown: "+a),h(1,e)}}}(e),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)e=r.postRun.shift(),J.unshift(e);var e;me(J)}()))}e=e||f,te>0||!Ye&&(function(){if(R.length){if(!y)return ie(),void R.reduce((function(e,t){return e.then((function(){return De(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})}))}),Promise.resolve()).then((function(){oe(),Ce()}));R.forEach((function(e){De(e,{global:!0,nodelete:!0,allowUndefined:!0})})),Ce()}else Ce()}(),Ye=!0,te>0)||(function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)e=r.preRun.shift(),V.unshift(e);var e;me(V)}(),te>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),t()}),1)):t()))}function Ge(e,t){t&&ye()&&0===e||(ye()||(r.onExit&&r.onExit(e),A=!0),h(e,new $e(e)))}if(r.run=ze,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();var Xe=!0;r.noInitialRun&&(Xe=!1),ze();const Ke=r,Ve={},Qe=20,Ze={row:0,column:0},Je=/[\w-.]*/g,et=/^_?tree_sitter_\w+/;var tt,nt,rt,it,ot;class at{static init(){rt=Ke._ts_init(),tt=N(rt,"i32"),nt=N(rt+4,"i32")}initialize(){Ke._ts_parser_new_wasm(),this[0]=N(rt,"i32"),this[1]=N(rt+4,"i32")}delete(){Ke._ts_parser_delete(this[0]),Ke._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let t;if(e){if(e.constructor!==lt)throw new Error("Argument must be a Language");{t=e[0];const n=Ke._ts_language_version(t);if(n<nt||tt<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${nt} through ${tt}.`)}}else t=0,e=null;return this.language=e,Ke._ts_parser_set_language(this[0],t),this}getLanguage(){return this.language}parse(e,t,n){if("string"==typeof e)it=(t,n,r)=>e.slice(t,r);else{if("function"!=typeof e)throw new Error("Argument must be a string or a function");it=e}this.logCallback?(ot=this.logCallback,Ke._ts_parser_enable_logger_wasm(this[0],1)):(ot=null,Ke._ts_parser_enable_logger_wasm(this[0],0));let r=0,i=0;if(n&&n.includedRanges){r=n.includedRanges.length;let e=i=Ke._calloc(r,24);for(let t=0;t<r;t++)Tt(e,n.includedRanges[t]),e+=24}const o=Ke._ts_parser_parse_wasm(this[0],this[1],t?t[0]:0,i,r);if(!o)throw it=null,ot=null,new Error("Parsing failed");const a=new st(Ve,o,this.language,it);return it=null,ot=null,a}reset(){Ke._ts_parser_reset(this[0])}setTimeoutMicros(e){Ke._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return Ke._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if("function"!=typeof e)throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class st{constructor(e,t,n,r){ht(e),this[0]=t,this.language=n,this.textCallback=r}copy(){const e=Ke._ts_tree_copy(this[0]);return new st(Ve,e,this.language,this.textCallback)}delete(){Ke._ts_tree_delete(this[0]),this[0]=0}edit(e){!function(e){let t=rt;bt(t,e.startPosition),bt(t+=8,e.oldEndPosition),bt(t+=8,e.newEndPosition),x(t+=8,e.startIndex,"i32"),x(t+=4,e.oldEndIndex,"i32"),x(t+=4,e.newEndIndex,"i32"),t+=4}(e),Ke._ts_tree_edit_wasm(this[0])}get rootNode(){return Ke._ts_tree_root_node_wasm(this[0]),yt(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==st)throw new TypeError("Argument must be a Tree");Ke._ts_tree_get_changed_ranges_wasm(this[0],e[0]);const t=N(rt,"i32"),n=N(rt+4,"i32"),r=new Array(t);if(t>0){let e=n;for(let n=0;n<t;n++)r[n]=wt(e),e+=24;Ke._free(n)}return r}}class ct{constructor(e,t){ht(e),this.tree=t}get typeId(){return gt(this),Ke._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return gt(this),Ke._ts_node_end_point_wasm(this.tree[0]),Et(rt)}get endIndex(){return gt(this),Ke._ts_node_end_index_wasm(this.tree[0])}get text(){return ft(this.tree,this.startIndex,this.endIndex)}isNamed(){return gt(this),1===Ke._ts_node_is_named_wasm(this.tree[0])}hasError(){return gt(this),1===Ke._ts_node_has_error_wasm(this.tree[0])}hasChanges(){return gt(this),1===Ke._ts_node_has_changes_wasm(this.tree[0])}isMissing(){return gt(this),1===Ke._ts_node_is_missing_wasm(this.tree[0])}equals(e){return this.id===e.id}child(e){return gt(this),Ke._ts_node_child_wasm(this.tree[0],e),yt(this.tree)}namedChild(e){return gt(this),Ke._ts_node_named_child_wasm(this.tree[0],e),yt(this.tree)}childForFieldId(e){return gt(this),Ke._ts_node_child_by_field_id_wasm(this.tree[0],e),yt(this.tree)}childForFieldName(e){const t=this.tree.language.fields.indexOf(e);if(-1!==t)return this.childForFieldId(t)}get childCount(){return gt(this),Ke._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return gt(this),Ke._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){gt(this),Ke._ts_node_children_wasm(this.tree[0]);const e=N(rt,"i32"),t=N(rt+4,"i32");if(this._children=new Array(e),e>0){let n=t;for(let t=0;t<e;t++)this._children[t]=yt(this.tree,n),n+=Qe;Ke._free(t)}}return this._children}get namedChildren(){if(!this._namedChildren){gt(this),Ke._ts_node_named_children_wasm(this.tree[0]);const e=N(rt,"i32"),t=N(rt+4,"i32");if(this._namedChildren=new Array(e),e>0){let n=t;for(let t=0;t<e;t++)this._namedChildren[t]=yt(this.tree,n),n+=Qe;Ke._free(t)}}return this._namedChildren}descendantsOfType(e,t,n){Array.isArray(e)||(e=[e]),t||(t=Ze),n||(n=Ze);const r=[],i=this.tree.language.types;for(let t=0,n=i.length;t<n;t++)e.includes(i[t])&&r.push(t);const o=Ke._malloc(4*r.length);for(let e=0,t=r.length;e<t;e++)x(o+4*e,r[e],"i32");gt(this),Ke._ts_node_descendants_of_type_wasm(this.tree[0],o,r.length,t.row,t.column,n.row,n.column);const a=N(rt,"i32"),s=N(rt+4,"i32"),c=new Array(a);if(a>0){let e=s;for(let t=0;t<a;t++)c[t]=yt(this.tree,e),e+=Qe}return Ke._free(s),Ke._free(o),c}get nextSibling(){return gt(this),Ke._ts_node_next_sibling_wasm(this.tree[0]),yt(this.tree)}get previousSibling(){return gt(this),Ke._ts_node_prev_sibling_wasm(this.tree[0]),yt(this.tree)}get nextNamedSibling(){return gt(this),Ke._ts_node_next_named_sibling_wasm(this.tree[0]),yt(this.tree)}get previousNamedSibling(){return gt(this),Ke._ts_node_prev_named_sibling_wasm(this.tree[0]),yt(this.tree)}get parent(){return gt(this),Ke._ts_node_parent_wasm(this.tree[0]),yt(this.tree)}descendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");gt(this);let n=rt+Qe;return x(n,e,"i32"),x(n+4,t,"i32"),Ke._ts_node_descendant_for_index_wasm(this.tree[0]),yt(this.tree)}namedDescendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");gt(this);let n=rt+Qe;return x(n,e,"i32"),x(n+4,t,"i32"),Ke._ts_node_named_descendant_for_index_wasm(this.tree[0]),yt(this.tree)}descendantForPosition(e,t=e){if(!mt(e)||!mt(t))throw new Error("Arguments must be {row, column} objects");gt(this);let n=rt+Qe;return bt(n,e),bt(n+8,t),Ke._ts_node_descendant_for_position_wasm(this.tree[0]),yt(this.tree)}namedDescendantForPosition(e,t=e){if(!mt(e)||!mt(t))throw new Error("Arguments must be {row, column} objects");gt(this);let n=rt+Qe;return bt(n,e),bt(n+8,t),Ke._ts_node_named_descendant_for_position_wasm(this.tree[0]),yt(this.tree)}walk(){return gt(this),Ke._ts_tree_cursor_new_wasm(this.tree[0]),new ut(Ve,this.tree)}toString(){gt(this);const e=Ke._ts_node_to_string_wasm(this.tree[0]),t=function(e){for(var t="";;){var n=F[e++>>0];if(!n)return t;t+=String.fromCharCode(n)}}(e);return Ke._free(e),t}}class ut{constructor(e,t){ht(e),this.tree=t,vt(this)}delete(){_t(this),Ke._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){gt(e),_t(this,rt+Qe),Ke._ts_tree_cursor_reset_wasm(this.tree[0]),vt(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return _t(this),Ke._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return _t(this),Ke._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return _t(this),1===Ke._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])}get nodeIsMissing(){return _t(this),1===Ke._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])}get nodeText(){_t(this);const e=Ke._ts_tree_cursor_start_index_wasm(this.tree[0]),t=Ke._ts_tree_cursor_end_index_wasm(this.tree[0]);return ft(this.tree,e,t)}get startPosition(){return _t(this),Ke._ts_tree_cursor_start_position_wasm(this.tree[0]),Et(rt)}get endPosition(){return _t(this),Ke._ts_tree_cursor_end_position_wasm(this.tree[0]),Et(rt)}get startIndex(){return _t(this),Ke._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return _t(this),Ke._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return _t(this),Ke._ts_tree_cursor_current_node_wasm(this.tree[0]),yt(this.tree)}currentFieldId(){return _t(this),Ke._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){_t(this);const e=Ke._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return vt(this),1===e}gotoNextSibling(){_t(this);const e=Ke._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return vt(this),1===e}gotoParent(){_t(this);const e=Ke._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return vt(this),1===e}}class lt{constructor(e,t){ht(e),this[0]=t,this.types=new Array(Ke._ts_language_symbol_count(this[0]));for(let e=0,t=this.types.length;e<t;e++)Ke._ts_language_symbol_type(this[0],e)<2&&(this.types[e]=H(Ke._ts_language_symbol_name(this[0],e)));this.fields=new Array(Ke._ts_language_field_count(this[0])+1);for(let e=0,t=this.fields.length;e<t;e++){const t=Ke._ts_language_field_name_for_id(this[0],e);this.fields[e]=0!==t?H(t):null}}get version(){return Ke._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){const t=this.fields.indexOf(e);return-1!==t?t:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,t){const n=Y(e),r=Ke._malloc(n+1);$(e,r,n+1);const i=Ke._ts_language_symbol_for_name(this[0],r,n,t);return Ke._free(r),i||null}get nodeTypeCount(){return Ke._ts_language_symbol_count(this[0])}nodeTypeForId(e){const t=Ke._ts_language_symbol_name(this[0],e);return t?H(t):null}nodeTypeIsNamed(e){return!!Ke._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!Ke._ts_language_type_is_visible_wasm(this[0],e)}query(e){const t=Y(e),n=Ke._malloc(t+1);$(e,n,t+1);const r=Ke._ts_query_new(this[0],n,t,rt,rt+4);if(!r){const t=N(rt+4,"i32"),r=H(n,N(rt,"i32")).length,i=e.substr(r,100).split("\n")[0];let o,a=i.match(Je)[0];switch(t){case 2:o=new RangeError(`Bad node name '${a}'`);break;case 3:o=new RangeError(`Bad field name '${a}'`);break;case 4:o=new RangeError(`Bad capture name @${a}`);break;case 5:o=new TypeError(`Bad pattern structure at offset ${r}: '${i}'...`),a="";break;default:o=new SyntaxError(`Bad syntax at offset ${r}: '${i}'...`),a=""}throw o.index=r,o.length=a.length,Ke._free(n),o}const i=Ke._ts_query_string_count(r),o=Ke._ts_query_capture_count(r),a=Ke._ts_query_pattern_count(r),s=new Array(o),c=new Array(i);for(let e=0;e<o;e++){const t=Ke._ts_query_capture_name_for_id(r,e,rt),n=N(rt,"i32");s[e]=H(t,n)}for(let e=0;e<i;e++){const t=Ke._ts_query_string_value_for_id(r,e,rt),n=N(rt,"i32");c[e]=H(t,n)}const u=new Array(a),l=new Array(a),d=new Array(a),f=new Array(a),p=new Array(a);for(let e=0;e<a;e++){const t=Ke._ts_query_predicates_for_pattern(r,e,rt),n=N(rt,"i32");f[e]=[],p[e]=[];const i=[];let o=t;for(let t=0;t<n;t++){const t=N(o,"i32"),n=N(o+=4,"i32");if(o+=4,1===t)i.push({type:"capture",name:s[n]});else if(2===t)i.push({type:"string",value:c[n]});else if(i.length>0){if("string"!==i[0].type)throw new Error("Predicates must begin with a literal value");const t=i[0].value;let n=!0;switch(t){case"not-eq?":n=!1;case"eq?":if(3!==i.length)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(i.length-1));if("capture"!==i[1].type)throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${i[1].value}"`);if("capture"===i[2].type){const t=i[1].name,r=i[2].name;p[e].push((function(e){let i,o;for(const n of e)n.name===t&&(i=n.node),n.name===r&&(o=n.node);return void 0===i||void 0===o||i.text===o.text===n}))}else{const t=i[1].name,r=i[2].value;p[e].push((function(e){for(const i of e)if(i.name===t)return i.node.text===r===n;return!0}))}break;case"not-match?":n=!1;case"match?":if(3!==i.length)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${i.length-1}.`);if("capture"!==i[1].type)throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${i[1].value}".`);if("string"!==i[2].type)throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${i[2].value}.`);const r=i[1].name,o=new RegExp(i[2].value);p[e].push((function(e){for(const t of e)if(t.name===r)return o.test(t.node.text)===n;return!0}));break;case"set!":if(i.length<2||i.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${i.length-1}.`);if(i.some((e=>"string"!==e.type)))throw new Error('Arguments to `#set!` predicate must be a strings.".');u[e]||(u[e]={}),u[e][i[1].value]=i[2]?i[2].value:null;break;case"is?":case"is-not?":if(i.length<2||i.length>3)throw new Error(`Wrong number of arguments to \`#${t}\` predicate. Expected 1 or 2. Got ${i.length-1}.`);if(i.some((e=>"string"!==e.type)))throw new Error(`Arguments to \`#${t}\` predicate must be a strings.".`);const a="is?"===t?l:d;a[e]||(a[e]={}),a[e][i[1].value]=i[2]?i[2].value:null;break;default:f[e].push({operator:t,operands:i.slice(1)})}i.length=0}}Object.freeze(u[e]),Object.freeze(l[e]),Object.freeze(d[e])}return Ke._free(n),new dt(Ve,r,s,p,f,Object.freeze(u),Object.freeze(l),Object.freeze(d))}static load(e){let t;if(e instanceof Uint8Array)t=Promise.resolve(e);else{const r=e;if("undefined"!=typeof process&&process.versions&&process.versions.node){const e=n(7147);t=Promise.resolve(e.readFileSync(r))}else t=fetch(r).then((e=>e.arrayBuffer().then((t=>{if(e.ok)return new Uint8Array(t);{const n=new TextDecoder("utf-8").decode(t);throw new Error(`Language.load failed with status ${e.status}.\n\n${n}`)}}))))}const r="function"==typeof loadSideModule?loadSideModule:Re;return t.then((e=>r(e,{loadAsync:!0}))).then((e=>{const t=Object.keys(e),n=t.find((e=>et.test(e)&&!e.includes("external_scanner_")));n||console.log(`Couldn't find language function in WASM file. Symbols:\n${JSON.stringify(t,null,2)}`);const r=e[n]();return new lt(Ve,r)}))}}class dt{constructor(e,t,n,r,i,o,a,s){ht(e),this[0]=t,this.captureNames=n,this.textPredicates=r,this.predicates=i,this.setProperties=o,this.assertedProperties=a,this.refutedProperties=s,this.exceededMatchLimit=!1}delete(){Ke._ts_query_delete(this[0]),this[0]=0}matches(e,t,n,r){t||(t=Ze),n||(n=Ze),r||(r={});let i=r.matchLimit;if(void 0===i)i=0;else if("number"!=typeof i)throw new Error("Arguments must be numbers");gt(e),Ke._ts_query_matches_wasm(this[0],e.tree[0],t.row,t.column,n.row,n.column,i);const o=N(rt,"i32"),a=N(rt+4,"i32"),s=N(rt+8,"i32"),c=new Array(o);this.exceededMatchLimit=!!s;let u=0,l=a;for(let t=0;t<o;t++){const n=N(l,"i32"),r=N(l+=4,"i32");l+=4;const i=new Array(r);if(l=pt(this,e.tree,l,i),this.textPredicates[n].every((e=>e(i)))){c[u++]={pattern:n,captures:i};const e=this.setProperties[n];e&&(c[t].setProperties=e);const r=this.assertedProperties[n];r&&(c[t].assertedProperties=r);const o=this.refutedProperties[n];o&&(c[t].refutedProperties=o)}}return c.length=u,Ke._free(a),c}captures(e,t,n,r){t||(t=Ze),n||(n=Ze),r||(r={});let i=r.matchLimit;if(void 0===i)i=0;else if("number"!=typeof i)throw new Error("Arguments must be numbers");gt(e),Ke._ts_query_captures_wasm(this[0],e.tree[0],t.row,t.column,n.row,n.column,i);const o=N(rt,"i32"),a=N(rt+4,"i32"),s=N(rt+8,"i32"),c=[];this.exceededMatchLimit=!!s;const u=[];let l=a;for(let t=0;t<o;t++){const t=N(l,"i32"),n=N(l+=4,"i32"),r=N(l+=4,"i32");if(l+=4,u.length=n,l=pt(this,e.tree,l,u),this.textPredicates[t].every((e=>e(u)))){const e=u[r],n=this.setProperties[t];n&&(e.setProperties=n);const i=this.assertedProperties[t];i&&(e.assertedProperties=i);const o=this.refutedProperties[t];o&&(e.refutedProperties=o),c.push(e)}}return Ke._free(a),c}predicatesForPattern(e){return this.predicates[e]}didExceedMatchLimit(){return this.exceededMatchLimit}}function ft(e,t,n){const r=n-t;let i=e.textCallback(t,null,n);for(t+=i.length;t<n;){const r=e.textCallback(t,null,n);if(!(r&&r.length>0))break;t+=r.length,i+=r}return t>n&&(i=i.slice(0,r)),i}function pt(e,t,n,r){for(let i=0,o=r.length;i<o;i++){const o=N(n,"i32"),a=yt(t,n+=4);n+=Qe,r[i]={name:e.captureNames[o],node:a}}return n}function ht(e){if(e!==Ve)throw new Error("Illegal constructor")}function mt(e){return e&&"number"==typeof e.row&&"number"==typeof e.column}function gt(e){let t=rt;x(t,e.id,"i32"),x(t+=4,e.startIndex,"i32"),x(t+=4,e.startPosition.row,"i32"),x(t+=4,e.startPosition.column,"i32"),x(t+=4,e[0],"i32")}function yt(e,t=rt){const n=N(t,"i32");if(0===n)return null;const r=N(t+=4,"i32"),i=N(t+=4,"i32"),o=N(t+=4,"i32"),a=N(t+=4,"i32"),s=new ct(Ve,e);return s.id=n,s.startIndex=r,s.startPosition={row:i,column:o},s[0]=a,s}function _t(e,t=rt){x(t+0,e[0],"i32"),x(t+4,e[1],"i32"),x(t+8,e[2],"i32")}function vt(e){e[0]=N(rt+0,"i32"),e[1]=N(rt+4,"i32"),e[2]=N(rt+8,"i32")}function bt(e,t){x(e,t.row,"i32"),x(e+4,t.column,"i32")}function Et(e){return{row:N(e,"i32"),column:N(e+4,"i32")}}function Tt(e,t){bt(e,t.startPosition),bt(e+=8,t.endPosition),x(e+=8,t.startIndex,"i32"),x(e+=4,t.endIndex,"i32"),e+=4}function wt(e){const t={};return t.startPosition=Et(e),e+=8,t.endPosition=Et(e),e+=8,t.startIndex=N(e,"i32"),e+=4,t.endIndex=N(e,"i32"),t}for(const e of Object.getOwnPropertyNames(at.prototype))Object.defineProperty(o.prototype,e,{value:at.prototype[e],enumerable:!1,writable:!1});o.Language=lt,r.onRuntimeInitialized=()=>{at.init(),t()}})))}}return o}();e.exports=i},7477:e=>{e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}}},9491:e=>{"use strict";e.exports=require("assert")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";const e=__webpack_require__(433),t=__webpack_require__(6288),n=__webpack_require__(7285);const r=(0,e.createConnection)();console.log=r.console.log.bind(r.console),console.error=r.console.error.bind(r.console);const i=(0,n.default)(r),o=new class{constructor(n,r){this.connection=n,this.languageFeaturesService=r,this.documents=new e.TextDocuments(t.TextDocument),this.connection.onInitialize(r.onInitialize.bind(r)),this.connection.onInitialized(r.onInitialized.bind(r)),this.connection.onCompletion(r.onCompletion.bind(r)),this.connection.onDidChangeConfiguration(r.onDidChangeConfiguration.bind(r)),this.connection.onRequest("ColoringService.colorize",(e=>(r.sendColorizeRequest(e.uri),null))),this.connection.onHover(r.onHover.bind(r)),this.documents.onDidClose(r.onDidClose.bind(r)),this.documents.onDidChangeContent(r.onDidChangeContent.bind(r)),this.documents.onDidSave(r.onDidSave.bind(r)),this.connection.onDefinition(r.onDefinition.bind(r)),this.connection.onDidChangeWatchedFiles(r.onDidChangeWatchedFiles.bind(r))}listen(){this.documents.listen(this.connection),this.connection.listen()}}(r,i);o.listen()})()})();